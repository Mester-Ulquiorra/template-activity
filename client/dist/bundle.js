var tX=Object.create;var{defineProperty:hJ,getPrototypeOf:eX,getOwnPropertyNames:WY,getOwnPropertyDescriptor:J9}=Object,$Y=Object.prototype.hasOwnProperty;var Q9=(J,Q,Y)=>{Y=J!=null?tX(eX(J)):{};const X=Q||!J||!J.__esModule?hJ(Y,"default",{value:J,enumerable:!0}):Y;for(let W of WY(J))if(!$Y.call(X,W))hJ(X,W,{get:()=>J[W],enumerable:!0});return X},dQ=(J)=>{const Q=dQ.moduleCache??=new WeakMap;var Y=Q.get(J);if(Y)return Y;var X=hJ({},"__esModule",{value:!0}),W={enumerable:!1};if(J&&typeof J==="object"||typeof J==="function"){for(let q of WY(J))if(!$Y.call(X,q))hJ(X,q,{get:()=>J[q],enumerable:!(W=J9(J,q))||W.enumerable})}return Q.set(J,X),X};var r0=(J,Q)=>()=>(Q||J((Q={exports:{}}).exports,Q),Q.exports);var Y9=(J,Q)=>{for(var Y in Q)hJ(J,Y,{get:Q[Y],enumerable:!0,configurable:!0,set:(X)=>Q[Y]=()=>X})};var qY=(J,Q)=>()=>(J&&(Q=J(J=0)),Q);var H4={};var w7=qY(()=>{if(!ArrayBuffer.isView)ArrayBuffer.isView=(J)=>{return J!==null&&typeof J==="object"&&J.buffer instanceof ArrayBuffer};if(typeof globalThis==="undefined"&&typeof window!=="undefined")window.globalThis=window});var hQ=r0((N7)=>{Object.defineProperty(N7,"__esModule",{value:!0});N7.ServerError=N7.CloseCode=void 0;var K4;(function(J){J[J.CONSENTED=4000]="CONSENTED",J[J.DEVMODE_RESTART=4010]="DEVMODE_RESTART"})(K4=N7.CloseCode||(N7.CloseCode={}));class L7 extends Error{constructor(J,Q){super(Q);this.name="ServerError",this.code=J}}N7.ServerError=L7});var j7=r0((E7)=>{var _J=function(J,Q){if(this._offset=Q,J instanceof ArrayBuffer)this._buffer=J,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(J))this._buffer=J.buffer,this._view=new DataView(this._buffer,J.byteOffset,J.byteLength);else throw new Error("Invalid argument")},z4=function(J,Q,Y){var X="",W=0;for(var q=Q,K=Q+Y;q<K;q++){var V=J.getUint8(q);if((V&128)===0){X+=String.fromCharCode(V);continue}if((V&224)===192){X+=String.fromCharCode((V&31)<<6|J.getUint8(++q)&63);continue}if((V&240)===224){X+=String.fromCharCode((V&15)<<12|(J.getUint8(++q)&63)<<6|(J.getUint8(++q)&63)<<0);continue}if((V&248)===240){if(W=(V&7)<<18|(J.getUint8(++q)&63)<<12|(J.getUint8(++q)&63)<<6|(J.getUint8(++q)&63)<<0,W>=65536)W-=65536,X+=String.fromCharCode((W>>>10)+55296,(W&1023)+56320);else X+=String.fromCharCode(W);continue}throw new Error("Invalid byte "+V.toString(16))}return X},U4=function(J,Q=0){var Y=new _J(J,Q),X=Y._parse();if(Y._offset!==J.byteLength)throw new Error(J.byteLength-Y._offset+" trailing bytes");return X},F4=function(J,Q,Y){var X=0;for(var W=0,q=Y.length;W<q;W++)if(X=Y.charCodeAt(W),X<128)J.setUint8(Q++,X);else if(X<2048)J.setUint8(Q++,192|X>>6),J.setUint8(Q++,128|X&63);else if(X<55296||X>=57344)J.setUint8(Q++,224|X>>12),J.setUint8(Q++,128|X>>6&63),J.setUint8(Q++,128|X&63);else W++,X=65536+((X&1023)<<10|Y.charCodeAt(W)&1023),J.setUint8(Q++,240|X>>18),J.setUint8(Q++,128|X>>12&63),J.setUint8(Q++,128|X>>6&63),J.setUint8(Q++,128|X&63)},V4=function(J){var Q=0,Y=0;for(var X=0,W=J.length;X<W;X++)if(Q=J.charCodeAt(X),Q<128)Y+=1;else if(Q<2048)Y+=2;else if(Q<55296||Q>=57344)Y+=3;else X++,Y+=4;return Y},PJ=function(J,Q,Y){var X=typeof Y,W=0,q=0,K=0,V=0,F=0,w=0;if(X==="string"){if(F=V4(Y),F<32)J.push(F|160),w=1;else if(F<256)J.push(217,F),w=2;else if(F<65536)J.push(218,F>>8,F),w=3;else if(F<4294967296)J.push(219,F>>24,F>>16,F>>8,F),w=5;else throw new Error("String too long");return Q.push({_str:Y,_length:F,_offset:J.length}),w+F}if(X==="number"){if(Math.floor(Y)!==Y||!isFinite(Y))return J.push(203),Q.push({_float:Y,_length:8,_offset:J.length}),9;if(Y>=0){if(Y<128)return J.push(Y),1;if(Y<256)return J.push(204,Y),2;if(Y<65536)return J.push(205,Y>>8,Y),3;if(Y<4294967296)return J.push(206,Y>>24,Y>>16,Y>>8,Y),5;return K=Y/Math.pow(2,32)>>0,V=Y>>>0,J.push(207,K>>24,K>>16,K>>8,K,V>>24,V>>16,V>>8,V),9}else{if(Y>=-32)return J.push(Y),1;if(Y>=-128)return J.push(208,Y),2;if(Y>=-32768)return J.push(209,Y>>8,Y),3;if(Y>=-2147483648)return J.push(210,Y>>24,Y>>16,Y>>8,Y),5;return K=Math.floor(Y/Math.pow(2,32)),V=Y>>>0,J.push(211,K>>24,K>>16,K>>8,K,V>>24,V>>16,V>>8,V),9}}if(X==="object"){if(Y===null)return J.push(192),1;if(Array.isArray(Y)){if(F=Y.length,F<16)J.push(F|144),w=1;else if(F<65536)J.push(220,F>>8,F),w=3;else if(F<4294967296)J.push(221,F>>24,F>>16,F>>8,F),w=5;else throw new Error("Array too large");for(W=0;W<F;W++)w+=PJ(J,Q,Y[W]);return w}if(Y instanceof Date){var O=Y.getTime(),L=Math.floor(O/1000),_=(O-L*1000)*1e6;if(L>=0&&_>=0&&L<=D4)if(_===0&&L<=M4)return J.push(214,255,L>>24,L>>16,L>>8,L),6;else return K=L/4294967296,V=L&4294967295,J.push(215,255,_>>22,_>>14,_>>6,K,V>>24,V>>16,V>>8,V),10;else return K=Math.floor(L/4294967296),V=L>>>0,J.push(199,12,255,_>>24,_>>16,_>>8,_,K>>24,K>>16,K>>8,K,V>>24,V>>16,V>>8,V),15}if(Y instanceof ArrayBuffer){if(F=Y.byteLength,F<256)J.push(196,F),w=2;else if(F<65536)J.push(197,F>>8,F),w=3;else if(F<4294967296)J.push(198,F>>24,F>>16,F>>8,F),w=5;else throw new Error("Buffer too large");return Q.push({_bin:Y,_length:F,_offset:J.length}),w+F}if(typeof Y.toJSON==="function")return PJ(J,Q,Y.toJSON());var h=[],o="",m=Object.keys(Y);for(W=0,q=m.length;W<q;W++)if(o=m[W],Y[o]!==void 0&&typeof Y[o]!=="function")h.push(o);if(F=h.length,F<16)J.push(F|128),w=1;else if(F<65536)J.push(222,F>>8,F),w=3;else if(F<4294967296)J.push(223,F>>24,F>>16,F>>8,F),w=5;else throw new Error("Object too large");for(W=0;W<F;W++)o=h[W],w+=PJ(J,Q,o),w+=PJ(J,Q,Y[o]);return w}if(X==="boolean")return J.push(Y?195:194),1;if(X==="undefined")return J.push(192),1;if(typeof Y.toJSON==="function")return PJ(J,Q,Y.toJSON());throw new Error("Could not encode")},O4=function(J){var Q=[],Y=[],X=PJ(Q,Y,J),W=new ArrayBuffer(X),q=new DataView(W),K=0,V=0,F=-1;if(Y.length>0)F=Y[0]._offset;var w,O=0,L=0;for(var _=0,h=Q.length;_<h;_++){if(q.setUint8(V+_,Q[_]),_+1!==F)continue;if(w=Y[K],O=w._length,L=V+F,w._bin){var o=new Uint8Array(w._bin);for(var m=0;m<O;m++)q.setUint8(L+m,o[m])}else if(w._str)F4(q,L,w._str);else if(w._float!==void 0)q.setFloat64(L,w._float);if(K++,V+=O,Y[K])F=Y[K]._offset}return W};Object.defineProperty(E7,"__esModule",{value:!0});E7.decode=E7.encode=void 0;_J.prototype._array=function(J){var Q=new Array(J);for(var Y=0;Y<J;Y++)Q[Y]=this._parse();return Q};_J.prototype._map=function(J){var Q="",Y={};for(var X=0;X<J;X++)Q=this._parse(),Y[Q]=this._parse();return Y};_J.prototype._str=function(J){var Q=z4(this._view,this._offset,J);return this._offset+=J,Q};_J.prototype._bin=function(J){var Q=this._buffer.slice(this._offset,this._offset+J);return this._offset+=J,Q};_J.prototype._parse=function(){var J=this._view.getUint8(this._offset++),Q,Y=0,X=0,W=0,q=0;if(J<192){if(J<128)return J;if(J<144)return this._map(J&15);if(J<160)return this._array(J&15);return this._str(J&31)}if(J>223)return(255-J+1)*-1;switch(J){case 192:return null;case 194:return!1;case 195:return!0;case 196:return Y=this._view.getUint8(this._offset),this._offset+=1,this._bin(Y);case 197:return Y=this._view.getUint16(this._offset),this._offset+=2,this._bin(Y);case 198:return Y=this._view.getUint32(this._offset),this._offset+=4,this._bin(Y);case 199:if(Y=this._view.getUint8(this._offset),X=this._view.getInt8(this._offset+1),this._offset+=2,X===-1){var K=this._view.getUint32(this._offset);return W=this._view.getInt32(this._offset+4),q=this._view.getUint32(this._offset+8),this._offset+=12,new Date((W*4294967296+q)*1000+K/1e6)}return[X,this._bin(Y)];case 200:return Y=this._view.getUint16(this._offset),X=this._view.getInt8(this._offset+2),this._offset+=3,[X,this._bin(Y)];case 201:return Y=this._view.getUint32(this._offset),X=this._view.getInt8(this._offset+4),this._offset+=5,[X,this._bin(Y)];case 202:return Q=this._view.getFloat32(this._offset),this._offset+=4,Q;case 203:return Q=this._view.getFloat64(this._offset),this._offset+=8,Q;case 204:return Q=this._view.getUint8(this._offset),this._offset+=1,Q;case 205:return Q=this._view.getUint16(this._offset),this._offset+=2,Q;case 206:return Q=this._view.getUint32(this._offset),this._offset+=4,Q;case 207:return W=this._view.getUint32(this._offset)*Math.pow(2,32),q=this._view.getUint32(this._offset+4),this._offset+=8,W+q;case 208:return Q=this._view.getInt8(this._offset),this._offset+=1,Q;case 209:return Q=this._view.getInt16(this._offset),this._offset+=2,Q;case 210:return Q=this._view.getInt32(this._offset),this._offset+=4,Q;case 211:return W=this._view.getInt32(this._offset)*Math.pow(2,32),q=this._view.getUint32(this._offset+4),this._offset+=8,W+q;case 212:if(X=this._view.getInt8(this._offset),this._offset+=1,X===0){this._offset+=1;return}return[X,this._bin(1)];case 213:return X=this._view.getInt8(this._offset),this._offset+=1,[X,this._bin(2)];case 214:if(X=this._view.getInt8(this._offset),this._offset+=1,X===-1)return Q=this._view.getUint32(this._offset),this._offset+=4,new Date(Q*1000);return[X,this._bin(4)];case 215:if(X=this._view.getInt8(this._offset),this._offset+=1,X===0)return W=this._view.getInt32(this._offset)*Math.pow(2,32),q=this._view.getUint32(this._offset+4),this._offset+=8,new Date(W+q);if(X===-1){W=this._view.getUint32(this._offset),q=this._view.getUint32(this._offset+4),this._offset+=8;var V=(W&3)*4294967296+q;return new Date(V*1000+(W>>>2)/1e6)}return[X,this._bin(8)];case 216:return X=this._view.getInt8(this._offset),this._offset+=1,[X,this._bin(16)];case 217:return Y=this._view.getUint8(this._offset),this._offset+=1,this._str(Y);case 218:return Y=this._view.getUint16(this._offset),this._offset+=2,this._str(Y);case 219:return Y=this._view.getUint32(this._offset),this._offset+=4,this._str(Y);case 220:return Y=this._view.getUint16(this._offset),this._offset+=2,this._array(Y);case 221:return Y=this._view.getUint32(this._offset),this._offset+=4,this._array(Y);case 222:return Y=this._view.getUint16(this._offset),this._offset+=2,this._map(Y);case 223:return Y=this._view.getUint32(this._offset),this._offset+=4,this._map(Y)}throw new Error("Could not parse")};E7.decode=U4;var M4=4294967295,D4=17179869183;E7.encode=O4});var _7=r0((jH,P7)=>{P7.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var k7=r0((SJ)=>{var R4=SJ&&SJ.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(SJ,"__esModule",{value:!0});SJ.WebSocketTransport=void 0;var L4=R4(_7()),S7=globalThis.WebSocket||L4.default;class Z7{constructor(J){this.events=J}send(J){if(J instanceof ArrayBuffer)this.ws.send(J);else if(Array.isArray(J))this.ws.send(new Uint8Array(J).buffer)}connect(J){this.ws=new S7(J,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(J,Q){this.ws.close(J,Q)}get isOpen(){return this.ws.readyState===S7.OPEN}}SJ.WebSocketTransport=Z7});var h7=r0((T7)=>{Object.defineProperty(T7,"__esModule",{value:!0});T7.Connection=void 0;var N4=k7();class I7{constructor(){this.events={},this.transport=new N4.WebSocketTransport(this.events)}send(J){this.transport.send(J)}connect(J){this.transport.connect(J)}close(J,Q){this.transport.close(J,Q)}get isOpen(){return this.transport.isOpen}}T7.Connection=I7});var v5=r0((C7)=>{var A4=function(J,Q){const Y=J[Q++];var X="",W=0;for(var q=Q,K=Q+Y;q<K;q++){var V=J[q];if((V&128)===0){X+=String.fromCharCode(V);continue}if((V&224)===192){X+=String.fromCharCode((V&31)<<6|J[++q]&63);continue}if((V&240)===224){X+=String.fromCharCode((V&15)<<12|(J[++q]&63)<<6|(J[++q]&63)<<0);continue}if((V&248)===240){if(W=(V&7)<<18|(J[++q]&63)<<12|(J[++q]&63)<<6|(J[++q]&63)<<0,W>=65536)W-=65536,X+=String.fromCharCode((W>>>10)+55296,(W&1023)+56320);else X+=String.fromCharCode(W);continue}throw new Error("Invalid byte "+V.toString(16))}return X},j4=function(J=""){let Q=0,Y=0;for(let X=0,W=J.length;X<W;X++)if(Q=J.charCodeAt(X),Q<128)Y+=1;else if(Q<2048)Y+=2;else if(Q<55296||Q>=57344)Y+=3;else X++,Y+=4;return Y+1};Object.defineProperty(C7,"__esModule",{value:!0});C7.utf8Length=C7.utf8Read=C7.ErrorCode=C7.Protocol=void 0;var B4;(function(J){J[J.HANDSHAKE=9]="HANDSHAKE",J[J.JOIN_ROOM=10]="JOIN_ROOM",J[J.ERROR=11]="ERROR",J[J.LEAVE_ROOM=12]="LEAVE_ROOM",J[J.ROOM_DATA=13]="ROOM_DATA",J[J.ROOM_STATE=14]="ROOM_STATE",J[J.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",J[J.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",J[J.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"})(B4=C7.Protocol||(C7.Protocol={}));var E4;(function(J){J[J.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",J[J.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",J[J.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",J[J.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",J[J.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",J[J.AUTH_FAILED=4215]="AUTH_FAILED",J[J.APPLICATION_ERROR=4216]="APPLICATION_ERROR"})(E4=C7.ErrorCode||(C7.ErrorCode={}));C7.utf8Read=A4;C7.utf8Length=j4});var x5=r0((m7)=>{var _4=function(J,Q){g7[J]=Q},S4=function(J){const Q=g7[J];if(!Q)throw new Error("missing serializer: "+J);return Q};Object.defineProperty(m7,"__esModule",{value:!0});m7.getSerializer=m7.registerSerializer=void 0;var g7={};m7.registerSerializer=_4;m7.getSerializer=S4});var C5=r0((p7)=>{Object.defineProperty(p7,"__esModule",{value:!0});p7.createNanoEvents=void 0;var k4=()=>({emit(J,...Q){let Y=this.events[J]||[];for(let X=0,W=Y.length;X<W;X++)Y[X](...Q)},events:{},on(J,Q){var Y;return((Y=this.events[J])===null||Y===void 0?void 0:Y.push(Q))||(this.events[J]=[Q]),()=>{var X;this.events[J]=(X=this.events[J])===null||X===void 0?void 0:X.filter((W)=>Q!==W)}}});p7.createNanoEvents=k4});var d7=r0((c7)=>{var I4=function(){const J=new b5;function Q(Y){return J.register(Y,this===null)}return Q.once=(Y)=>{const X=function(...W){Y.apply(this,W),J.remove(X)};J.register(X)},Q.remove=(Y)=>J.remove(Y),Q.invoke=(...Y)=>J.invoke(...Y),Q.invokeAsync=(...Y)=>J.invokeAsync(...Y),Q.clear=()=>J.clear(),Q};Object.defineProperty(c7,"__esModule",{value:!0});c7.createSignal=c7.EventEmitter=void 0;class b5{constructor(){this.handlers=[]}register(J,Q=!1){return this.handlers.push(J),this}invoke(...J){this.handlers.forEach((Q)=>Q.apply(this,J))}invokeAsync(...J){return Promise.all(this.handlers.map((Q)=>Q.apply(this,J)))}remove(J){const Q=this.handlers.indexOf(J);this.handlers[Q]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}c7.EventEmitter=b5;c7.createSignal=I4});var g5=r0((vQ,n7)=>{(function(J,Q){typeof vQ==="object"&&typeof n7!=="undefined"?Q(vQ):typeof define==="function"&&define.amd?define(["exports"],Q):(J=typeof globalThis!=="undefined"?globalThis:J||self,Q(J.schema={}))})(vQ,function(J){var Q=function(G,$){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,M){H.__proto__=M}||function(H,M){for(var B in M)if(Object.prototype.hasOwnProperty.call(M,B))H[B]=M[B]},Q(G,$)};function Y(G,$){if(typeof $!=="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");Q(G,$);function H(){this.constructor=G}G.prototype=$===null?Object.create($):(H.prototype=$.prototype,new H)}function X(G,$,H,M){var B=arguments.length,I=B<3?$:M===null?M=Object.getOwnPropertyDescriptor($,H):M,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")I=Reflect.decorate(G,$,H,M);else for(var n=G.length-1;n>=0;n--)if(d=G[n])I=(B<3?d(I):B>3?d($,H,I):d($,H))||I;return B>3&&I&&Object.defineProperty($,H,I),I}function W(G,$,H){if(H||arguments.length===2){for(var M=0,B=$.length,I;M<B;M++)if(I||!(M in $)){if(!I)I=Array.prototype.slice.call($,0,M);I[M]=$[M]}}return G.concat(I||Array.prototype.slice.call($))}typeof SuppressedError==="function"&&SuppressedError;var q=255,K=213;J.OPERATION=void 0,function(G){G[G.ADD=128]="ADD",G[G.REPLACE=0]="REPLACE",G[G.DELETE=64]="DELETE",G[G.DELETE_AND_ADD=192]="DELETE_AND_ADD",G[G.TOUCH=1]="TOUCH",G[G.CLEAR=10]="CLEAR"}(J.OPERATION||(J.OPERATION={}));var V=function(){function G($,H,M){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=$,this.setParent(H,M)}return G.prototype.setParent=function($,H,M){var B=this;if(!this.indexes)this.indexes=this.ref instanceof W8?this.ref._definition.indexes:{};if(this.parent=$,this.parentIndex=M,!H)return;if(this.root=H,this.ref instanceof W8){var I=this.ref._definition;for(var d in I.schema){var n=this.ref[d];if(n&&n.$changes){var R0=I.indexes[d];n.$changes.setParent(this.ref,H,R0)}}}else if(typeof this.ref==="object")this.ref.forEach(function(M0,a){if(M0 instanceof W8){var D0=M0.$changes,l=B.ref.$changes.indexes[a];D0.setParent(B.ref,B.root,l)}})},G.prototype.operation=function($){this.changes.set(--this.currentCustomOperation,$)},G.prototype.change=function($,H){if(H===void 0)H=J.OPERATION.ADD;var M=typeof $==="number"?$:this.indexes[$];this.assertValidIndex(M,$);var B=this.changes.get(M);if(!B||B.op===J.OPERATION.DELETE||B.op===J.OPERATION.TOUCH)this.changes.set(M,{op:!B?H:B.op===J.OPERATION.DELETE?J.OPERATION.DELETE_AND_ADD:H,index:M});this.allChanges.add(M),this.changed=!0,this.touchParents()},G.prototype.touch=function($){var H=typeof $==="number"?$:this.indexes[$];if(this.assertValidIndex(H,$),!this.changes.has(H))this.changes.set(H,{op:J.OPERATION.TOUCH,index:H});this.allChanges.add(H),this.touchParents()},G.prototype.touchParents=function(){if(this.parent)this.parent.$changes.touch(this.parentIndex)},G.prototype.getType=function($){if(this.ref._definition){var H=this.ref._definition;return H.schema[H.fieldsByIndex[$]]}else{var H=this.parent._definition,M=H.schema[H.fieldsByIndex[this.parentIndex]];return Object.values(M)[0]}},G.prototype.getChildrenFilter=function(){var $=this.parent._definition.childFilters;return $&&$[this.parentIndex]},G.prototype.getValue=function($){return this.ref.getByIndex($)},G.prototype.delete=function($){var H=typeof $==="number"?$:this.indexes[$];if(H===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat($," (").concat(H,")"));return}var M=this.getValue(H);if(this.changes.set(H,{op:J.OPERATION.DELETE,index:H}),this.allChanges.delete(H),delete this.caches[H],M&&M.$changes)M.$changes.parent=void 0;this.changed=!0,this.touchParents()},G.prototype.discard=function($,H){var M=this;if($===void 0)$=!1;if(H===void 0)H=!1;if(!(this.ref instanceof W8))this.changes.forEach(function(B){if(B.op===J.OPERATION.DELETE){var I=M.ref.getIndex(B.index);delete M.indexes[I]}});if(this.changes.clear(),this.changed=$,H)this.allChanges.clear();this.currentCustomOperation=0},G.prototype.discardAll=function(){var $=this;this.changes.forEach(function(H){var M=$.getValue(H.index);if(M&&M.$changes)M.$changes.discardAll()}),this.discard()},G.prototype.cache=function($,H){this.caches[$]=H},G.prototype.clone=function(){return new G(this.ref,this.parent,this.root)},G.prototype.ensureRefId=function(){if(this.refId!==void 0)return;this.refId=this.root.getNextUniqueId()},G.prototype.assertValidIndex=function($,H){if($===void 0)throw new Error("ChangeTree: missing index for field \"".concat(H,"\""))},G}();function F(G,$,H,M){if(!G[$])G[$]=[];return G[$].push(H),M===null||M===void 0||M.forEach(function(B,I){return H(B,I)}),function(){return O(G[$],G[$].indexOf(H))}}function w(G){var $=this,H=typeof this.$changes.getType()!=="string";this.$items.forEach(function(M,B){if(G.push({refId:$.$changes.refId,op:J.OPERATION.DELETE,field:B,value:void 0,previousValue:M}),H)$.$changes.root.removeRef(M.$changes.refId)})}function O(G,$){if($===-1||$>=G.length)return!1;var H=G.length-1;for(var M=$;M<H;M++)G[M]=G[M+1];return G.length=H,!0}var L=function(G,$){var H=G.toString(),M=$.toString();if(H<M)return-1;else if(H>M)return 1;else return 0};function _(G){return G.$proxy=!0,G=new Proxy(G,{get:function($,H){if(typeof H!=="symbol"&&!isNaN(H))return $.at(H);else return $[H]},set:function($,H,M){if(typeof H!=="symbol"&&!isNaN(H)){var B=Array.from($.$items.keys()),I=parseInt(B[H]||H);if(M===void 0||M===null)$.deleteAt(I);else $.setAt(I,M)}else $[H]=M;return!0},deleteProperty:function($,H){if(typeof H==="number")$.deleteAt(H);else delete $[H];return!0},has:function($,H){if(typeof H!=="symbol"&&!isNaN(Number(H)))return $.$items.has(Number(H));return Reflect.has($,H)}}),G}var h=function(){function G(){var $=[];for(var H=0;H<arguments.length;H++)$[H]=arguments[H];this.$changes=new V(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,$)}return G.prototype.onAdd=function($,H){if(H===void 0)H=!0;return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.ADD,$,H?this.$items:void 0)},G.prototype.onRemove=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.DELETE,$)},G.prototype.onChange=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.REPLACE,$)},G.is=function($){return Array.isArray($)||$.array!==void 0},Object.defineProperty(G.prototype,"length",{get:function(){return this.$items.size},set:function($){if($===0)this.clear();else this.splice($,this.length-$)},enumerable:!1,configurable:!0}),G.prototype.push=function(){var $=this,H=[];for(var M=0;M<arguments.length;M++)H[M]=arguments[M];var B;return H.forEach(function(I){B=$.$refId++,$.setAt(B,I)}),B},G.prototype.pop=function(){var $=Array.from(this.$indexes.values()).pop();if($===void 0)return;this.$changes.delete($),this.$indexes.delete($);var H=this.$items.get($);return this.$items.delete($),H},G.prototype.at=function($){var H=Array.from(this.$items.keys())[$];return this.$items.get(H)},G.prototype.setAt=function($,H){var M,B;if(H===void 0||H===null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get($)===H)return;if(H.$changes!==void 0)H.$changes.setParent(this,this.$changes.root,$);var I=(B=(M=this.$changes.indexes[$])===null||M===void 0?void 0:M.op)!==null&&B!==void 0?B:J.OPERATION.ADD;this.$changes.indexes[$]=$,this.$indexes.set($,$),this.$items.set($,H),this.$changes.change($,I)},G.prototype.deleteAt=function($){var H=Array.from(this.$items.keys())[$];if(H===void 0)return!1;return this.$deleteAt(H)},G.prototype.$deleteAt=function($){return this.$changes.delete($),this.$indexes.delete($),this.$items.delete($)},G.prototype.clear=function($){if(this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),$)w.call(this,$);this.$items.clear(),this.$changes.operation({index:0,op:J.OPERATION.CLEAR}),this.$changes.touchParents()},G.prototype.concat=function(){var $,H=[];for(var M=0;M<arguments.length;M++)H[M]=arguments[M];return new(G.bind.apply(G,W([void 0],($=Array.from(this.$items.values())).concat.apply($,H),!1)))},G.prototype.join=function($){return Array.from(this.$items.values()).join($)},G.prototype.reverse=function(){var $=this,H=Array.from(this.$items.keys()),M=Array.from(this.$items.values()).reverse();return M.forEach(function(B,I){$.setAt(H[I],B)}),this},G.prototype.shift=function(){var $=Array.from(this.$items.keys()),H=$.shift();if(H===void 0)return;var M=this.$items.get(H);return this.$deleteAt(H),M},G.prototype.slice=function($,H){var M=new G;return M.push.apply(M,Array.from(this.$items.values()).slice($,H)),M},G.prototype.sort=function($){var H=this;if($===void 0)$=L;var M=Array.from(this.$items.keys()),B=Array.from(this.$items.values()).sort($);return B.forEach(function(I,d){H.setAt(M[d],I)}),this},G.prototype.splice=function($,H){if(H===void 0)H=this.length-$;var M=[];for(var B=2;B<arguments.length;B++)M[B-2]=arguments[B];var I=Array.from(this.$items.keys()),d=[];for(var n=$;n<$+H;n++)d.push(this.$items.get(I[n])),this.$deleteAt(I[n]);for(var n=0;n<M.length;n++)this.setAt($+n,M[n]);return d},G.prototype.unshift=function(){var $=this,H=[];for(var M=0;M<arguments.length;M++)H[M]=arguments[M];var B=this.length,I=H.length,d=Array.from(this.$items.values());return H.forEach(function(n,R0){$.setAt(R0,n)}),d.forEach(function(n,R0){$.setAt(I+R0,n)}),B+I},G.prototype.indexOf=function($,H){return Array.from(this.$items.values()).indexOf($,H)},G.prototype.lastIndexOf=function($,H){if(H===void 0)H=this.length-1;return Array.from(this.$items.values()).lastIndexOf($,H)},G.prototype.every=function($,H){return Array.from(this.$items.values()).every($,H)},G.prototype.some=function($,H){return Array.from(this.$items.values()).some($,H)},G.prototype.forEach=function($,H){Array.from(this.$items.values()).forEach($,H)},G.prototype.map=function($,H){return Array.from(this.$items.values()).map($,H)},G.prototype.filter=function($,H){return Array.from(this.$items.values()).filter($,H)},G.prototype.reduce=function($,H){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},G.prototype.reduceRight=function($,H){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},G.prototype.find=function($,H){return Array.from(this.$items.values()).find($,H)},G.prototype.findIndex=function($,H){return Array.from(this.$items.values()).findIndex($,H)},G.prototype.fill=function($,H,M){throw new Error("ArraySchema#fill() not implemented")},G.prototype.copyWithin=function($,H,M){throw new Error("ArraySchema#copyWithin() not implemented")},G.prototype.toString=function(){return this.$items.toString()},G.prototype.toLocaleString=function(){return this.$items.toLocaleString()},G.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(G,Symbol.species,{get:function(){return G},enumerable:!1,configurable:!0}),G.prototype.entries=function(){return this.$items.entries()},G.prototype.keys=function(){return this.$items.keys()},G.prototype.values=function(){return this.$items.values()},G.prototype.includes=function($,H){return Array.from(this.$items.values()).includes($,H)},G.prototype.flatMap=function($,H){throw new Error("ArraySchema#flatMap() is not supported.")},G.prototype.flat=function($){throw new Error("ArraySchema#flat() is not supported.")},G.prototype.findLast=function(){var $=Array.from(this.$items.values());return $.findLast.apply($,arguments)},G.prototype.findLastIndex=function(){var $=Array.from(this.$items.values());return $.findLastIndex.apply($,arguments)},G.prototype.with=function($,H){var M=Array.from(this.$items.values());return M[$]=H,new(G.bind.apply(G,W([void 0],M,!1)))},G.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},G.prototype.toSorted=function($){return Array.from(this.$items.values()).sort($)},G.prototype.toSpliced=function($,H){var M=Array.from(this.$items.values());return M.toSpliced.apply(M,arguments)},G.prototype.setIndex=function($,H){this.$indexes.set($,H)},G.prototype.getIndex=function($){return this.$indexes.get($)},G.prototype.getByIndex=function($){return this.$items.get(this.$indexes.get($))},G.prototype.deleteByIndex=function($){var H=this.$indexes.get($);this.$items.delete(H),this.$indexes.delete($)},G.prototype.toArray=function(){return Array.from(this.$items.values())},G.prototype.toJSON=function(){return this.toArray().map(function($){return typeof $.toJSON==="function"?$.toJSON():$})},G.prototype.clone=function($){var H;if($)H=new(G.bind.apply(G,W([void 0],Array.from(this.$items.values()),!1)));else H=new(G.bind.apply(G,W([void 0],this.map(function(M){return M.$changes?M.clone():M}),!1)));return H},G}();function o(G){return G.$proxy=!0,G=new Proxy(G,{get:function($,H){if(typeof H!=="symbol"&&typeof $[H]==="undefined")return $.get(H);else return $[H]},set:function($,H,M){if(typeof H!=="symbol"&&(H.indexOf("$")===-1&&H!=="onAdd"&&H!=="onRemove"&&H!=="onChange"))$.set(H,M);else $[H]=M;return!0},deleteProperty:function($,H){return $.delete(H),!0}}),G}var m=function(){function G($){var H=this;if(this.$changes=new V(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,$)if($ instanceof Map||$ instanceof G)$.forEach(function(B,I){return H.set(I,B)});else for(var M in $)this.set(M,$[M])}return G.prototype.onAdd=function($,H){if(H===void 0)H=!0;return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.ADD,$,H?this.$items:void 0)},G.prototype.onRemove=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.DELETE,$)},G.prototype.onChange=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.REPLACE,$)},G.is=function($){return $.map!==void 0},G.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(G.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(G,Symbol.species,{get:function(){return G},enumerable:!1,configurable:!0}),G.prototype.set=function($,H){if(H===void 0||H===null)throw new Error("MapSchema#set('".concat($,"', ").concat(H,"): trying to set ").concat(H," value on '").concat($,"'."));$=$.toString();var M=typeof this.$changes.indexes[$]!=="undefined",B=M?this.$changes.indexes[$]:this.$refId++,I=M?J.OPERATION.REPLACE:J.OPERATION.ADD,d=H.$changes!==void 0;if(d)H.$changes.setParent(this,this.$changes.root,B);if(!M)this.$changes.indexes[$]=B,this.$indexes.set(B,$);else if(!d&&this.$items.get($)===H)return;else if(d&&this.$items.get($)!==H)I=J.OPERATION.ADD;return this.$items.set($,H),this.$changes.change($,I),this},G.prototype.get=function($){return this.$items.get($)},G.prototype.delete=function($){return this.$changes.delete($.toString()),this.$items.delete($)},G.prototype.clear=function($){if(this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),$)w.call(this,$);this.$items.clear(),this.$changes.operation({index:0,op:J.OPERATION.CLEAR}),this.$changes.touchParents()},G.prototype.has=function($){return this.$items.has($)},G.prototype.forEach=function($){this.$items.forEach($)},G.prototype.entries=function(){return this.$items.entries()},G.prototype.keys=function(){return this.$items.keys()},G.prototype.values=function(){return this.$items.values()},Object.defineProperty(G.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),G.prototype.setIndex=function($,H){this.$indexes.set($,H)},G.prototype.getIndex=function($){return this.$indexes.get($)},G.prototype.getByIndex=function($){return this.$items.get(this.$indexes.get($))},G.prototype.deleteByIndex=function($){var H=this.$indexes.get($);this.$items.delete(H),this.$indexes.delete($)},G.prototype.toJSON=function(){var $={};return this.forEach(function(H,M){$[M]=typeof H.toJSON==="function"?H.toJSON():H}),$},G.prototype.clone=function($){var H;if($)H=Object.assign(new G,this);else H=new G,this.forEach(function(M,B){if(M.$changes)H.set(B,M.clone());else H.set(B,M)});return H},G}(),b={};function A0(G,$){b[G]=$}function H0(G){return b[G]}var V0=function(){function G(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return G.create=function($){var H=new G;return H.schema=Object.assign({},$&&$.schema||{}),H.indexes=Object.assign({},$&&$.indexes||{}),H.fieldsByIndex=Object.assign({},$&&$.fieldsByIndex||{}),H.descriptors=Object.assign({},$&&$.descriptors||{}),H.deprecated=Object.assign({},$&&$.deprecated||{}),H},G.prototype.addField=function($,H){var M=this.getNextFieldIndex();this.fieldsByIndex[M]=$,this.indexes[$]=M,this.schema[$]=Array.isArray(H)?{array:H[0]}:H},G.prototype.hasField=function($){return this.indexes[$]!==void 0},G.prototype.addFilter=function($,H){if(!this.filters)this.filters={},this.indexesWithFilters=[];return this.filters[this.indexes[$]]=H,this.indexesWithFilters.push(this.indexes[$]),!0},G.prototype.addChildrenFilter=function($,H){var M=this.indexes[$],B=this.schema[$];if(H0(Object.keys(B)[0])){if(!this.childFilters)this.childFilters={};return this.childFilters[M]=H,!0}else console.warn("@filterChildren: field '".concat($,"' can't have children. Ignoring filter."))},G.prototype.getChildrenFilter=function($){return this.childFilters&&this.childFilters[this.indexes[$]]},G.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},G}();function y0(G){return G._context&&G._context.useFilters}var k0=function(){function G(){this.types={},this.schemas=new Map,this.useFilters=!1}return G.prototype.has=function($){return this.schemas.has($)},G.prototype.get=function($){return this.types[$]},G.prototype.add=function($,H){if(H===void 0)H=this.schemas.size;$._definition=V0.create($._definition),$._typeid=H,this.types[H]=$,this.schemas.set($,H)},G.create=function($){if($===void 0)$={};return function(H){if(!$.context)$.context=new G;return S0(H,$)}},G}(),t0=new k0;function S0(G,$){if($===void 0)$={};return function(H,M){var B=$.context||t0,I=H.constructor;if(I._context=B,!G)throw new Error("".concat(I.name,": @type() reference provided for \"").concat(M,"\" is undefined. Make sure you don't have any circular dependencies."));if(!B.has(I))B.add(I);var d=I._definition;if(d.addField(M,G),d.descriptors[M])if(d.deprecated[M])return;else try{throw new Error("@colyseus/schema: Duplicate '".concat(M,"' definition on '").concat(I.name,"'.\nCheck @type() annotation"))}catch(l){var n=l.stack.split("\n")[4].trim();throw new Error("".concat(l.message," ").concat(n))}var R0=h.is(G),M0=!R0&&m.is(G);if(typeof G!=="string"&&!W8.is(G)){var a=Object.values(G)[0];if(typeof a!=="string"&&!B.has(a))B.add(a)}if($.manual){d.descriptors[M]={enumerable:!0,configurable:!0,writable:!0};return}var D0="_".concat(M);d.descriptors[D0]={enumerable:!1,configurable:!1,writable:!0},d.descriptors[M]={get:function(){return this[D0]},set:function(l){if(l===this[D0])return;if(l!==void 0&&l!==null){if(R0&&!(l instanceof h))l=new(h.bind.apply(h,W([void 0],l,!1)));if(M0&&!(l instanceof m))l=new m(l);if(l.$proxy===void 0){if(M0)l=o(l);else if(R0)l=_(l)}if(this.$changes.change(M),l.$changes)l.$changes.setParent(this,this.$changes.root,this._definition.indexes[M])}else if(this[D0])this.$changes.delete(M);this[D0]=l},enumerable:!0,configurable:!0}}}function M8(G){return function($,H){var M=$.constructor,B=M._definition;if(B.addFilter(H,G))M._context.useFilters=!0}}function L8(G){return function($,H){var M=$.constructor,B=M._definition;if(B.addChildrenFilter(H,G))M._context.useFilters=!0}}function V8(G){if(G===void 0)G=!0;return function($,H){var M=$.constructor,B=M._definition;if(B.deprecated[H]=!0,G)B.descriptors[H]={get:function(){throw new Error("".concat(H," is deprecated."))},set:function(I){},enumerable:!1,configurable:!0}}}function e0(G,$,H){if(H===void 0)H={};if(!H.context)H.context=G._context||H.context||t0;for(var M in $)S0($[M],H)(G.prototype,M);return G}function Z0(G){var $=0,H=0;for(var M=0,B=G.length;M<B;M++)if($=G.charCodeAt(M),$<128)H+=1;else if($<2048)H+=2;else if($<55296||$>=57344)H+=3;else M++,H+=4;return H}function XJ(G,$,H){var M=0;for(var B=0,I=H.length;B<I;B++)if(M=H.charCodeAt(B),M<128)G[$++]=M;else if(M<2048)G[$++]=192|M>>6,G[$++]=128|M&63;else if(M<55296||M>=57344)G[$++]=224|M>>12,G[$++]=128|M>>6&63,G[$++]=128|M&63;else B++,M=65536+((M&1023)<<10|H.charCodeAt(B)&1023),G[$++]=240|M>>18,G[$++]=128|M>>12&63,G[$++]=128|M>>6&63,G[$++]=128|M&63}function x1(G,$){G.push($&255)}function c0(G,$){G.push($&255)}function WJ(G,$){G.push($&255),G.push($>>8&255)}function C1(G,$){G.push($&255),G.push($>>8&255)}function u8(G,$){G.push($&255),G.push($>>8&255),G.push($>>16&255),G.push($>>24&255)}function J8(G,$){var H=$>>24,M=$>>16,B=$>>8,I=$;G.push(I&255),G.push(B&255),G.push(M&255),G.push(H&255)}function j8(G,$){var H=Math.floor($/Math.pow(2,32)),M=$>>>0;J8(G,M),J8(G,H)}function b1(G,$){var H=$/Math.pow(2,32)>>0,M=$>>>0;J8(G,M),J8(G,H)}function g1(G,$){R1(G,$)}function N8(G,$){E0(G,$)}var B8=new Int32Array(2),h8=new Float32Array(B8.buffer),$J=new Float64Array(B8.buffer);function R1(G,$){h8[0]=$,u8(G,B8[0])}function E0(G,$){$J[0]=$,u8(G,B8[0]),u8(G,B8[1])}function qJ(G,$){return c0(G,$?1:0)}function v8(G,$){if(!$)$="";var H=Z0($),M=0;if(H<32)G.push(H|160),M=1;else if(H<256)G.push(217),c0(G,H),M=2;else if(H<65536)G.push(218),C1(G,H),M=3;else if(H<4294967296)G.push(219),J8(G,H),M=5;else throw new Error("String too long");return XJ(G,G.length,$),M+H}function h0(G,$){if(isNaN($))return h0(G,0);else if(!isFinite($))return h0(G,$>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);else if($!==($|0))return G.push(203),E0(G,$),9;if($>=0){if($<128)return c0(G,$),1;if($<256)return G.push(204),c0(G,$),2;if($<65536)return G.push(205),C1(G,$),3;if($<4294967296)return G.push(206),J8(G,$),5;return G.push(207),b1(G,$),9}else{if($>=-32)return G.push(224|$+32),1;if($>=-128)return G.push(208),x1(G,$),2;if($>=-32768)return G.push(209),WJ(G,$),3;if($>=-2147483648)return G.push(210),u8(G,$),5;return G.push(211),j8(G,$),9}}var $1=Object.freeze({__proto__:null,utf8Write:XJ,int8:x1,uint8:c0,int16:WJ,uint16:C1,int32:u8,uint32:J8,int64:j8,uint64:b1,float32:g1,float64:N8,writeFloat32:R1,writeFloat64:E0,boolean:qJ,string:v8,number:h0});function L1(G,$,H){var M="",B=0;for(var I=$,d=$+H;I<d;I++){var n=G[I];if((n&128)===0){M+=String.fromCharCode(n);continue}if((n&224)===192){M+=String.fromCharCode((n&31)<<6|G[++I]&63);continue}if((n&240)===224){M+=String.fromCharCode((n&15)<<12|(G[++I]&63)<<6|(G[++I]&63)<<0);continue}if((n&248)===240){if(B=(n&7)<<18|(G[++I]&63)<<12|(G[++I]&63)<<6|(G[++I]&63)<<0,B>=65536)B-=65536,M+=String.fromCharCode((B>>>10)+55296,(B&1023)+56320);else M+=String.fromCharCode(B);continue}console.error("Invalid byte "+n.toString(16))}return M}function m1(G,$){return c8(G,$)<<24>>24}function c8(G,$){return G[$.offset++]}function y1(G,$){return q1(G,$)<<16>>16}function q1(G,$){return G[$.offset++]|G[$.offset++]<<8}function P8(G,$){return G[$.offset++]|G[$.offset++]<<8|G[$.offset++]<<16|G[$.offset++]<<24}function l8(G,$){return P8(G,$)>>>0}function G1(G,$){return D(G,$)}function GJ(G,$){return N(G,$)}function p1(G,$){var H=l8(G,$),M=P8(G,$)*Math.pow(2,32);return M+H}function HJ(G,$){var H=l8(G,$),M=l8(G,$)*Math.pow(2,32);return M+H}var t=new Int32Array(2),x8=new Float32Array(t.buffer),z=new Float64Array(t.buffer);function D(G,$){return t[0]=P8(G,$),x8[0]}function N(G,$){return t[0]=P8(G,$),t[1]=P8(G,$),z[0]}function j(G,$){return c8(G,$)>0}function S(G,$){var H=G[$.offset++],M;if(H<192)M=H&31;else if(H===217)M=c8(G,$);else if(H===218)M=q1(G,$);else if(H===219)M=l8(G,$);var B=L1(G,$.offset,M);return $.offset+=M,B}function P(G,$){var H=G[$.offset];return H<192&&H>160||H===217||H===218||H===219}function k(G,$){var H=G[$.offset++];if(H<128)return H;else if(H===202)return D(G,$);else if(H===203)return N(G,$);else if(H===204)return c8(G,$);else if(H===205)return q1(G,$);else if(H===206)return l8(G,$);else if(H===207)return HJ(G,$);else if(H===208)return m1(G,$);else if(H===209)return y1(G,$);else if(H===210)return P8(G,$);else if(H===211)return p1(G,$);else if(H>223)return(255-H+1)*-1}function T(G,$){var H=G[$.offset];return H<128||H>=202&&H<=211}function f(G,$){return G[$.offset]<160}function e(G,$){return G[$.offset-1]===q&&(G[$.offset]<128||G[$.offset]>=202&&G[$.offset]<=211)}var O0=Object.freeze({__proto__:null,int8:m1,uint8:c8,int16:y1,uint16:q1,int32:P8,uint32:l8,float32:G1,float64:GJ,int64:p1,uint64:HJ,readFloat32:D,readFloat64:N,boolean:j,string:S,stringCheck:P,number:k,numberCheck:T,arrayCheck:f,switchStructureCheck:e}),Q0=function(){function G($){var H=this;if(this.$changes=new V(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,$)$.forEach(function(M){return H.add(M)})}return G.prototype.onAdd=function($,H){if(H===void 0)H=!0;return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.ADD,$,H?this.$items:void 0)},G.prototype.onRemove=function($){return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.DELETE,$)},G.prototype.onChange=function($){return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.REPLACE,$)},G.is=function($){return $.collection!==void 0},G.prototype.add=function($){var H=this.$refId++,M=$.$changes!==void 0;if(M)$.$changes.setParent(this,this.$changes.root,H);return this.$changes.indexes[H]=H,this.$indexes.set(H,H),this.$items.set(H,$),this.$changes.change(H),H},G.prototype.at=function($){var H=Array.from(this.$items.keys())[$];return this.$items.get(H)},G.prototype.entries=function(){return this.$items.entries()},G.prototype.delete=function($){var H=this.$items.entries(),M,B;while(B=H.next()){if(B.done)break;if($===B.value[1]){M=B.value[0];break}}if(M===void 0)return!1;return this.$changes.delete(M),this.$indexes.delete(M),this.$items.delete(M)},G.prototype.clear=function($){if(this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),$)w.call(this,$);this.$items.clear(),this.$changes.operation({index:0,op:J.OPERATION.CLEAR}),this.$changes.touchParents()},G.prototype.has=function($){return Array.from(this.$items.values()).some(function(H){return H===$})},G.prototype.forEach=function($){var H=this;this.$items.forEach(function(M,B,I){return $(M,B,H)})},G.prototype.values=function(){return this.$items.values()},Object.defineProperty(G.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),G.prototype.setIndex=function($,H){this.$indexes.set($,H)},G.prototype.getIndex=function($){return this.$indexes.get($)},G.prototype.getByIndex=function($){return this.$items.get(this.$indexes.get($))},G.prototype.deleteByIndex=function($){var H=this.$indexes.get($);this.$items.delete(H),this.$indexes.delete($)},G.prototype.toArray=function(){return Array.from(this.$items.values())},G.prototype.toJSON=function(){var $=[];return this.forEach(function(H,M){$.push(typeof H.toJSON==="function"?H.toJSON():H)}),$},G.prototype.clone=function($){var H;if($)H=Object.assign(new G,this);else H=new G,this.forEach(function(M){if(M.$changes)H.add(M.clone());else H.add(M)});return H},G}(),w0=function(){function G($){var H=this;if(this.$changes=new V(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,$)$.forEach(function(M){return H.add(M)})}return G.prototype.onAdd=function($,H){if(H===void 0)H=!0;return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.ADD,$,H?this.$items:void 0)},G.prototype.onRemove=function($){return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.DELETE,$)},G.prototype.onChange=function($){return F(this.$callbacks||(this.$callbacks=[]),J.OPERATION.REPLACE,$)},G.is=function($){return $.set!==void 0},G.prototype.add=function($){var H,M;if(this.has($))return!1;var B=this.$refId++;if($.$changes!==void 0)$.$changes.setParent(this,this.$changes.root,B);var I=(M=(H=this.$changes.indexes[B])===null||H===void 0?void 0:H.op)!==null&&M!==void 0?M:J.OPERATION.ADD;return this.$changes.indexes[B]=B,this.$indexes.set(B,B),this.$items.set(B,$),this.$changes.change(B,I),B},G.prototype.entries=function(){return this.$items.entries()},G.prototype.delete=function($){var H=this.$items.entries(),M,B;while(B=H.next()){if(B.done)break;if($===B.value[1]){M=B.value[0];break}}if(M===void 0)return!1;return this.$changes.delete(M),this.$indexes.delete(M),this.$items.delete(M)},G.prototype.clear=function($){if(this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),$)w.call(this,$);this.$items.clear(),this.$changes.operation({index:0,op:J.OPERATION.CLEAR}),this.$changes.touchParents()},G.prototype.has=function($){var H=this.$items.values(),M=!1,B;while(B=H.next()){if(B.done)break;if($===B.value){M=!0;break}}return M},G.prototype.forEach=function($){var H=this;this.$items.forEach(function(M,B,I){return $(M,B,H)})},G.prototype.values=function(){return this.$items.values()},Object.defineProperty(G.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),G.prototype.setIndex=function($,H){this.$indexes.set($,H)},G.prototype.getIndex=function($){return this.$indexes.get($)},G.prototype.getByIndex=function($){return this.$items.get(this.$indexes.get($))},G.prototype.deleteByIndex=function($){var H=this.$indexes.get($);this.$items.delete(H),this.$indexes.delete($)},G.prototype.toArray=function(){return Array.from(this.$items.values())},G.prototype.toJSON=function(){var $=[];return this.forEach(function(H,M){$.push(typeof H.toJSON==="function"?H.toJSON():H)}),$},G.prototype.clone=function($){var H;if($)H=Object.assign(new G,this);else H=new G,this.forEach(function(M){if(M.$changes)H.add(M.clone());else H.add(M)});return H},G}(),Q8=function(){function G(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return G.prototype.addRefId=function($){if(!this.refIds.has($))this.refIds.add($),this.containerIndexes.set($,new Set)},G.get=function($){if($.$filterState===void 0)$.$filterState=new G;return $.$filterState},G}(),i0=function(){function G(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return G.prototype.getNextUniqueId=function(){return this.nextUniqueId++},G.prototype.addRef=function($,H,M){if(M===void 0)M=!0;if(this.refs.set($,H),M)this.refCounts[$]=(this.refCounts[$]||0)+1},G.prototype.removeRef=function($){var H=this.refCounts[$];if(H===void 0){console.warn("trying to remove reference ".concat($," that doesn't exist"));return}if(H===0){console.warn("trying to remove reference ".concat($," with 0 refCount"));return}this.refCounts[$]=H-1,this.deletedRefs.add($)},G.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},G.prototype.garbageCollectDeletedRefs=function(){var $=this;this.deletedRefs.forEach(function(H){if($.refCounts[H]>0)return;var M=$.refs.get(H);if(M instanceof W8){for(var B in M._definition.schema)if(typeof M._definition.schema[B]!=="string"&&M[B]&&M[B].$changes)$.removeRef(M[B].$changes.refId)}else{var I=M.$changes.parent._definition,d=I.schema[I.fieldsByIndex[M.$changes.parentIndex]];if(typeof Object.values(d)[0]==="function")Array.from(M.values()).forEach(function(n){return $.removeRef(n.$changes.refId)})}$.refs.delete(H),delete $.refCounts[H]}),this.deletedRefs.clear()},G}(),H1=function(G){Y($,G);function $(){return G!==null&&G.apply(this,arguments)||this}return $}(Error);function u1(G,$,H,M){var B,I=!1;switch($){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":if(B="number",isNaN(G))console.log("trying to encode \"NaN\" in ".concat(H.constructor.name,"#").concat(M));break;case"string":B="string",I=!0;break;case"boolean":return}if(typeof G!==B&&(!I||I&&G!==null)){var d="'".concat(JSON.stringify(G),"'").concat(G&&G.constructor&&" (".concat(G.constructor.name,")")||"");throw new H1("a '".concat(B,"' was expected, but ").concat(d," was provided in ").concat(H.constructor.name,"#").concat(M))}}function YQ(G,$,H,M){if(!(G instanceof $))throw new H1("a '".concat($.name,"' was expected, but '").concat(G.constructor.name,"' was provided in ").concat(H.constructor.name,"#").concat(M))}function kJ(G,$,H,M,B){u1(H,G,M,B);var I=$1[G];if(I)I($,H);else throw new H1("a '".concat(G,"' was expected, but ").concat(H," was provided in ").concat(M.constructor.name,"#").concat(B))}function c1(G,$,H){return O0[G]($,H)}var W8=function(){function G(){var $=[];for(var H=0;H<arguments.length;H++)$[H]=arguments[H];Object.defineProperties(this,{$changes:{value:new V(this,void 0,new i0),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var M=this._definition.descriptors;if(M)Object.defineProperties(this,M);if($[0])this.assign($[0])}return G.onError=function($){console.error($)},G.is=function($){return $._definition&&$._definition.schema!==void 0},G.prototype.onChange=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.REPLACE,$)},G.prototype.onRemove=function($){return F(this.$callbacks||(this.$callbacks={}),J.OPERATION.DELETE,$)},G.prototype.assign=function($){return Object.assign(this,$),this},Object.defineProperty(G.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),G.prototype.setDirty=function($,H){this.$changes.change($,H)},G.prototype.listen=function($,H,M){var B=this;if(M===void 0)M=!0;if(!this.$callbacks)this.$callbacks={};if(!this.$callbacks[$])this.$callbacks[$]=[];if(this.$callbacks[$].push(H),M&&this[$]!==void 0)H(this[$],void 0);return function(){return O(B.$callbacks[$],B.$callbacks[$].indexOf(H))}},G.prototype.decode=function($,H,M){if(H===void 0)H={offset:0};if(M===void 0)M=this;var B=[],I=this.$changes.root,d=$.length,n=0;I.refs.set(n,this);while(H.offset<d){var R0=$[H.offset++];if(R0==q){n=k($,H);var M0=I.refs.get(n);if(!M0)throw new Error("\"refId\" not found: ".concat(n));M=M0;continue}var a=M.$changes,D0=M._definition!==void 0,l=D0?R0>>6<<6:R0;if(l===J.OPERATION.CLEAR){M.clear(B);continue}var U0=D0?R0%(l||255):k($,H),W0=D0?M._definition.fieldsByIndex[U0]:"",G0=a.getType(U0),C=void 0,L0=void 0,x0=void 0;if(!D0)if(L0=M.getByIndex(U0),(l&J.OPERATION.ADD)===J.OPERATION.ADD)x0=M instanceof m?S($,H):U0,M.setIndex(U0,x0);else x0=M.getIndex(U0);else L0=M["_".concat(W0)];if((l&J.OPERATION.DELETE)===J.OPERATION.DELETE){if(l!==J.OPERATION.DELETE_AND_ADD)M.deleteByIndex(U0);if(L0&&L0.$changes)I.removeRef(L0.$changes.refId);C=null}if(W0===void 0){console.warn("@colyseus/schema: definition mismatch");var b0={offset:H.offset};while(H.offset<d){if(e($,H)){if(b0.offset=H.offset+1,I.refs.has(k($,b0)))break}H.offset++}continue}else if(l===J.OPERATION.DELETE);else if(G.is(G0)){var F0=k($,H);if(C=I.refs.get(F0),l!==J.OPERATION.REPLACE){var N0=this.getSchemaType($,H,G0);if(!C){if(C=this.createTypeInstance(N0),C.$changes.refId=F0,L0){if(C.$callbacks=L0.$callbacks,L0.$changes.refId&&F0!==L0.$changes.refId)I.removeRef(L0.$changes.refId)}}I.addRef(F0,C,C!==L0)}}else if(typeof G0==="string")C=c1(G0,$,H);else{var d8=H0(Object.keys(G0)[0]),n8=k($,H),$8=I.refs.has(n8)?L0||I.refs.get(n8):new d8.constructor;if(C=$8.clone(!0),C.$changes.refId=n8,L0){if(C.$callbacks=L0.$callbacks,L0.$changes.refId&&n8!==L0.$changes.refId){I.removeRef(L0.$changes.refId);var d0=L0.entries(),u0=void 0;while((u0=d0.next())&&!u0.done){var O8=u0.value,b8=O8[0],fJ=O8[1];B.push({refId:n8,op:J.OPERATION.DELETE,field:b8,value:void 0,previousValue:fJ})}}}I.addRef(n8,C,$8!==L0)}if(C!==null&&C!==void 0){if(C.$changes)C.$changes.setParent(a.ref,a.root,U0);if(M instanceof G)M[W0]=C;else if(M instanceof m){var b8=x0;M.$items.set(b8,C),M.$changes.allChanges.add(U0)}else if(M instanceof h)M.setAt(U0,C);else if(M instanceof Q0){var i8=M.add(C);M.setIndex(U0,i8)}else if(M instanceof w0){var i8=M.add(C);if(i8!==!1)M.setIndex(U0,i8)}}if(L0!==C)B.push({refId:n,op:l,field:W0,dynamicIndex:x0,value:C,previousValue:L0})}return this._triggerChanges(B),I.garbageCollectDeletedRefs(),B},G.prototype.encode=function($,H,M){if($===void 0)$=!1;if(H===void 0)H=[];if(M===void 0)M=!1;var B=this.$changes,I=new WeakSet,d=[B],n=1;for(var R0=0;R0<n;R0++){var M0=d[R0],a=M0.ref,D0=a instanceof G;if(M0.ensureRefId(),I.add(M0),M0!==B&&(M0.changed||$))c0(H,q),h0(H,M0.refId);var l=$?Array.from(M0.allChanges):Array.from(M0.changes.values());for(var U0=0,W0=l.length;U0<W0;U0++){var G0=$?{op:J.OPERATION.ADD,index:l[U0]}:l[U0],C=G0.index,L0=D0?a._definition.fieldsByIndex&&a._definition.fieldsByIndex[C]:C,x0=H.length;if(G0.op!==J.OPERATION.TOUCH)if(D0)c0(H,C|G0.op);else{if(c0(H,G0.op),G0.op===J.OPERATION.CLEAR)continue;h0(H,C)}if(!D0&&(G0.op&J.OPERATION.ADD)==J.OPERATION.ADD){if(a instanceof m){var b0=M0.ref.$indexes.get(C);v8(H,b0)}}if(G0.op===J.OPERATION.DELETE)continue;var F0=M0.getType(C),N0=M0.getValue(C);if(N0&&N0.$changes&&!I.has(N0.$changes))d.push(N0.$changes),N0.$changes.ensureRefId(),n++;if(G0.op===J.OPERATION.TOUCH)continue;if(G.is(F0)){if(YQ(N0,F0,a,L0),h0(H,N0.$changes.refId),(G0.op&J.OPERATION.ADD)===J.OPERATION.ADD)this.tryEncodeTypeId(H,F0,N0.constructor)}else if(typeof F0==="string")kJ(F0,H,N0,a,L0);else{var d8=H0(Object.keys(F0)[0]);YQ(a["_".concat(L0)],d8.constructor,a,L0),h0(H,N0.$changes.refId)}if(M)M0.cache(C,H.slice(x0))}if(!$&&!M)M0.discard()}return H},G.prototype.encodeAll=function($){return this.encode(!0,[],$)},G.prototype.applyFilters=function($,H){var M,B;if(H===void 0)H=!1;var I=this,d=new Set,n=Q8.get($),R0=[this.$changes],M0=1,a=[],D0=function(U0){var W0=R0[U0];if(d.has(W0.refId))return"continue";var G0=W0.ref,C=G0 instanceof G;c0(a,q),h0(a,W0.refId);var L0=n.refIds.has(W0),x0=H||!L0;n.addRefId(W0);var b0=n.containerIndexes.get(W0),F0=x0?Array.from(W0.allChanges):Array.from(W0.changes.values());if(!H&&C&&G0._definition.indexesWithFilters){var N0=G0._definition.indexesWithFilters;N0.forEach(function(KJ){if(!b0.has(KJ)&&W0.allChanges.has(KJ))if(x0)F0.push(KJ);else F0.push({op:J.OPERATION.ADD,index:KJ})})}for(var d8=0,n8=F0.length;d8<n8;d8++){var $8=x0?{op:J.OPERATION.ADD,index:F0[d8]}:F0[d8];if($8.op===J.OPERATION.CLEAR){c0(a,$8.op);continue}var d0=$8.index;if($8.op===J.OPERATION.DELETE){if(C)c0(a,$8.op|d0);else c0(a,$8.op),h0(a,d0);continue}var u0=W0.getValue(d0),O8=W0.getType(d0);if(C){var b8=G0._definition.filters&&G0._definition.filters[d0];if(b8&&!b8.call(G0,$,u0,I)){if(u0&&u0.$changes)d.add(u0.$changes.refId);continue}}else{var fJ=W0.parent,b8=W0.getChildrenFilter();if(b8&&!b8.call(fJ,$,G0.$indexes.get(d0),u0,I)){if(u0&&u0.$changes)d.add(u0.$changes.refId);continue}}if(u0.$changes)R0.push(u0.$changes),M0++;if($8.op!==J.OPERATION.TOUCH)if($8.op===J.OPERATION.ADD||C)a.push.apply(a,(M=W0.caches[d0])!==null&&M!==void 0?M:[]),b0.add(d0);else if(b0.has(d0))a.push.apply(a,(B=W0.caches[d0])!==null&&B!==void 0?B:[]);else{if(b0.add(d0),c0(a,J.OPERATION.ADD),h0(a,d0),G0 instanceof m){var i8=W0.ref.$indexes.get(d0);v8(a,i8)}if(u0.$changes)h0(a,u0.$changes.refId);else $1[O8](a,u0)}else if(u0.$changes&&!C){if(c0(a,J.OPERATION.ADD),h0(a,d0),G0 instanceof m){var i8=W0.ref.$indexes.get(d0);v8(a,i8)}h0(a,u0.$changes.refId)}}};for(var l=0;l<M0;l++)D0(l);return a},G.prototype.clone=function(){var $,H=new this.constructor,M=this._definition.schema;for(var B in M)if(typeof this[B]==="object"&&typeof(($=this[B])===null||$===void 0?void 0:$.clone)==="function")H[B]=this[B].clone();else H[B]=this[B];return H},G.prototype.toJSON=function(){var $=this._definition.schema,H=this._definition.deprecated,M={};for(var B in $)if(!H[B]&&this[B]!==null&&typeof this[B]!=="undefined")M[B]=typeof this[B].toJSON==="function"?this[B].toJSON():this["_".concat(B)];return M},G.prototype.discardAllChanges=function(){this.$changes.discardAll()},G.prototype.getByIndex=function($){return this[this._definition.fieldsByIndex[$]]},G.prototype.deleteByIndex=function($){this[this._definition.fieldsByIndex[$]]=void 0},G.prototype.tryEncodeTypeId=function($,H,M){if(H._typeid!==M._typeid)c0($,K),h0($,M._typeid)},G.prototype.getSchemaType=function($,H,M){var B;if($[H.offset]===K)H.offset++,B=this.constructor._context.get(k($,H));return B||M},G.prototype.createTypeInstance=function($){var H=new $;return H.$changes.root=this.$changes.root,H},G.prototype._triggerChanges=function($){var H,M,B,I,d,n,R0,M0,a,D0=new Set,l=this.$changes.root.refs,U0=function(G0){var C=$[G0],L0=C.refId,x0=l.get(L0),b0=x0.$callbacks;if((C.op&J.OPERATION.DELETE)===J.OPERATION.DELETE&&C.previousValue instanceof G)(M=(H=C.previousValue.$callbacks)===null||H===void 0?void 0:H[J.OPERATION.DELETE])===null||M===void 0||M.forEach(function(F0){return F0()});if(!b0)return"continue";if(x0 instanceof G){if(!D0.has(L0))try{(B=b0===null||b0===void 0?void 0:b0[J.OPERATION.REPLACE])===null||B===void 0||B.forEach(function(F0){return F0()})}catch(F0){G.onError(F0)}try{if(b0.hasOwnProperty(C.field))(I=b0[C.field])===null||I===void 0||I.forEach(function(F0){return F0(C.value,C.previousValue)})}catch(F0){G.onError(F0)}}else{if(C.op===J.OPERATION.ADD&&C.previousValue===void 0)(d=b0[J.OPERATION.ADD])===null||d===void 0||d.forEach(function(F0){var N0;return F0(C.value,(N0=C.dynamicIndex)!==null&&N0!==void 0?N0:C.field)});else if(C.op===J.OPERATION.DELETE){if(C.previousValue!==void 0)(n=b0[J.OPERATION.DELETE])===null||n===void 0||n.forEach(function(F0){var N0;return F0(C.previousValue,(N0=C.dynamicIndex)!==null&&N0!==void 0?N0:C.field)})}else if(C.op===J.OPERATION.DELETE_AND_ADD){if(C.previousValue!==void 0)(R0=b0[J.OPERATION.DELETE])===null||R0===void 0||R0.forEach(function(F0){var N0;return F0(C.previousValue,(N0=C.dynamicIndex)!==null&&N0!==void 0?N0:C.field)});(M0=b0[J.OPERATION.ADD])===null||M0===void 0||M0.forEach(function(F0){var N0;return F0(C.value,(N0=C.dynamicIndex)!==null&&N0!==void 0?N0:C.field)})}if(C.value!==C.previousValue)(a=b0[J.OPERATION.REPLACE])===null||a===void 0||a.forEach(function(F0){var N0;return F0(C.value,(N0=C.dynamicIndex)!==null&&N0!==void 0?N0:C.field)})}D0.add(L0)};for(var W0=0;W0<$.length;W0++)U0(W0)},G._definition=V0.create(),G}();function IJ(G){var $=[G.$changes],H=1,M={},B=M,I=function(n){var R0=$[n];R0.changes.forEach(function(M0){var a=R0.ref,D0=M0.index,l=a._definition?a._definition.fieldsByIndex[D0]:a.$indexes.get(D0);B[l]=R0.getValue(D0)})};for(var d=0;d<H;d++)I(d);return M}var C8={context:new k0},K1=function(G){Y($,G);function $(){return G!==null&&G.apply(this,arguments)||this}return X([S0("string",C8)],$.prototype,"name",void 0),X([S0("string",C8)],$.prototype,"type",void 0),X([S0("number",C8)],$.prototype,"referencedType",void 0),$}(W8),TJ=function(G){Y($,G);function $(){var H=G!==null&&G.apply(this,arguments)||this;return H.fields=new h,H}return X([S0("number",C8)],$.prototype,"id",void 0),X([S0([K1],C8)],$.prototype,"fields",void 0),$}(W8),mQ=function(G){Y($,G);function $(){var H=G!==null&&G.apply(this,arguments)||this;return H.types=new h,H}return $.encode=function(H){var M,B=H.constructor,I=new $;I.rootType=B._typeid;var d=function(a,D0){for(var l in D0){var U0=new K1;U0.name=l;var W0=void 0;if(typeof D0[l]==="string")W0=D0[l];else{var G0=D0[l],C=void 0;if(W8.is(G0))W0="ref",C=D0[l];else if(W0=Object.keys(G0)[0],typeof G0[W0]==="string")W0+=":"+G0[W0];else C=G0[W0];U0.referencedType=C?C._typeid:-1}U0.type=W0,a.fields.push(U0)}I.types.push(a)},n=(M=B._context)===null||M===void 0?void 0:M.types;for(var R0 in n){var M0=new TJ;M0.id=Number(R0),d(M0,n[R0]._definition.schema)}return I.encodeAll()},$.decode=function(H,M){var B=new k0,I=new $;I.decode(H,M);var d=I.types.reduce(function(D0,l){var U0=function(G0){Y(C,G0);function C(){return G0!==null&&G0.apply(this,arguments)||this}return C}(W8),W0=l.id;return D0[W0]=U0,B.add(U0,W0),D0},{});I.types.forEach(function(D0){var l=d[D0.id];D0.fields.forEach(function(U0){var W0;if(U0.referencedType!==void 0){var G0=U0.type,C=d[U0.referencedType];if(!C){var L0=U0.type.split(":");G0=L0[0],C=L0[1]}if(G0==="ref")S0(C,{context:B})(l.prototype,U0.name);else S0((W0={},W0[G0]=C,W0),{context:B})(l.prototype,U0.name)}else S0(U0.type,{context:B})(l.prototype,U0.name)})});var n=d[I.rootType],R0=new n;for(var M0 in n._definition.schema){var a=n._definition.schema[M0];if(typeof a!=="string")R0[M0]=typeof a==="function"?new a:new(H0(Object.keys(a)[0])).constructor}return R0},X([S0([TJ],C8)],$.prototype,"types",void 0),X([S0("number",C8)],$.prototype,"rootType",void 0),$}(W8);A0("map",{constructor:m}),A0("array",{constructor:h}),A0("set",{constructor:w0}),A0("collection",{constructor:Q0}),J.ArraySchema=h,J.CollectionSchema=Q0,J.Context=k0,J.MapSchema=m,J.Reflection=mQ,J.ReflectionField=K1,J.ReflectionType=TJ,J.Schema=W8,J.SchemaDefinition=V0,J.SetSchema=w0,J.decode=O0,J.defineTypes=e0,J.deprecated=V8,J.dumpChanges=IJ,J.encode=$1,J.filter=M8,J.filterChildren=L8,J.hasFilter=y0,J.registerType=A0,J.type=S0,Object.defineProperty(J,"__esModule",{value:!0})})});var y5=r0((Q1)=>{var f4=Q1&&Q1.__createBinding||(Object.create?function(J,Q,Y,X){if(X===void 0)X=Y;var W=Object.getOwnPropertyDescriptor(Q,Y);if(!W||("get"in W?!Q.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return Q[Y]}};Object.defineProperty(J,X,W)}:function(J,Q,Y,X){if(X===void 0)X=Y;J[X]=Q[Y]}),h4=Q1&&Q1.__setModuleDefault||(Object.create?function(J,Q){Object.defineProperty(J,"default",{enumerable:!0,value:Q})}:function(J,Q){J.default=Q}),v4=Q1&&Q1.__importStar||function(J){if(J&&J.__esModule)return J;var Q={};if(J!=null){for(var Y in J)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(J,Y))f4(Q,J,Y)}return h4(Q,J),Q};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.Room=void 0;var i7=v4(j7()),x4=h7(),U8=v5(),o7=x5(),C4=C5(),xQ=d7(),A8=g5(),s7=hQ();class m5{constructor(J,Q){if(this.onStateChange=xQ.createSignal(),this.onError=xQ.createSignal(),this.onLeave=xQ.createSignal(),this.onJoin=xQ.createSignal(),this.hasJoined=!1,this.onMessageHandlers=C4.createNanoEvents(),this.roomId=null,this.name=J,Q)this.serializer=new(o7.getSerializer("schema")),this.rootSchema=Q,this.serializer.state=new Q;this.onError((Y,X)=>{var W;return(W=console.warn)===null||W===void 0?void 0:W.call(console,`colyseus.js - onError => (${Y}) ${X}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(J,Q,Y=this){const X=new x4.Connection;Y.connection=X,X.events.onmessage=m5.prototype.onMessageCallback.bind(Y),X.events.onclose=function(W){var q;if(!Y.hasJoined){(q=console.warn)===null||q===void 0||q.call(console,`Room connection was closed unexpectedly (${W.code}): ${W.reason}`),Y.onError.invoke(W.code,W.reason);return}if(W.code===s7.CloseCode.DEVMODE_RESTART&&Q)Q();else Y.onLeave.invoke(W.code),Y.destroy()},X.events.onerror=function(W){var q;(q=console.warn)===null||q===void 0||q.call(console,`Room, onError (${W.code}): ${W.reason}`),Y.onError.invoke(W.code,W.reason)},X.connect(J)}leave(J=!0){return new Promise((Q)=>{if(this.onLeave((Y)=>Q(Y)),this.connection)if(J)this.connection.send([U8.Protocol.LEAVE_ROOM]);else this.connection.close();else this.onLeave.invoke(s7.CloseCode.CONSENTED)})}onMessage(J,Q){return this.onMessageHandlers.on(this.getMessageHandlerKey(J),Q)}send(J,Q){const Y=[U8.Protocol.ROOM_DATA];if(typeof J==="string")A8.encode.string(Y,J);else A8.encode.number(Y,J);let X;if(Q!==void 0){const W=i7.encode(Q);X=new Uint8Array(Y.length+W.byteLength),X.set(new Uint8Array(Y),0),X.set(new Uint8Array(W),Y.length)}else X=new Uint8Array(Y);this.connection.send(X.buffer)}sendBytes(J,Q){const Y=[U8.Protocol.ROOM_DATA_BYTES];if(typeof J==="string")A8.encode.string(Y,J);else A8.encode.number(Y,J);let X;X=new Uint8Array(Y.length+(Q.byteLength||Q.length)),X.set(new Uint8Array(Y),0),X.set(new Uint8Array(Q),Y.length),this.connection.send(X.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(J){const Q=Array.from(new Uint8Array(J.data)),Y=Q[0];if(Y===U8.Protocol.JOIN_ROOM){let X=1;const W=U8.utf8Read(Q,X);if(X+=U8.utf8Length(W),this.serializerId=U8.utf8Read(Q,X),X+=U8.utf8Length(this.serializerId),!this.serializer){const q=o7.getSerializer(this.serializerId);this.serializer=new q}if(Q.length>X&&this.serializer.handshake)this.serializer.handshake(Q,{offset:X});this.reconnectionToken=`${this.roomId}:${W}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([U8.Protocol.JOIN_ROOM])}else if(Y===U8.Protocol.ERROR){const X={offset:1},W=A8.decode.number(Q,X),q=A8.decode.string(Q,X);this.onError.invoke(W,q)}else if(Y===U8.Protocol.LEAVE_ROOM)this.leave();else if(Y===U8.Protocol.ROOM_DATA_SCHEMA){const X={offset:1},q=this.serializer.getState().constructor._context.get(A8.decode.number(Q,X)),K=new q;K.decode(Q,X),this.dispatchMessage(q,K)}else if(Y===U8.Protocol.ROOM_STATE)Q.shift(),this.setState(Q);else if(Y===U8.Protocol.ROOM_STATE_PATCH)Q.shift(),this.patch(Q);else if(Y===U8.Protocol.ROOM_DATA){const X={offset:1},W=A8.decode.stringCheck(Q,X)?A8.decode.string(Q,X):A8.decode.number(Q,X),q=Q.length>X.offset?i7.decode(J.data,X.offset):void 0;this.dispatchMessage(W,q)}else if(Y===U8.Protocol.ROOM_DATA_BYTES){const X={offset:1},W=A8.decode.stringCheck(Q,X)?A8.decode.string(Q,X):A8.decode.number(Q,X);this.dispatchMessage(W,new Uint8Array(Q.slice(X.offset)))}}setState(J){this.serializer.setState(J),this.onStateChange.invoke(this.serializer.getState())}patch(J){this.serializer.patch(J),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(J,Q){var Y;const X=this.getMessageHandlerKey(J);if(this.onMessageHandlers.events[X])this.onMessageHandlers.emit(X,Q);else if(this.onMessageHandlers.events["*"])this.onMessageHandlers.emit("*",J,Q);else(Y=console.warn)===null||Y===void 0||Y.call(console,`colyseus.js: onMessage() not registered for type '${J}'.`)}destroy(){if(this.serializer)this.serializer.teardown()}getMessageHandlerKey(J){switch(typeof J){case"function":return`\$${J._typeid}`;case"string":return J;case"number":return`i${J}`;default:throw new Error("invalid message type.")}}}Q1.Room=m5});var a7={};Y9(a7,{send:()=>{{return p8}},put:()=>{{return p4}},post:()=>{{return g4}},patch:()=>{{return m4}},get:()=>{{return b4}},del:()=>{{return y4}}});function p8(J,Q,Y){return new Promise(function(X,W){Y=Y||{};var q=new XMLHttpRequest,K,V,F,w=Y.body,O=Y.headers||{};if(Y.timeout)q.timeout=Y.timeout;if(q.ontimeout=q.onerror=function(L){L.timeout=L.type=="timeout",W(L)},q.open(J,Q.href||Q),q.onload=function(){F=q.getAllResponseHeaders().trim().split(/[\r\n]+/),r7(q,q);while(V=F.shift())V=V.split(": "),q.headers[V.shift().toLowerCase()]=V.join(": ");if(V=q.headers["content-type"],V&&!!~V.indexOf("application/json"))try{q.data=JSON.parse(q.data,Y.reviver)}catch(L){return r7(q,L),W(L)}(q.status>=400?W:X)(q)},typeof FormData<"u"&&w instanceof FormData);else if(w&&typeof w=="object")O["content-type"]="application/json",w=JSON.stringify(w);q.withCredentials=!!Y.withCredentials;for(K in O)q.setRequestHeader(K,O[K]);q.send(w)})}var r7,b4,g4,m4,y4,p4;var t7=qY(()=>{r7=function(J,Q){Q.headers=J.headers||{},Q.statusMessage=J.statusText,Q.statusCode=J.status,Q.data=J.response};b4=p8.bind(p8,"GET"),g4=p8.bind(p8,"POST"),m4=p8.bind(p8,"PATCH"),y4=p8.bind(p8,"DELETE"),p4=p8.bind(p8,"PUT")});var JX=r0((Y1)=>{var u4=Y1&&Y1.__createBinding||(Object.create?function(J,Q,Y,X){if(X===void 0)X=Y;var W=Object.getOwnPropertyDescriptor(Q,Y);if(!W||("get"in W?!Q.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return Q[Y]}};Object.defineProperty(J,X,W)}:function(J,Q,Y,X){if(X===void 0)X=Y;J[X]=Q[Y]}),c4=Y1&&Y1.__setModuleDefault||(Object.create?function(J,Q){Object.defineProperty(J,"default",{enumerable:!0,value:Q})}:function(J,Q){J.default=Q}),l4=Y1&&Y1.__importStar||function(J){if(J&&J.__esModule)return J;var Q={};if(J!=null){for(var Y in J)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(J,Y))u4(Q,J,Y)}return c4(Q,J),Q};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.HTTP=void 0;var d4=hQ(),n4=l4((t7(),dQ(a7)));class e7{constructor(J){this.client=J}get(J,Q={}){return this.request("get",J,Q)}post(J,Q={}){return this.request("post",J,Q)}del(J,Q={}){return this.request("del",J,Q)}put(J,Q={}){return this.request("put",J,Q)}request(J,Q,Y={}){return n4[J](this.client.getHttpEndpoint(Q),this.getOptions(Y)).catch((X)=>{var W;throw new d4.ServerError(X.statusCode||-1,((W=X.data)===null||W===void 0?void 0:W.error)||X.statusMessage||X.message||"offline")})}getOptions(J){if(this.authToken){if(!J.headers)J.headers={};J.headers.Authorization=`Bearer ${this.authToken}`,J.withCredentials=!0}return J}}Y1.HTTP=e7});var XX=r0((QX)=>{var p5=function(){if(!JQ)try{JQ=typeof cc!=="undefined"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(J){}if(!JQ)JQ={cache:{},setItem:function(J,Q){this.cache[J]=Q},getItem:function(J){this.cache[J]},removeItem:function(J){delete this.cache[J]}};return JQ},i4=function(J,Q){p5().setItem(J,Q)},o4=function(J){p5().removeItem(J)},s4=function(J,Q){const Y=p5().getItem(J);if(typeof Promise==="undefined"||!(Y instanceof Promise))Q(Y);else Y.then((X)=>Q(X))};Object.defineProperty(QX,"__esModule",{value:!0});QX.getItem=QX.removeItem=QX.setItem=void 0;var JQ;QX.setItem=i4;QX.removeItem=o4;QX.getItem=s4});var l5=r0((X1)=>{var YJ=X1&&X1.__awaiter||function(J,Q,Y,X){function W(q){return q instanceof Y?q:new Y(function(K){K(q)})}return new(Y||(Y=Promise))(function(q,K){function V(O){try{w(X.next(O))}catch(L){K(L)}}function F(O){try{w(X.throw(O))}catch(L){K(L)}}function w(O){O.done?q(O.value):W(O.value).then(V,F)}w((X=X.apply(J,Q||[])).next())})},ZJ=X1&&X1.__classPrivateFieldGet||function(J,Q,Y,X){if(Y==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?J!==Q||!X:!Q.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?X:Y==="a"?X.call(J):X?X.value:Q.get(J)},QQ=X1&&X1.__classPrivateFieldSet||function(J,Q,Y,X,W){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?J!==Q||!W:!Q.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?W.call(J,Y):W?W.value=Y:Q.set(J,Y),Y},CQ,c5,h1,bQ;Object.defineProperty(X1,"__esModule",{value:!0});X1.Auth=void 0;var u5=XX(),t4=C5();class WX{constructor(J){this.http=J,this.settings={path:"/auth",key:"colyseus-auth-token"},CQ.set(this,!1),c5.set(this,void 0),h1.set(this,void 0),bQ.set(this,t4.createNanoEvents()),u5.getItem(this.settings.key,(Q)=>this.token=Q)}set token(J){this.http.authToken=J}get token(){return this.http.authToken}onChange(J){const Q=ZJ(this,bQ,"f").on("change",J);if(!ZJ(this,CQ,"f"))QQ(this,c5,new Promise((Y,X)=>{this.getUserData().then((W)=>{this.emitChange(Object.assign(Object.assign({},W),{token:this.token}))}).catch((W)=>{this.emitChange({user:null,token:void 0})}).finally(()=>{Y()})}),"f");return QQ(this,CQ,!0,"f"),Q}getUserData(){return YJ(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;else throw new Error("missing auth.token")})}registerWithEmailAndPassword(J,Q,Y){return YJ(this,void 0,void 0,function*(){const X=(yield this.http.post(`${this.settings.path}/register`,{body:{email:J,password:Q,options:Y}})).data;return this.emitChange(X),X})}signInWithEmailAndPassword(J,Q){return YJ(this,void 0,void 0,function*(){const Y=(yield this.http.post(`${this.settings.path}/login`,{body:{email:J,password:Q}})).data;return this.emitChange(Y),Y})}signInAnonymously(J){return YJ(this,void 0,void 0,function*(){const Q=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:J}})).data;return this.emitChange(Q),Q})}sendPasswordResetEmail(J){return YJ(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:J}})).data})}signInWithProvider(J,Q={}){return YJ(this,void 0,void 0,function*(){return new Promise((Y,X)=>{const W=Q.width||480,q=Q.height||768,K=this.token?`?token=${this.token}`:"",V=`Login with ${J[0].toUpperCase()+J.substring(1)}`,F=this.http.client.getHttpEndpoint(`${Q.prefix||`${this.settings.path}/provider`}/${J}${K}`),w=screen.width/2-W/2,O=screen.height/2-q/2;QQ(this,h1,window.open(F,V,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+W+", height="+q+", top="+O+", left="+w),"f");const L=(h)=>{if(h.data.user===void 0&&h.data.token===void 0)return;if(clearInterval(_),ZJ(this,h1,"f").close(),QQ(this,h1,void 0,"f"),window.removeEventListener("message",L),h.data.error!==void 0)X(h.data.error);else Y(h.data),this.emitChange(h.data)},_=setInterval(()=>{if(!ZJ(this,h1,"f")||ZJ(this,h1,"f").closed)QQ(this,h1,void 0,"f"),X("cancelled"),window.removeEventListener("message",L)},200);window.addEventListener("message",L)})})}signOut(){return YJ(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(J){if(J.token!==void 0)if(this.token=J.token,J.token===null)u5.removeItem(this.settings.key);else u5.setItem(this.settings.key,J.token);ZJ(this,bQ,"f").emit("change",J)}}X1.Auth=WX;CQ=new WeakMap,c5=new WeakMap,h1=new WeakMap,bQ=new WeakMap});var qX=r0((v1)=>{var W1=v1&&v1.__awaiter||function(J,Q,Y,X){function W(q){return q instanceof Y?q:new Y(function(K){K(q)})}return new(Y||(Y=Promise))(function(q,K){function V(O){try{w(X.next(O))}catch(L){K(L)}}function F(O){try{w(X.throw(O))}catch(L){K(L)}}function w(O){O.done?q(O.value):W(O.value).then(V,F)}w((X=X.apply(J,Q||[])).next())})},d5;Object.defineProperty(v1,"__esModule",{value:!0});v1.Client=v1.MatchMakeError=void 0;var e4=hQ(),J6=y5(),Q6=JX(),Y6=l5();class gQ extends Error{constructor(J,Q){super(J);this.code=Q,Object.setPrototypeOf(this,gQ.prototype)}}v1.MatchMakeError=gQ;var X6=typeof window!=="undefined"&&typeof((d5=window===null||window===void 0?void 0:window.location)===null||d5===void 0?void 0:d5.hostname)!=="undefined"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";class $X{constructor(J=X6){if(typeof J==="string"){const Q=new URL(J),Y=Q.protocol==="https:"||Q.protocol==="wss:",X=Number(Q.port||(Y?443:80));this.settings={hostname:Q.hostname,pathname:Q.pathname,port:X,secure:Y}}else{if(J.port===void 0)J.port=J.secure?443:80;if(J.pathname===void 0)J.pathname="";this.settings=J}if(this.settings.pathname.endsWith("/"))this.settings.pathname=this.settings.pathname.slice(0,-1);this.http=new Q6.HTTP(this),this.auth=new Y6.Auth(this.http)}joinOrCreate(J,Q={},Y){return W1(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",J,Q,Y)})}create(J,Q={},Y){return W1(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",J,Q,Y)})}join(J,Q={},Y){return W1(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",J,Q,Y)})}joinById(J,Q={},Y){return W1(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",J,Q,Y)})}reconnect(J,Q){return W1(this,void 0,void 0,function*(){if(typeof J==="string"&&typeof Q==="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[Y,X]=J.split(":");if(!Y||!X)throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return yield this.createMatchMakeRequest("reconnect",Y,{reconnectionToken:X},Q)})}getAvailableRooms(J=""){return W1(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${J}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(J,Q,Y){return W1(this,void 0,void 0,function*(){const X=this.createRoom(J.room.name,Q);X.roomId=J.room.roomId,X.sessionId=J.sessionId;const W={sessionId:X.sessionId};if(J.reconnectionToken)W.reconnectionToken=J.reconnectionToken;const q=Y||X;return X.connect(this.buildEndpoint(J.room,W),J.devMode&&(()=>W1(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${X.roomId}'...`);let K=0,V=8;const F=()=>W1(this,void 0,void 0,function*(){K++;try{yield this.consumeSeatReservation(J,Q,q),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${X.roomId}'`)}catch(w){if(K<V)console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${K} out of ${V})`),setTimeout(F,2000);else console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(F,2000)})),q),new Promise((K,V)=>{const F=(w,O)=>V(new e4.ServerError(w,O));q.onError.once(F),q.onJoin.once(()=>{q.onError.remove(F),K(q)})})})}createMatchMakeRequest(J,Q,Y={},X,W){return W1(this,void 0,void 0,function*(){const q=(yield this.http.post(`matchmake/${J}/${Q}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Y)})).data;if(q.error)throw new gQ(q.error,q.code);if(J==="reconnect")q.reconnectionToken=Y.reconnectionToken;return yield this.consumeSeatReservation(q,X,W)})}createRoom(J,Q){return new J6.Room(J,Q)}buildEndpoint(J,Q={}){const Y=[];for(let W in Q){if(!Q.hasOwnProperty(W))continue;Y.push(`${W}=${Q[W]}`)}let X=this.settings.secure?"wss://":"ws://";if(J.publicAddress)X+=`${J.publicAddress}`;else X+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;return`${X}/${J.processId}/${J.roomId}?${Y.join("&")}`}getHttpEndpoint(J=""){const Q=J.startsWith("/")?J:`/${J}`;return`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${Q}`}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}}v1.Client=$X});var UX=r0((KX)=>{Object.defineProperty(KX,"__esModule",{value:!0});KX.SchemaSerializer=void 0;var GX=g5();class HX{setState(J){return this.state.decode(J)}getState(){return this.state}patch(J){return this.state.decode(J)}teardown(){var J,Q;(Q=(J=this.state)===null||J===void 0?void 0:J.$changes)===null||Q===void 0||Q.root.clearRefs()}handshake(J,Q){if(this.state)new GX.Reflection().decode(J,Q);else this.state=GX.Reflection.decode(J,Q)}}KX.SchemaSerializer=HX});var VX=r0((DX)=>{Object.defineProperty(DX,"__esModule",{value:!0});DX.NoneSerializer=void 0;class MX{setState(J){}getState(){return null}patch(J){}teardown(){}handshake(J){}}DX.NoneSerializer=MX});var RX=r0((w1)=>{Object.defineProperty(w1,"__esModule",{value:!0});w1.SchemaSerializer=w1.registerSerializer=w1.Auth=w1.Room=w1.ErrorCode=w1.Protocol=w1.Client=void 0;w7();var W6=qX();Object.defineProperty(w1,"Client",{enumerable:!0,get:function(){return W6.Client}});var OX=v5();Object.defineProperty(w1,"Protocol",{enumerable:!0,get:function(){return OX.Protocol}});Object.defineProperty(w1,"ErrorCode",{enumerable:!0,get:function(){return OX.ErrorCode}});var $6=y5();Object.defineProperty(w1,"Room",{enumerable:!0,get:function(){return $6.Room}});var q6=l5();Object.defineProperty(w1,"Auth",{enumerable:!0,get:function(){return q6.Auth}});var wX=UX();Object.defineProperty(w1,"SchemaSerializer",{enumerable:!0,get:function(){return wX.SchemaSerializer}});var G6=VX(),n5=x5();Object.defineProperty(w1,"registerSerializer",{enumerable:!0,get:function(){return n5.registerSerializer}});n5.registerSerializer("schema",wX.SchemaSerializer);n5.registerSerializer("none",G6.NoneSerializer)});var xJ=function(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J},vJ=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var nQ={exports:{}};(function(J){var Q=Object.prototype.hasOwnProperty,Y="~";function X(){}if(Object.create){if(X.prototype=Object.create(null),!new X().__proto__)Y=!1}function W(F,w,O){this.fn=F,this.context=w,this.once=O||!1}function q(F,w,O,L,_){if(typeof O!=="function")throw new TypeError("The listener must be a function");var h=new W(O,L||F,_),o=Y?Y+w:w;if(!F._events[o])F._events[o]=h,F._eventsCount++;else if(!F._events[o].fn)F._events[o].push(h);else F._events[o]=[F._events[o],h];return F}function K(F,w){if(--F._eventsCount===0)F._events=new X;else delete F._events[w]}function V(){this._events=new X,this._eventsCount=0}V.prototype.eventNames=function F(){var w=[],O,L;if(this._eventsCount===0)return w;for(L in O=this._events)if(Q.call(O,L))w.push(Y?L.slice(1):L);if(Object.getOwnPropertySymbols)return w.concat(Object.getOwnPropertySymbols(O));return w},V.prototype.listeners=function F(w){var O=Y?Y+w:w,L=this._events[O];if(!L)return[];if(L.fn)return[L.fn];for(var _=0,h=L.length,o=new Array(h);_<h;_++)o[_]=L[_].fn;return o},V.prototype.listenerCount=function F(w){var O=Y?Y+w:w,L=this._events[O];if(!L)return 0;if(L.fn)return 1;return L.length},V.prototype.emit=function F(w,O,L,_,h,o){var m=Y?Y+w:w;if(!this._events[m])return!1;var b=this._events[m],A0=arguments.length,H0,V0;if(b.fn){if(b.once)this.removeListener(w,b.fn,void 0,!0);switch(A0){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,O),!0;case 3:return b.fn.call(b.context,O,L),!0;case 4:return b.fn.call(b.context,O,L,_),!0;case 5:return b.fn.call(b.context,O,L,_,h),!0;case 6:return b.fn.call(b.context,O,L,_,h,o),!0}for(V0=1,H0=new Array(A0-1);V0<A0;V0++)H0[V0-1]=arguments[V0];b.fn.apply(b.context,H0)}else{var y0=b.length,k0;for(V0=0;V0<y0;V0++){if(b[V0].once)this.removeListener(w,b[V0].fn,void 0,!0);switch(A0){case 1:b[V0].fn.call(b[V0].context);break;case 2:b[V0].fn.call(b[V0].context,O);break;case 3:b[V0].fn.call(b[V0].context,O,L);break;case 4:b[V0].fn.call(b[V0].context,O,L,_);break;default:if(!H0)for(k0=1,H0=new Array(A0-1);k0<A0;k0++)H0[k0-1]=arguments[k0];b[V0].fn.apply(b[V0].context,H0)}}}return!0},V.prototype.on=function F(w,O,L){return q(this,w,O,L,!1)},V.prototype.once=function F(w,O,L){return q(this,w,O,L,!0)},V.prototype.removeListener=function F(w,O,L,_){var h=Y?Y+w:w;if(!this._events[h])return this;if(!O)return K(this,h),this;var o=this._events[h];if(o.fn){if(o.fn===O&&(!_||o.once)&&(!L||o.context===L))K(this,h)}else{for(var m=0,b=[],A0=o.length;m<A0;m++)if(o[m].fn!==O||_&&!o[m].once||L&&o[m].context!==L)b.push(o[m]);if(b.length)this._events[h]=b.length===1?b[0]:b;else K(this,h)}return this},V.prototype.removeAllListeners=function F(w){var O;if(w){if(O=Y?Y+w:w,this._events[O])K(this,O)}else this._events=new X,this._eventsCount=0;return this},V.prototype.off=V.prototype.removeListener,V.prototype.addListener=V.prototype.on,V.prefixed=Y,V.EventEmitter=V,J.exports=V})(nQ);var X9=nQ.exports,iQ=xJ(X9);var $9=function(J){KY=J},MQ=function(){return KY},u=function(J,Q){const Y=DQ({issueData:Q,data:J.data,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,MQ(),CJ].filter((X)=>!!X)});J.common.issues.push(Y)},K0=function(J){if(!J)return{};const{errorMap:Q,invalid_type_error:Y,required_error:X,description:W}=J;if(Q&&(Y||X))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(Q)return{errorMap:Q,description:W};return{errorMap:(K,V)=>{if(K.code!=="invalid_type")return{message:V.defaultError};if(typeof V.data==="undefined")return{message:X!==null&&X!==void 0?X:V.defaultError};return{message:Y!==null&&Y!==void 0?Y:V.defaultError}},description:W}},O9=function(J,Q){if((Q==="v4"||!Q)&&D9.test(J))return!0;if((Q==="v6"||!Q)&&F9.test(J))return!0;return!1},w9=function(J,Q){const Y=(J.toString().split(".")[1]||"").length,X=(Q.toString().split(".")[1]||"").length,W=Y>X?Y:X,q=parseInt(J.toFixed(W).replace(".","")),K=parseInt(Q.toFixed(W).replace(".",""));return q%K/Math.pow(10,W)},MJ=function(J){if(J instanceof m0){const Q={};for(let Y in J.shape){const X=J.shape[Y];Q[Y]=o8.create(MJ(X))}return new m0({...J._def,shape:()=>Q})}else if(J instanceof m8)return new m8({...J._def,type:MJ(J.element)});else if(J instanceof o8)return o8.create(MJ(J.unwrap()));else if(J instanceof S1)return S1.create(MJ(J.unwrap()));else if(J instanceof r8)return r8.create(J.items.map((Q)=>MJ(Q)));else return J},tQ=function(J,Q){const Y=E1(J),X=E1(Q);if(J===Q)return{valid:!0,data:J};else if(Y===p.object&&X===p.object){const W=P0.objectKeys(Q),q=P0.objectKeys(J).filter((V)=>W.indexOf(V)!==-1),K={...J,...Q};for(let V of q){const F=tQ(J[V],Q[V]);if(!F.valid)return{valid:!1};K[V]=F.data}return{valid:!0,data:K}}else if(Y===p.array&&X===p.array){if(J.length!==Q.length)return{valid:!1};const W=[];for(let q=0;q<J.length;q++){const K=J[q],V=Q[q],F=tQ(K,V);if(!F.valid)return{valid:!1};W.push(F.data)}return{valid:!0,data:W}}else if(Y===p.date&&X===p.date&&+J===+Q)return{valid:!0,data:J};else return{valid:!1}},UY=function(J,Q){return new _1({values:J,typeName:Y0.ZodEnum,...K0(Q)})},P0;(function(J){J.assertEqual=(W)=>W;function Q(W){}J.assertIs=Q;function Y(W){throw new Error}J.assertNever=Y,J.arrayToEnum=(W)=>{const q={};for(let K of W)q[K]=K;return q},J.getValidEnumValues=(W)=>{const q=J.objectKeys(W).filter((V)=>typeof W[W[V]]!=="number"),K={};for(let V of q)K[V]=W[V];return J.objectValues(K)},J.objectValues=(W)=>{return J.objectKeys(W).map(function(q){return W[q]})},J.objectKeys=typeof Object.keys==="function"?(W)=>Object.keys(W):(W)=>{const q=[];for(let K in W)if(Object.prototype.hasOwnProperty.call(W,K))q.push(K);return q},J.find=(W,q)=>{for(let K of W)if(q(K))return K;return},J.isInteger=typeof Number.isInteger==="function"?(W)=>Number.isInteger(W):(W)=>typeof W==="number"&&isFinite(W)&&Math.floor(W)===W;function X(W,q=" | "){return W.map((K)=>typeof K==="string"?`'${K}'`:K).join(q)}J.joinValues=X,J.jsonStringifyReplacer=(W,q)=>{if(typeof q==="bigint")return q.toString();return q}})(P0||(P0={}));var sQ;(function(J){J.mergeShapes=(Q,Y)=>{return{...Q,...Y}}})(sQ||(sQ={}));var p=P0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),E1=(J)=>{switch(typeof J){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(J)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":if(Array.isArray(J))return p.array;if(J===null)return p.null;if(J.then&&typeof J.then==="function"&&J.catch&&typeof J.catch==="function")return p.promise;if(typeof Map!=="undefined"&&J instanceof Map)return p.map;if(typeof Set!=="undefined"&&J instanceof Set)return p.set;if(typeof Date!=="undefined"&&J instanceof Date)return p.date;return p.object;default:return p.unknown}},x=P0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),W9=(J)=>{return JSON.stringify(J,null,2).replace(/"([^"]+)":/g,"$1:")};class Z8 extends Error{constructor(J){super();this.issues=[],this.addIssue=(Y)=>{this.issues=[...this.issues,Y]},this.addIssues=(Y=[])=>{this.issues=[...this.issues,...Y]};const Q=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,Q);else this.__proto__=Q;this.name="ZodError",this.issues=J}get errors(){return this.issues}format(J){const Q=J||function(W){return W.message},Y={_errors:[]},X=(W)=>{for(let q of W.issues)if(q.code==="invalid_union")q.unionErrors.map(X);else if(q.code==="invalid_return_type")X(q.returnTypeError);else if(q.code==="invalid_arguments")X(q.argumentsError);else if(q.path.length===0)Y._errors.push(Q(q));else{let K=Y,V=0;while(V<q.path.length){const F=q.path[V];if(V!==q.path.length-1)K[F]=K[F]||{_errors:[]};else K[F]=K[F]||{_errors:[]},K[F]._errors.push(Q(q));K=K[F],V++}}};return X(this),Y}toString(){return this.message}get message(){return JSON.stringify(this.issues,P0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(J=(Q)=>Q.message){const Q={},Y=[];for(let X of this.issues)if(X.path.length>0)Q[X.path[0]]=Q[X.path[0]]||[],Q[X.path[0]].push(J(X));else Y.push(J(X));return{formErrors:Y,fieldErrors:Q}}get formErrors(){return this.flatten()}}Z8.create=(J)=>{return new Z8(J)};var CJ=(J,Q)=>{let Y;switch(J.code){case x.invalid_type:if(J.received===p.undefined)Y="Required";else Y=`Expected ${J.expected}, received ${J.received}`;break;case x.invalid_literal:Y=`Invalid literal value, expected ${JSON.stringify(J.expected,P0.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:Y=`Unrecognized key(s) in object: ${P0.joinValues(J.keys,", ")}`;break;case x.invalid_union:Y="Invalid input";break;case x.invalid_union_discriminator:Y=`Invalid discriminator value. Expected ${P0.joinValues(J.options)}`;break;case x.invalid_enum_value:Y=`Invalid enum value. Expected ${P0.joinValues(J.options)}, received '${J.received}'`;break;case x.invalid_arguments:Y="Invalid function arguments";break;case x.invalid_return_type:Y="Invalid function return type";break;case x.invalid_date:Y="Invalid date";break;case x.invalid_string:if(typeof J.validation==="object")if("includes"in J.validation){if(Y=`Invalid input: must include "${J.validation.includes}"`,typeof J.validation.position==="number")Y=`${Y} at one or more positions greater than or equal to ${J.validation.position}`}else if("startsWith"in J.validation)Y=`Invalid input: must start with "${J.validation.startsWith}"`;else if("endsWith"in J.validation)Y=`Invalid input: must end with "${J.validation.endsWith}"`;else P0.assertNever(J.validation);else if(J.validation!=="regex")Y=`Invalid ${J.validation}`;else Y="Invalid";break;case x.too_small:if(J.type==="array")Y=`Array must contain ${J.exact?"exactly":J.inclusive?"at least":"more than"} ${J.minimum} element(s)`;else if(J.type==="string")Y=`String must contain ${J.exact?"exactly":J.inclusive?"at least":"over"} ${J.minimum} character(s)`;else if(J.type==="number")Y=`Number must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${J.minimum}`;else if(J.type==="date")Y=`Date must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(J.minimum))}`;else Y="Invalid input";break;case x.too_big:if(J.type==="array")Y=`Array must contain ${J.exact?"exactly":J.inclusive?"at most":"less than"} ${J.maximum} element(s)`;else if(J.type==="string")Y=`String must contain ${J.exact?"exactly":J.inclusive?"at most":"under"} ${J.maximum} character(s)`;else if(J.type==="number")Y=`Number must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`;else if(J.type==="bigint")Y=`BigInt must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`;else if(J.type==="date")Y=`Date must be ${J.exact?"exactly":J.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(J.maximum))}`;else Y="Invalid input";break;case x.custom:Y="Invalid input";break;case x.invalid_intersection_types:Y="Intersection results could not be merged";break;case x.not_multiple_of:Y=`Number must be a multiple of ${J.multipleOf}`;break;case x.not_finite:Y="Number must be finite";break;default:Y=Q.defaultError,P0.assertNever(J)}return{message:Y}},KY=CJ,DQ=(J)=>{const{data:Q,path:Y,errorMaps:X,issueData:W}=J,q=[...Y,...W.path||[]],K={...W,path:q};let V="";const F=X.filter((w)=>!!w).slice().reverse();for(let w of F)V=w(K,{data:Q,defaultError:V}).message;return{...W,path:q,message:W.message||V}},q9=[];class q8{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(J,Q){const Y=[];for(let X of Q){if(X.status==="aborted")return q0;if(X.status==="dirty")J.dirty();Y.push(X.value)}return{status:J.value,value:Y}}static async mergeObjectAsync(J,Q){const Y=[];for(let X of Q)Y.push({key:await X.key,value:await X.value});return q8.mergeObjectSync(J,Y)}static mergeObjectSync(J,Q){const Y={};for(let X of Q){const{key:W,value:q}=X;if(W.status==="aborted")return q0;if(q.status==="aborted")return q0;if(W.status==="dirty")J.dirty();if(q.status==="dirty")J.dirty();if(W.value!=="__proto__"&&(typeof q.value!=="undefined"||X.alwaysSet))Y[W.value]=q.value}return{status:J.value,value:Y}}}var q0=Object.freeze({status:"aborted"}),zY=(J)=>({status:"dirty",value:J}),F8=(J)=>({status:"valid",value:J}),rQ=(J)=>J.status==="aborted",aQ=(J)=>J.status==="dirty",bJ=(J)=>J.status==="valid",FQ=(J)=>typeof Promise!=="undefined"&&J instanceof Promise,J0;(function(J){J.errToObj=(Q)=>typeof Q==="string"?{message:Q}:Q||{},J.toString=(Q)=>typeof Q==="string"?Q:Q===null||Q===void 0?void 0:Q.message})(J0||(J0={}));class y8{constructor(J,Q,Y,X){this._cachedPath=[],this.parent=J,this.data=Q,this._path=Y,this._key=X}get path(){if(!this._cachedPath.length)if(this._key instanceof Array)this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var GY=(J,Q)=>{if(bJ(Q))return{success:!0,data:Q.value};else{if(!J.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const Y=new Z8(J.common.issues);return this._error=Y,this._error}}}};class z0{constructor(J){this.spa=this.safeParseAsync,this._def=J,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(J){return E1(J.data)}_getOrReturnCtx(J,Q){return Q||{common:J.parent.common,data:J.data,parsedType:E1(J.data),schemaErrorMap:this._def.errorMap,path:J.path,parent:J.parent}}_processInputParams(J){return{status:new q8,ctx:{common:J.parent.common,data:J.data,parsedType:E1(J.data),schemaErrorMap:this._def.errorMap,path:J.path,parent:J.parent}}}_parseSync(J){const Q=this._parse(J);if(FQ(Q))throw new Error("Synchronous parse encountered promise.");return Q}_parseAsync(J){const Q=this._parse(J);return Promise.resolve(Q)}parse(J,Q){const Y=this.safeParse(J,Q);if(Y.success)return Y.data;throw Y.error}safeParse(J,Q){var Y;const X={common:{issues:[],async:(Y=Q===null||Q===void 0?void 0:Q.async)!==null&&Y!==void 0?Y:!1,contextualErrorMap:Q===null||Q===void 0?void 0:Q.errorMap},path:(Q===null||Q===void 0?void 0:Q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:J,parsedType:E1(J)},W=this._parseSync({data:J,path:X.path,parent:X});return GY(X,W)}async parseAsync(J,Q){const Y=await this.safeParseAsync(J,Q);if(Y.success)return Y.data;throw Y.error}async safeParseAsync(J,Q){const Y={common:{issues:[],contextualErrorMap:Q===null||Q===void 0?void 0:Q.errorMap,async:!0},path:(Q===null||Q===void 0?void 0:Q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:J,parsedType:E1(J)},X=this._parse({data:J,path:Y.path,parent:Y}),W=await(FQ(X)?X:Promise.resolve(X));return GY(Y,W)}refine(J,Q){const Y=(X)=>{if(typeof Q==="string"||typeof Q==="undefined")return{message:Q};else if(typeof Q==="function")return Q(X);else return Q};return this._refinement((X,W)=>{const q=J(X),K=()=>W.addIssue({code:x.custom,...Y(X)});if(typeof Promise!=="undefined"&&q instanceof Promise)return q.then((V)=>{if(!V)return K(),!1;else return!0});if(!q)return K(),!1;else return!0})}refinement(J,Q){return this._refinement((Y,X)=>{if(!J(Y))return X.addIssue(typeof Q==="function"?Q(Y,X):Q),!1;else return!0})}_refinement(J){return new k8({schema:this,typeName:Y0.ZodEffects,effect:{type:"refinement",refinement:J}})}superRefine(J){return this._refinement(J)}optional(){return o8.create(this,this._def)}nullable(){return S1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return m8.create(this,this._def)}promise(){return s1.create(this,this._def)}or(J){return wJ.create([this,J],this._def)}and(J){return RJ.create(this,J,this._def)}transform(J){return new k8({...K0(this._def),schema:this,typeName:Y0.ZodEffects,effect:{type:"transform",transform:J}})}default(J){const Q=typeof J==="function"?J:()=>J;return new EJ({...K0(this._def),innerType:this,defaultValue:Q,typeName:Y0.ZodDefault})}brand(){return new eQ({typeName:Y0.ZodBranded,type:this,...K0(this._def)})}catch(J){const Q=typeof J==="function"?J:()=>J;return new uJ({...K0(this._def),innerType:this,catchValue:Q,typeName:Y0.ZodCatch})}describe(J){return new this.constructor({...this._def,description:J})}pipe(J){return dJ.create(this,J)}readonly(){return lJ.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var G9=/^c[^\s-]{8,}$/i,H9=/^[a-z][a-z0-9]*$/,K9=/^[0-9A-HJKMNP-TV-Z]{26}$/,z9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U9=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,M9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",oQ,D9=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,F9=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,V9=(J)=>{if(J.precision)if(J.offset)return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${J.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)\$`);else return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${J.precision}}Z\$`);else if(J.precision===0)if(J.offset)return new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$");else return new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$");else if(J.offset)return new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$");else return new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")};class g8 extends z0{_parse(J){if(this._def.coerce)J.data=String(J.data);if(this._getType(J)!==p.string){const W=this._getOrReturnCtx(J);return u(W,{code:x.invalid_type,expected:p.string,received:W.parsedType}),q0}const Y=new q8;let X=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(J.data.length<W.value)X=this._getOrReturnCtx(J,X),u(X,{code:x.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="max"){if(J.data.length>W.value)X=this._getOrReturnCtx(J,X),u(X,{code:x.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="length"){const q=J.data.length>W.value,K=J.data.length<W.value;if(q||K){if(X=this._getOrReturnCtx(J,X),q)u(X,{code:x.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});else if(K)u(X,{code:x.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});Y.dirty()}}else if(W.kind==="email"){if(!U9.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"email",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="emoji"){if(!oQ)oQ=new RegExp(M9,"u");if(!oQ.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"emoji",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="uuid"){if(!z9.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"uuid",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="cuid"){if(!G9.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"cuid",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="cuid2"){if(!H9.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"cuid2",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="ulid"){if(!K9.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"ulid",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="url")try{new URL(J.data)}catch(q){X=this._getOrReturnCtx(J,X),u(X,{validation:"url",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="regex"){if(W.regex.lastIndex=0,!W.regex.test(J.data))X=this._getOrReturnCtx(J,X),u(X,{validation:"regex",code:x.invalid_string,message:W.message}),Y.dirty()}else if(W.kind==="trim")J.data=J.data.trim();else if(W.kind==="includes"){if(!J.data.includes(W.value,W.position))X=this._getOrReturnCtx(J,X),u(X,{code:x.invalid_string,validation:{includes:W.value,position:W.position},message:W.message}),Y.dirty()}else if(W.kind==="toLowerCase")J.data=J.data.toLowerCase();else if(W.kind==="toUpperCase")J.data=J.data.toUpperCase();else if(W.kind==="startsWith"){if(!J.data.startsWith(W.value))X=this._getOrReturnCtx(J,X),u(X,{code:x.invalid_string,validation:{startsWith:W.value},message:W.message}),Y.dirty()}else if(W.kind==="endsWith"){if(!J.data.endsWith(W.value))X=this._getOrReturnCtx(J,X),u(X,{code:x.invalid_string,validation:{endsWith:W.value},message:W.message}),Y.dirty()}else if(W.kind==="datetime"){if(!V9(W).test(J.data))X=this._getOrReturnCtx(J,X),u(X,{code:x.invalid_string,validation:"datetime",message:W.message}),Y.dirty()}else if(W.kind==="ip"){if(!O9(J.data,W.version))X=this._getOrReturnCtx(J,X),u(X,{validation:"ip",code:x.invalid_string,message:W.message}),Y.dirty()}else P0.assertNever(W);return{status:Y.value,value:J.data}}_regex(J,Q,Y){return this.refinement((X)=>J.test(X),{validation:Q,code:x.invalid_string,...J0.errToObj(Y)})}_addCheck(J){return new g8({...this._def,checks:[...this._def.checks,J]})}email(J){return this._addCheck({kind:"email",...J0.errToObj(J)})}url(J){return this._addCheck({kind:"url",...J0.errToObj(J)})}emoji(J){return this._addCheck({kind:"emoji",...J0.errToObj(J)})}uuid(J){return this._addCheck({kind:"uuid",...J0.errToObj(J)})}cuid(J){return this._addCheck({kind:"cuid",...J0.errToObj(J)})}cuid2(J){return this._addCheck({kind:"cuid2",...J0.errToObj(J)})}ulid(J){return this._addCheck({kind:"ulid",...J0.errToObj(J)})}ip(J){return this._addCheck({kind:"ip",...J0.errToObj(J)})}datetime(J){var Q;if(typeof J==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,message:J});return this._addCheck({kind:"datetime",precision:typeof(J===null||J===void 0?void 0:J.precision)==="undefined"?null:J===null||J===void 0?void 0:J.precision,offset:(Q=J===null||J===void 0?void 0:J.offset)!==null&&Q!==void 0?Q:!1,...J0.errToObj(J===null||J===void 0?void 0:J.message)})}regex(J,Q){return this._addCheck({kind:"regex",regex:J,...J0.errToObj(Q)})}includes(J,Q){return this._addCheck({kind:"includes",value:J,position:Q===null||Q===void 0?void 0:Q.position,...J0.errToObj(Q===null||Q===void 0?void 0:Q.message)})}startsWith(J,Q){return this._addCheck({kind:"startsWith",value:J,...J0.errToObj(Q)})}endsWith(J,Q){return this._addCheck({kind:"endsWith",value:J,...J0.errToObj(Q)})}min(J,Q){return this._addCheck({kind:"min",value:J,...J0.errToObj(Q)})}max(J,Q){return this._addCheck({kind:"max",value:J,...J0.errToObj(Q)})}length(J,Q){return this._addCheck({kind:"length",value:J,...J0.errToObj(Q)})}nonempty(J){return this.min(1,J0.errToObj(J))}trim(){return new g8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new g8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new g8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((J)=>J.kind==="datetime")}get isEmail(){return!!this._def.checks.find((J)=>J.kind==="email")}get isURL(){return!!this._def.checks.find((J)=>J.kind==="url")}get isEmoji(){return!!this._def.checks.find((J)=>J.kind==="emoji")}get isUUID(){return!!this._def.checks.find((J)=>J.kind==="uuid")}get isCUID(){return!!this._def.checks.find((J)=>J.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((J)=>J.kind==="cuid2")}get isULID(){return!!this._def.checks.find((J)=>J.kind==="ulid")}get isIP(){return!!this._def.checks.find((J)=>J.kind==="ip")}get minLength(){let J=null;for(let Q of this._def.checks)if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}return J}get maxLength(){let J=null;for(let Q of this._def.checks)if(Q.kind==="max"){if(J===null||Q.value<J)J=Q.value}return J}}g8.create=(J)=>{var Q;return new g8({checks:[],typeName:Y0.ZodString,coerce:(Q=J===null||J===void 0?void 0:J.coerce)!==null&&Q!==void 0?Q:!1,...K0(J)})};class j1 extends z0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(J){if(this._def.coerce)J.data=Number(J.data);if(this._getType(J)!==p.number){const W=this._getOrReturnCtx(J);return u(W,{code:x.invalid_type,expected:p.number,received:W.parsedType}),q0}let Y=void 0;const X=new q8;for(let W of this._def.checks)if(W.kind==="int"){if(!P0.isInteger(J.data))Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.invalid_type,expected:"integer",received:"float",message:W.message}),X.dirty()}else if(W.kind==="min"){if(W.inclusive?J.data<W.value:J.data<=W.value)Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.too_small,minimum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),X.dirty()}else if(W.kind==="max"){if(W.inclusive?J.data>W.value:J.data>=W.value)Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.too_big,maximum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),X.dirty()}else if(W.kind==="multipleOf"){if(w9(J.data,W.value)!==0)Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.not_multiple_of,multipleOf:W.value,message:W.message}),X.dirty()}else if(W.kind==="finite"){if(!Number.isFinite(J.data))Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.not_finite,message:W.message}),X.dirty()}else P0.assertNever(W);return{status:X.value,value:J.data}}gte(J,Q){return this.setLimit("min",J,!0,J0.toString(Q))}gt(J,Q){return this.setLimit("min",J,!1,J0.toString(Q))}lte(J,Q){return this.setLimit("max",J,!0,J0.toString(Q))}lt(J,Q){return this.setLimit("max",J,!1,J0.toString(Q))}setLimit(J,Q,Y,X){return new j1({...this._def,checks:[...this._def.checks,{kind:J,value:Q,inclusive:Y,message:J0.toString(X)}]})}_addCheck(J){return new j1({...this._def,checks:[...this._def.checks,J]})}int(J){return this._addCheck({kind:"int",message:J0.toString(J)})}positive(J){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J0.toString(J)})}negative(J){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J0.toString(J)})}nonpositive(J){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J0.toString(J)})}nonnegative(J){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J0.toString(J)})}multipleOf(J,Q){return this._addCheck({kind:"multipleOf",value:J,message:J0.toString(Q)})}finite(J){return this._addCheck({kind:"finite",message:J0.toString(J)})}safe(J){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J0.toString(J)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J0.toString(J)})}get minValue(){let J=null;for(let Q of this._def.checks)if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}return J}get maxValue(){let J=null;for(let Q of this._def.checks)if(Q.kind==="max"){if(J===null||Q.value<J)J=Q.value}return J}get isInt(){return!!this._def.checks.find((J)=>J.kind==="int"||J.kind==="multipleOf"&&P0.isInteger(J.value))}get isFinite(){let J=null,Q=null;for(let Y of this._def.checks)if(Y.kind==="finite"||Y.kind==="int"||Y.kind==="multipleOf")return!0;else if(Y.kind==="min"){if(Q===null||Y.value>Q)Q=Y.value}else if(Y.kind==="max"){if(J===null||Y.value<J)J=Y.value}return Number.isFinite(Q)&&Number.isFinite(J)}}j1.create=(J)=>{return new j1({checks:[],typeName:Y0.ZodNumber,coerce:(J===null||J===void 0?void 0:J.coerce)||!1,...K0(J)})};class P1 extends z0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(J){if(this._def.coerce)J.data=BigInt(J.data);if(this._getType(J)!==p.bigint){const W=this._getOrReturnCtx(J);return u(W,{code:x.invalid_type,expected:p.bigint,received:W.parsedType}),q0}let Y=void 0;const X=new q8;for(let W of this._def.checks)if(W.kind==="min"){if(W.inclusive?J.data<W.value:J.data<=W.value)Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.too_small,type:"bigint",minimum:W.value,inclusive:W.inclusive,message:W.message}),X.dirty()}else if(W.kind==="max"){if(W.inclusive?J.data>W.value:J.data>=W.value)Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.too_big,type:"bigint",maximum:W.value,inclusive:W.inclusive,message:W.message}),X.dirty()}else if(W.kind==="multipleOf"){if(J.data%W.value!==BigInt(0))Y=this._getOrReturnCtx(J,Y),u(Y,{code:x.not_multiple_of,multipleOf:W.value,message:W.message}),X.dirty()}else P0.assertNever(W);return{status:X.value,value:J.data}}gte(J,Q){return this.setLimit("min",J,!0,J0.toString(Q))}gt(J,Q){return this.setLimit("min",J,!1,J0.toString(Q))}lte(J,Q){return this.setLimit("max",J,!0,J0.toString(Q))}lt(J,Q){return this.setLimit("max",J,!1,J0.toString(Q))}setLimit(J,Q,Y,X){return new P1({...this._def,checks:[...this._def.checks,{kind:J,value:Q,inclusive:Y,message:J0.toString(X)}]})}_addCheck(J){return new P1({...this._def,checks:[...this._def.checks,J]})}positive(J){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J0.toString(J)})}negative(J){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J0.toString(J)})}nonpositive(J){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J0.toString(J)})}nonnegative(J){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J0.toString(J)})}multipleOf(J,Q){return this._addCheck({kind:"multipleOf",value:J,message:J0.toString(Q)})}get minValue(){let J=null;for(let Q of this._def.checks)if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}return J}get maxValue(){let J=null;for(let Q of this._def.checks)if(Q.kind==="max"){if(J===null||Q.value<J)J=Q.value}return J}}P1.create=(J)=>{var Q;return new P1({checks:[],typeName:Y0.ZodBigInt,coerce:(Q=J===null||J===void 0?void 0:J.coerce)!==null&&Q!==void 0?Q:!1,...K0(J)})};class FJ extends z0{_parse(J){if(this._def.coerce)J.data=Boolean(J.data);if(this._getType(J)!==p.boolean){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.boolean,received:Y.parsedType}),q0}return F8(J.data)}}FJ.create=(J)=>{return new FJ({typeName:Y0.ZodBoolean,coerce:(J===null||J===void 0?void 0:J.coerce)||!1,...K0(J)})};class n1 extends z0{_parse(J){if(this._def.coerce)J.data=new Date(J.data);if(this._getType(J)!==p.date){const W=this._getOrReturnCtx(J);return u(W,{code:x.invalid_type,expected:p.date,received:W.parsedType}),q0}if(isNaN(J.data.getTime())){const W=this._getOrReturnCtx(J);return u(W,{code:x.invalid_date}),q0}const Y=new q8;let X=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(J.data.getTime()<W.value)X=this._getOrReturnCtx(J,X),u(X,{code:x.too_small,message:W.message,inclusive:!0,exact:!1,minimum:W.value,type:"date"}),Y.dirty()}else if(W.kind==="max"){if(J.data.getTime()>W.value)X=this._getOrReturnCtx(J,X),u(X,{code:x.too_big,message:W.message,inclusive:!0,exact:!1,maximum:W.value,type:"date"}),Y.dirty()}else P0.assertNever(W);return{status:Y.value,value:new Date(J.data.getTime())}}_addCheck(J){return new n1({...this._def,checks:[...this._def.checks,J]})}min(J,Q){return this._addCheck({kind:"min",value:J.getTime(),message:J0.toString(Q)})}max(J,Q){return this._addCheck({kind:"max",value:J.getTime(),message:J0.toString(Q)})}get minDate(){let J=null;for(let Q of this._def.checks)if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}return J!=null?new Date(J):null}get maxDate(){let J=null;for(let Q of this._def.checks)if(Q.kind==="max"){if(J===null||Q.value<J)J=Q.value}return J!=null?new Date(J):null}}n1.create=(J)=>{return new n1({checks:[],coerce:(J===null||J===void 0?void 0:J.coerce)||!1,typeName:Y0.ZodDate,...K0(J)})};class gJ extends z0{_parse(J){if(this._getType(J)!==p.symbol){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.symbol,received:Y.parsedType}),q0}return F8(J.data)}}gJ.create=(J)=>{return new gJ({typeName:Y0.ZodSymbol,...K0(J)})};class VJ extends z0{_parse(J){if(this._getType(J)!==p.undefined){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.undefined,received:Y.parsedType}),q0}return F8(J.data)}}VJ.create=(J)=>{return new VJ({typeName:Y0.ZodUndefined,...K0(J)})};class OJ extends z0{_parse(J){if(this._getType(J)!==p.null){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.null,received:Y.parsedType}),q0}return F8(J.data)}}OJ.create=(J)=>{return new OJ({typeName:Y0.ZodNull,...K0(J)})};class i1 extends z0{constructor(){super(...arguments);this._any=!0}_parse(J){return F8(J.data)}}i1.create=(J)=>{return new i1({typeName:Y0.ZodAny,...K0(J)})};class A1 extends z0{constructor(){super(...arguments);this._unknown=!0}_parse(J){return F8(J.data)}}A1.create=(J)=>{return new A1({typeName:Y0.ZodUnknown,...K0(J)})};class s8 extends z0{_parse(J){const Q=this._getOrReturnCtx(J);return u(Q,{code:x.invalid_type,expected:p.never,received:Q.parsedType}),q0}}s8.create=(J)=>{return new s8({typeName:Y0.ZodNever,...K0(J)})};class mJ extends z0{_parse(J){if(this._getType(J)!==p.undefined){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.void,received:Y.parsedType}),q0}return F8(J.data)}}mJ.create=(J)=>{return new mJ({typeName:Y0.ZodVoid,...K0(J)})};class m8 extends z0{_parse(J){const{ctx:Q,status:Y}=this._processInputParams(J),X=this._def;if(Q.parsedType!==p.array)return u(Q,{code:x.invalid_type,expected:p.array,received:Q.parsedType}),q0;if(X.exactLength!==null){const q=Q.data.length>X.exactLength.value,K=Q.data.length<X.exactLength.value;if(q||K)u(Q,{code:q?x.too_big:x.too_small,minimum:K?X.exactLength.value:void 0,maximum:q?X.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:X.exactLength.message}),Y.dirty()}if(X.minLength!==null){if(Q.data.length<X.minLength.value)u(Q,{code:x.too_small,minimum:X.minLength.value,type:"array",inclusive:!0,exact:!1,message:X.minLength.message}),Y.dirty()}if(X.maxLength!==null){if(Q.data.length>X.maxLength.value)u(Q,{code:x.too_big,maximum:X.maxLength.value,type:"array",inclusive:!0,exact:!1,message:X.maxLength.message}),Y.dirty()}if(Q.common.async)return Promise.all([...Q.data].map((q,K)=>{return X.type._parseAsync(new y8(Q,q,Q.path,K))})).then((q)=>{return q8.mergeArray(Y,q)});const W=[...Q.data].map((q,K)=>{return X.type._parseSync(new y8(Q,q,Q.path,K))});return q8.mergeArray(Y,W)}get element(){return this._def.type}min(J,Q){return new m8({...this._def,minLength:{value:J,message:J0.toString(Q)}})}max(J,Q){return new m8({...this._def,maxLength:{value:J,message:J0.toString(Q)}})}length(J,Q){return new m8({...this._def,exactLength:{value:J,message:J0.toString(Q)}})}nonempty(J){return this.min(1,J)}}m8.create=(J,Q)=>{return new m8({type:J,minLength:null,maxLength:null,exactLength:null,typeName:Y0.ZodArray,...K0(Q)})};class m0 extends z0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const J=this._def.shape(),Q=P0.objectKeys(J);return this._cached={shape:J,keys:Q}}_parse(J){if(this._getType(J)!==p.object){const F=this._getOrReturnCtx(J);return u(F,{code:x.invalid_type,expected:p.object,received:F.parsedType}),q0}const{status:Y,ctx:X}=this._processInputParams(J),{shape:W,keys:q}=this._getCached(),K=[];if(!(this._def.catchall instanceof s8&&this._def.unknownKeys==="strip")){for(let F in X.data)if(!q.includes(F))K.push(F)}const V=[];for(let F of q){const w=W[F],O=X.data[F];V.push({key:{status:"valid",value:F},value:w._parse(new y8(X,O,X.path,F)),alwaysSet:F in X.data})}if(this._def.catchall instanceof s8){const F=this._def.unknownKeys;if(F==="passthrough")for(let w of K)V.push({key:{status:"valid",value:w},value:{status:"valid",value:X.data[w]}});else if(F==="strict"){if(K.length>0)u(X,{code:x.unrecognized_keys,keys:K}),Y.dirty()}else if(F==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const F=this._def.catchall;for(let w of K){const O=X.data[w];V.push({key:{status:"valid",value:w},value:F._parse(new y8(X,O,X.path,w)),alwaysSet:w in X.data})}}if(X.common.async)return Promise.resolve().then(async()=>{const F=[];for(let w of V){const O=await w.key;F.push({key:O,value:await w.value,alwaysSet:w.alwaysSet})}return F}).then((F)=>{return q8.mergeObjectSync(Y,F)});else return q8.mergeObjectSync(Y,V)}get shape(){return this._def.shape()}strict(J){return J0.errToObj,new m0({...this._def,unknownKeys:"strict",...J!==void 0?{errorMap:(Q,Y)=>{var X,W,q,K;const V=(q=(W=(X=this._def).errorMap)===null||W===void 0?void 0:W.call(X,Q,Y).message)!==null&&q!==void 0?q:Y.defaultError;if(Q.code==="unrecognized_keys")return{message:(K=J0.errToObj(J).message)!==null&&K!==void 0?K:V};return{message:V}}}:{}})}strip(){return new m0({...this._def,unknownKeys:"strip"})}passthrough(){return new m0({...this._def,unknownKeys:"passthrough"})}extend(J){return new m0({...this._def,shape:()=>({...this._def.shape(),...J})})}merge(J){return new m0({unknownKeys:J._def.unknownKeys,catchall:J._def.catchall,shape:()=>({...this._def.shape(),...J._def.shape()}),typeName:Y0.ZodObject})}setKey(J,Q){return this.augment({[J]:Q})}catchall(J){return new m0({...this._def,catchall:J})}pick(J){const Q={};return P0.objectKeys(J).forEach((Y)=>{if(J[Y]&&this.shape[Y])Q[Y]=this.shape[Y]}),new m0({...this._def,shape:()=>Q})}omit(J){const Q={};return P0.objectKeys(this.shape).forEach((Y)=>{if(!J[Y])Q[Y]=this.shape[Y]}),new m0({...this._def,shape:()=>Q})}deepPartial(){return MJ(this)}partial(J){const Q={};return P0.objectKeys(this.shape).forEach((Y)=>{const X=this.shape[Y];if(J&&!J[Y])Q[Y]=X;else Q[Y]=X.optional()}),new m0({...this._def,shape:()=>Q})}required(J){const Q={};return P0.objectKeys(this.shape).forEach((Y)=>{if(J&&!J[Y])Q[Y]=this.shape[Y];else{let W=this.shape[Y];while(W instanceof o8)W=W._def.innerType;Q[Y]=W}}),new m0({...this._def,shape:()=>Q})}keyof(){return UY(P0.objectKeys(this.shape))}}m0.create=(J,Q)=>{return new m0({shape:()=>J,unknownKeys:"strip",catchall:s8.create(),typeName:Y0.ZodObject,...K0(Q)})};m0.strictCreate=(J,Q)=>{return new m0({shape:()=>J,unknownKeys:"strict",catchall:s8.create(),typeName:Y0.ZodObject,...K0(Q)})};m0.lazycreate=(J,Q)=>{return new m0({shape:J,unknownKeys:"strip",catchall:s8.create(),typeName:Y0.ZodObject,...K0(Q)})};class wJ extends z0{_parse(J){const{ctx:Q}=this._processInputParams(J),Y=this._def.options;function X(W){for(let K of W)if(K.result.status==="valid")return K.result;for(let K of W)if(K.result.status==="dirty")return Q.common.issues.push(...K.ctx.common.issues),K.result;const q=W.map((K)=>new Z8(K.ctx.common.issues));return u(Q,{code:x.invalid_union,unionErrors:q}),q0}if(Q.common.async)return Promise.all(Y.map(async(W)=>{const q={...Q,common:{...Q.common,issues:[]},parent:null};return{result:await W._parseAsync({data:Q.data,path:Q.path,parent:q}),ctx:q}})).then(X);else{let W=void 0;const q=[];for(let V of Y){const F={...Q,common:{...Q.common,issues:[]},parent:null},w=V._parseSync({data:Q.data,path:Q.path,parent:F});if(w.status==="valid")return w;else if(w.status==="dirty"&&!W)W={result:w,ctx:F};if(F.common.issues.length)q.push(F.common.issues)}if(W)return Q.common.issues.push(...W.ctx.common.issues),W.result;const K=q.map((V)=>new Z8(V));return u(Q,{code:x.invalid_union,unionErrors:K}),q0}}get options(){return this._def.options}}wJ.create=(J,Q)=>{return new wJ({options:J,typeName:Y0.ZodUnion,...K0(Q)})};var UQ=(J)=>{if(J instanceof LJ)return UQ(J.schema);else if(J instanceof k8)return UQ(J.innerType());else if(J instanceof NJ)return[J.value];else if(J instanceof _1)return J.options;else if(J instanceof BJ)return Object.keys(J.enum);else if(J instanceof EJ)return UQ(J._def.innerType);else if(J instanceof VJ)return[void 0];else if(J instanceof OJ)return[null];else return null};class VQ extends z0{_parse(J){const{ctx:Q}=this._processInputParams(J);if(Q.parsedType!==p.object)return u(Q,{code:x.invalid_type,expected:p.object,received:Q.parsedType}),q0;const Y=this.discriminator,X=Q.data[Y],W=this.optionsMap.get(X);if(!W)return u(Q,{code:x.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Y]}),q0;if(Q.common.async)return W._parseAsync({data:Q.data,path:Q.path,parent:Q});else return W._parseSync({data:Q.data,path:Q.path,parent:Q})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(J,Q,Y){const X=new Map;for(let W of Q){const q=UQ(W.shape[J]);if(!q)throw new Error(`A discriminator value for key \`${J}\` could not be extracted from all schema options`);for(let K of q){if(X.has(K))throw new Error(`Discriminator property ${String(J)} has duplicate value ${String(K)}`);X.set(K,W)}}return new VQ({typeName:Y0.ZodDiscriminatedUnion,discriminator:J,options:Q,optionsMap:X,...K0(Y)})}}class RJ extends z0{_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J),X=(W,q)=>{if(rQ(W)||rQ(q))return q0;const K=tQ(W.value,q.value);if(!K.valid)return u(Y,{code:x.invalid_intersection_types}),q0;if(aQ(W)||aQ(q))Q.dirty();return{status:Q.value,value:K.data}};if(Y.common.async)return Promise.all([this._def.left._parseAsync({data:Y.data,path:Y.path,parent:Y}),this._def.right._parseAsync({data:Y.data,path:Y.path,parent:Y})]).then(([W,q])=>X(W,q));else return X(this._def.left._parseSync({data:Y.data,path:Y.path,parent:Y}),this._def.right._parseSync({data:Y.data,path:Y.path,parent:Y}))}}RJ.create=(J,Q,Y)=>{return new RJ({left:J,right:Q,typeName:Y0.ZodIntersection,...K0(Y)})};class r8 extends z0{_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J);if(Y.parsedType!==p.array)return u(Y,{code:x.invalid_type,expected:p.array,received:Y.parsedType}),q0;if(Y.data.length<this._def.items.length)return u(Y,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q0;if(!this._def.rest&&Y.data.length>this._def.items.length)u(Y,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q.dirty();const W=[...Y.data].map((q,K)=>{const V=this._def.items[K]||this._def.rest;if(!V)return null;return V._parse(new y8(Y,q,Y.path,K))}).filter((q)=>!!q);if(Y.common.async)return Promise.all(W).then((q)=>{return q8.mergeArray(Q,q)});else return q8.mergeArray(Q,W)}get items(){return this._def.items}rest(J){return new r8({...this._def,rest:J})}}r8.create=(J,Q)=>{if(!Array.isArray(J))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r8({items:J,typeName:Y0.ZodTuple,rest:null,...K0(Q)})};class yJ extends z0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J);if(Y.parsedType!==p.object)return u(Y,{code:x.invalid_type,expected:p.object,received:Y.parsedType}),q0;const X=[],W=this._def.keyType,q=this._def.valueType;for(let K in Y.data)X.push({key:W._parse(new y8(Y,K,Y.path,K)),value:q._parse(new y8(Y,Y.data[K],Y.path,K))});if(Y.common.async)return q8.mergeObjectAsync(Q,X);else return q8.mergeObjectSync(Q,X)}get element(){return this._def.valueType}static create(J,Q,Y){if(Q instanceof z0)return new yJ({keyType:J,valueType:Q,typeName:Y0.ZodRecord,...K0(Y)});return new yJ({keyType:g8.create(),valueType:J,typeName:Y0.ZodRecord,...K0(Q)})}}class pJ extends z0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J);if(Y.parsedType!==p.map)return u(Y,{code:x.invalid_type,expected:p.map,received:Y.parsedType}),q0;const X=this._def.keyType,W=this._def.valueType,q=[...Y.data.entries()].map(([K,V],F)=>{return{key:X._parse(new y8(Y,K,Y.path,[F,"key"])),value:W._parse(new y8(Y,V,Y.path,[F,"value"]))}});if(Y.common.async){const K=new Map;return Promise.resolve().then(async()=>{for(let V of q){const F=await V.key,w=await V.value;if(F.status==="aborted"||w.status==="aborted")return q0;if(F.status==="dirty"||w.status==="dirty")Q.dirty();K.set(F.value,w.value)}return{status:Q.value,value:K}})}else{const K=new Map;for(let V of q){const{key:F,value:w}=V;if(F.status==="aborted"||w.status==="aborted")return q0;if(F.status==="dirty"||w.status==="dirty")Q.dirty();K.set(F.value,w.value)}return{status:Q.value,value:K}}}}pJ.create=(J,Q,Y)=>{return new pJ({valueType:Q,keyType:J,typeName:Y0.ZodMap,...K0(Y)})};class o1 extends z0{_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J);if(Y.parsedType!==p.set)return u(Y,{code:x.invalid_type,expected:p.set,received:Y.parsedType}),q0;const X=this._def;if(X.minSize!==null){if(Y.data.size<X.minSize.value)u(Y,{code:x.too_small,minimum:X.minSize.value,type:"set",inclusive:!0,exact:!1,message:X.minSize.message}),Q.dirty()}if(X.maxSize!==null){if(Y.data.size>X.maxSize.value)u(Y,{code:x.too_big,maximum:X.maxSize.value,type:"set",inclusive:!0,exact:!1,message:X.maxSize.message}),Q.dirty()}const W=this._def.valueType;function q(V){const F=new Set;for(let w of V){if(w.status==="aborted")return q0;if(w.status==="dirty")Q.dirty();F.add(w.value)}return{status:Q.value,value:F}}const K=[...Y.data.values()].map((V,F)=>W._parse(new y8(Y,V,Y.path,F)));if(Y.common.async)return Promise.all(K).then((V)=>q(V));else return q(K)}min(J,Q){return new o1({...this._def,minSize:{value:J,message:J0.toString(Q)}})}max(J,Q){return new o1({...this._def,maxSize:{value:J,message:J0.toString(Q)}})}size(J,Q){return this.min(J,Q).max(J,Q)}nonempty(J){return this.min(1,J)}}o1.create=(J,Q)=>{return new o1({valueType:J,minSize:null,maxSize:null,typeName:Y0.ZodSet,...K0(Q)})};class DJ extends z0{constructor(){super(...arguments);this.validate=this.implement}_parse(J){const{ctx:Q}=this._processInputParams(J);if(Q.parsedType!==p.function)return u(Q,{code:x.invalid_type,expected:p.function,received:Q.parsedType}),q0;function Y(K,V){return DQ({data:K,path:Q.path,errorMaps:[Q.common.contextualErrorMap,Q.schemaErrorMap,MQ(),CJ].filter((F)=>!!F),issueData:{code:x.invalid_arguments,argumentsError:V}})}function X(K,V){return DQ({data:K,path:Q.path,errorMaps:[Q.common.contextualErrorMap,Q.schemaErrorMap,MQ(),CJ].filter((F)=>!!F),issueData:{code:x.invalid_return_type,returnTypeError:V}})}const W={errorMap:Q.common.contextualErrorMap},q=Q.data;if(this._def.returns instanceof s1){const K=this;return F8(async function(...V){const F=new Z8([]),w=await K._def.args.parseAsync(V,W).catch((_)=>{throw F.addIssue(Y(V,_)),F}),O=await Reflect.apply(q,this,w);return await K._def.returns._def.type.parseAsync(O,W).catch((_)=>{throw F.addIssue(X(O,_)),F})})}else{const K=this;return F8(function(...V){const F=K._def.args.safeParse(V,W);if(!F.success)throw new Z8([Y(V,F.error)]);const w=Reflect.apply(q,this,F.data),O=K._def.returns.safeParse(w,W);if(!O.success)throw new Z8([X(w,O.error)]);return O.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...J){return new DJ({...this._def,args:r8.create(J).rest(A1.create())})}returns(J){return new DJ({...this._def,returns:J})}implement(J){return this.parse(J)}strictImplement(J){return this.parse(J)}static create(J,Q,Y){return new DJ({args:J?J:r8.create([]).rest(A1.create()),returns:Q||A1.create(),typeName:Y0.ZodFunction,...K0(Y)})}}class LJ extends z0{get schema(){return this._def.getter()}_parse(J){const{ctx:Q}=this._processInputParams(J);return this._def.getter()._parse({data:Q.data,path:Q.path,parent:Q})}}LJ.create=(J,Q)=>{return new LJ({getter:J,typeName:Y0.ZodLazy,...K0(Q)})};class NJ extends z0{_parse(J){if(J.data!==this._def.value){const Q=this._getOrReturnCtx(J);return u(Q,{received:Q.data,code:x.invalid_literal,expected:this._def.value}),q0}return{status:"valid",value:J.data}}get value(){return this._def.value}}NJ.create=(J,Q)=>{return new NJ({value:J,typeName:Y0.ZodLiteral,...K0(Q)})};class _1 extends z0{_parse(J){if(typeof J.data!=="string"){const Q=this._getOrReturnCtx(J),Y=this._def.values;return u(Q,{expected:P0.joinValues(Y),received:Q.parsedType,code:x.invalid_type}),q0}if(this._def.values.indexOf(J.data)===-1){const Q=this._getOrReturnCtx(J),Y=this._def.values;return u(Q,{received:Q.data,code:x.invalid_enum_value,options:Y}),q0}return F8(J.data)}get options(){return this._def.values}get enum(){const J={};for(let Q of this._def.values)J[Q]=Q;return J}get Values(){const J={};for(let Q of this._def.values)J[Q]=Q;return J}get Enum(){const J={};for(let Q of this._def.values)J[Q]=Q;return J}extract(J){return _1.create(J)}exclude(J){return _1.create(this.options.filter((Q)=>!J.includes(Q)))}}_1.create=UY;class BJ extends z0{_parse(J){const Q=P0.getValidEnumValues(this._def.values),Y=this._getOrReturnCtx(J);if(Y.parsedType!==p.string&&Y.parsedType!==p.number){const X=P0.objectValues(Q);return u(Y,{expected:P0.joinValues(X),received:Y.parsedType,code:x.invalid_type}),q0}if(Q.indexOf(J.data)===-1){const X=P0.objectValues(Q);return u(Y,{received:Y.data,code:x.invalid_enum_value,options:X}),q0}return F8(J.data)}get enum(){return this._def.values}}BJ.create=(J,Q)=>{return new BJ({values:J,typeName:Y0.ZodNativeEnum,...K0(Q)})};class s1 extends z0{unwrap(){return this._def.type}_parse(J){const{ctx:Q}=this._processInputParams(J);if(Q.parsedType!==p.promise&&Q.common.async===!1)return u(Q,{code:x.invalid_type,expected:p.promise,received:Q.parsedType}),q0;const Y=Q.parsedType===p.promise?Q.data:Promise.resolve(Q.data);return F8(Y.then((X)=>{return this._def.type.parseAsync(X,{path:Q.path,errorMap:Q.common.contextualErrorMap})}))}}s1.create=(J,Q)=>{return new s1({type:J,typeName:Y0.ZodPromise,...K0(Q)})};class k8 extends z0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y0.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J),X=this._def.effect||null,W={addIssue:(q)=>{if(u(Y,q),q.fatal)Q.abort();else Q.dirty()},get path(){return Y.path}};if(W.addIssue=W.addIssue.bind(W),X.type==="preprocess"){const q=X.transform(Y.data,W);if(Y.common.issues.length)return{status:"dirty",value:Y.data};if(Y.common.async)return Promise.resolve(q).then((K)=>{return this._def.schema._parseAsync({data:K,path:Y.path,parent:Y})});else return this._def.schema._parseSync({data:q,path:Y.path,parent:Y})}if(X.type==="refinement"){const q=(K)=>{const V=X.refinement(K,W);if(Y.common.async)return Promise.resolve(V);if(V instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return K};if(Y.common.async===!1){const K=this._def.schema._parseSync({data:Y.data,path:Y.path,parent:Y});if(K.status==="aborted")return q0;if(K.status==="dirty")Q.dirty();return q(K.value),{status:Q.value,value:K.value}}else return this._def.schema._parseAsync({data:Y.data,path:Y.path,parent:Y}).then((K)=>{if(K.status==="aborted")return q0;if(K.status==="dirty")Q.dirty();return q(K.value).then(()=>{return{status:Q.value,value:K.value}})})}if(X.type==="transform")if(Y.common.async===!1){const q=this._def.schema._parseSync({data:Y.data,path:Y.path,parent:Y});if(!bJ(q))return q;const K=X.transform(q.value,W);if(K instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:Q.value,value:K}}else return this._def.schema._parseAsync({data:Y.data,path:Y.path,parent:Y}).then((q)=>{if(!bJ(q))return q;return Promise.resolve(X.transform(q.value,W)).then((K)=>({status:Q.value,value:K}))});P0.assertNever(X)}}k8.create=(J,Q,Y)=>{return new k8({schema:J,typeName:Y0.ZodEffects,effect:Q,...K0(Y)})};k8.createWithPreprocess=(J,Q,Y)=>{return new k8({schema:Q,effect:{type:"preprocess",transform:J},typeName:Y0.ZodEffects,...K0(Y)})};class o8 extends z0{_parse(J){if(this._getType(J)===p.undefined)return F8(void 0);return this._def.innerType._parse(J)}unwrap(){return this._def.innerType}}o8.create=(J,Q)=>{return new o8({innerType:J,typeName:Y0.ZodOptional,...K0(Q)})};class S1 extends z0{_parse(J){if(this._getType(J)===p.null)return F8(null);return this._def.innerType._parse(J)}unwrap(){return this._def.innerType}}S1.create=(J,Q)=>{return new S1({innerType:J,typeName:Y0.ZodNullable,...K0(Q)})};class EJ extends z0{_parse(J){const{ctx:Q}=this._processInputParams(J);let Y=Q.data;if(Q.parsedType===p.undefined)Y=this._def.defaultValue();return this._def.innerType._parse({data:Y,path:Q.path,parent:Q})}removeDefault(){return this._def.innerType}}EJ.create=(J,Q)=>{return new EJ({innerType:J,typeName:Y0.ZodDefault,defaultValue:typeof Q.default==="function"?Q.default:()=>Q.default,...K0(Q)})};class uJ extends z0{_parse(J){const{ctx:Q}=this._processInputParams(J),Y={...Q,common:{...Q.common,issues:[]}},X=this._def.innerType._parse({data:Y.data,path:Y.path,parent:{...Y}});if(FQ(X))return X.then((W)=>{return{status:"valid",value:W.status==="valid"?W.value:this._def.catchValue({get error(){return new Z8(Y.common.issues)},input:Y.data})}});else return{status:"valid",value:X.status==="valid"?X.value:this._def.catchValue({get error(){return new Z8(Y.common.issues)},input:Y.data})}}removeCatch(){return this._def.innerType}}uJ.create=(J,Q)=>{return new uJ({innerType:J,typeName:Y0.ZodCatch,catchValue:typeof Q.catch==="function"?Q.catch:()=>Q.catch,...K0(Q)})};class cJ extends z0{_parse(J){if(this._getType(J)!==p.nan){const Y=this._getOrReturnCtx(J);return u(Y,{code:x.invalid_type,expected:p.nan,received:Y.parsedType}),q0}return{status:"valid",value:J.data}}}cJ.create=(J)=>{return new cJ({typeName:Y0.ZodNaN,...K0(J)})};var R9=Symbol("zod_brand");class eQ extends z0{_parse(J){const{ctx:Q}=this._processInputParams(J),Y=Q.data;return this._def.type._parse({data:Y,path:Q.path,parent:Q})}unwrap(){return this._def.type}}class dJ extends z0{_parse(J){const{status:Q,ctx:Y}=this._processInputParams(J);if(Y.common.async)return(async()=>{const W=await this._def.in._parseAsync({data:Y.data,path:Y.path,parent:Y});if(W.status==="aborted")return q0;if(W.status==="dirty")return Q.dirty(),zY(W.value);else return this._def.out._parseAsync({data:W.value,path:Y.path,parent:Y})})();else{const X=this._def.in._parseSync({data:Y.data,path:Y.path,parent:Y});if(X.status==="aborted")return q0;if(X.status==="dirty")return Q.dirty(),{status:"dirty",value:X.value};else return this._def.out._parseSync({data:X.value,path:Y.path,parent:Y})}}static create(J,Q){return new dJ({in:J,out:Q,typeName:Y0.ZodPipeline})}}class lJ extends z0{_parse(J){const Q=this._def.innerType._parse(J);if(bJ(Q))Q.value=Object.freeze(Q.value);return Q}}lJ.create=(J,Q)=>{return new lJ({innerType:J,typeName:Y0.ZodReadonly,...K0(Q)})};var OQ=(J,Q={},Y)=>{if(J)return i1.create().superRefine((X,W)=>{var q,K;if(!J(X)){const V=typeof Q==="function"?Q(X):typeof Q==="string"?{message:Q}:Q,F=(K=(q=V.fatal)!==null&&q!==void 0?q:Y)!==null&&K!==void 0?K:!0,w=typeof V==="string"?{message:V}:V;W.addIssue({code:"custom",...w,fatal:F})}});return i1.create()},L9={object:m0.lazycreate},Y0;(function(J){J.ZodString="ZodString",J.ZodNumber="ZodNumber",J.ZodNaN="ZodNaN",J.ZodBigInt="ZodBigInt",J.ZodBoolean="ZodBoolean",J.ZodDate="ZodDate",J.ZodSymbol="ZodSymbol",J.ZodUndefined="ZodUndefined",J.ZodNull="ZodNull",J.ZodAny="ZodAny",J.ZodUnknown="ZodUnknown",J.ZodNever="ZodNever",J.ZodVoid="ZodVoid",J.ZodArray="ZodArray",J.ZodObject="ZodObject",J.ZodUnion="ZodUnion",J.ZodDiscriminatedUnion="ZodDiscriminatedUnion",J.ZodIntersection="ZodIntersection",J.ZodTuple="ZodTuple",J.ZodRecord="ZodRecord",J.ZodMap="ZodMap",J.ZodSet="ZodSet",J.ZodFunction="ZodFunction",J.ZodLazy="ZodLazy",J.ZodLiteral="ZodLiteral",J.ZodEnum="ZodEnum",J.ZodEffects="ZodEffects",J.ZodNativeEnum="ZodNativeEnum",J.ZodOptional="ZodOptional",J.ZodNullable="ZodNullable",J.ZodDefault="ZodDefault",J.ZodCatch="ZodCatch",J.ZodPromise="ZodPromise",J.ZodBranded="ZodBranded",J.ZodPipeline="ZodPipeline",J.ZodReadonly="ZodReadonly"})(Y0||(Y0={}));var N9=(J,Q={message:`Input not instance of ${J.name}`})=>OQ((Y)=>Y instanceof J,Q),E=g8.create,i=j1.create,B9=cJ.create,J5=P1.create,X0=FJ.create,E9=n1.create,A9=gJ.create,j9=VJ.create,nJ=OJ.create,P9=i1.create,r1=A1.create,_9=s8.create,S9=mJ.create,B0=m8.create,g=m0.create,Z9=m0.strictCreate,iJ=wJ.create,k9=VQ.create,I9=RJ.create,T9=r8.create,f9=yJ.create,h9=pJ.create,v9=o1.create,x9=DJ.create,C9=LJ.create,p0=NJ.create,b9=_1.create,M1=BJ.create,g9=s1.create,HY=k8.create,Q5=o8.create,m9=S1.create,Y5=k8.createWithPreprocess,y9=dJ.create,p9=()=>E().optional(),u9=()=>i().optional(),c9=()=>X0().optional(),l9={string:(J)=>g8.create({...J,coerce:!0}),number:(J)=>j1.create({...J,coerce:!0}),boolean:(J)=>FJ.create({...J,coerce:!0}),bigint:(J)=>P1.create({...J,coerce:!0}),date:(J)=>n1.create({...J,coerce:!0})},d9=q0,s=Object.freeze({__proto__:null,defaultErrorMap:CJ,setErrorMap:$9,getErrorMap:MQ,makeIssue:DQ,EMPTY_PATH:q9,addIssueToContext:u,ParseStatus:q8,INVALID:q0,DIRTY:zY,OK:F8,isAborted:rQ,isDirty:aQ,isValid:bJ,isAsync:FQ,get util(){return P0},get objectUtil(){return sQ},ZodParsedType:p,getParsedType:E1,ZodType:z0,ZodString:g8,ZodNumber:j1,ZodBigInt:P1,ZodBoolean:FJ,ZodDate:n1,ZodSymbol:gJ,ZodUndefined:VJ,ZodNull:OJ,ZodAny:i1,ZodUnknown:A1,ZodNever:s8,ZodVoid:mJ,ZodArray:m8,ZodObject:m0,ZodUnion:wJ,ZodDiscriminatedUnion:VQ,ZodIntersection:RJ,ZodTuple:r8,ZodRecord:yJ,ZodMap:pJ,ZodSet:o1,ZodFunction:DJ,ZodLazy:LJ,ZodLiteral:NJ,ZodEnum:_1,ZodNativeEnum:BJ,ZodPromise:s1,ZodEffects:k8,ZodTransformer:k8,ZodOptional:o8,ZodNullable:S1,ZodDefault:EJ,ZodCatch:uJ,ZodNaN:cJ,BRAND:R9,ZodBranded:eQ,ZodPipeline:dJ,ZodReadonly:lJ,custom:OQ,Schema:z0,ZodSchema:z0,late:L9,get ZodFirstPartyTypeKind(){return Y0},coerce:l9,any:P9,array:B0,bigint:J5,boolean:X0,date:E9,discriminatedUnion:k9,effect:HY,enum:b9,function:x9,instanceof:N9,intersection:I9,lazy:C9,literal:p0,map:h9,nan:B9,nativeEnum:M1,never:_9,null:nJ,nullable:m9,number:i,object:g,oboolean:c9,onumber:u9,optional:Q5,ostring:p9,pipeline:y9,preprocess:Y5,promise:g9,record:f9,set:v9,strictObject:Z9,string:E,symbol:A9,transformer:HY,tuple:T9,undefined:j9,union:iJ,unknown:r1,void:S9,NEVER:d9,ZodIssueCode:x,quotelessJson:W9,ZodError:Z8});var X5={exports:{}};(function(J){var Q=function(Y){var X=1e7,W=7,q=9007199254740992,K=o(q),V="0123456789abcdefghijklmnopqrstuvwxyz",F=typeof BigInt==="function";function w(z,D,N,j){if(typeof z==="undefined")return w[0];if(typeof D!=="undefined")return+D===10&&!N?t(z):q1(z,D,N,j);return t(z)}function O(z,D){this.value=z,this.sign=D,this.isSmall=!1}O.prototype=Object.create(w.prototype);function L(z){this.value=z,this.sign=z<0,this.isSmall=!0}L.prototype=Object.create(w.prototype);function _(z){this.value=z}_.prototype=Object.create(w.prototype);function h(z){return-q<z&&z<q}function o(z){if(z<1e7)return[z];if(z<100000000000000)return[z%1e7,Math.floor(z/1e7)];return[z%1e7,Math.floor(z/1e7)%1e7,Math.floor(z/100000000000000)]}function m(z){b(z);var D=z.length;if(D<4&&j8(z,K)<0)switch(D){case 0:return 0;case 1:return z[0];case 2:return z[0]+z[1]*X;default:return z[0]+(z[1]+z[2]*X)*X}return z}function b(z){var D=z.length;while(z[--D]===0);z.length=D+1}function A0(z){var D=new Array(z),N=-1;while(++N<z)D[N]=0;return D}function H0(z){if(z>0)return Math.floor(z);return Math.ceil(z)}function V0(z,D){var N=z.length,j=D.length,S=new Array(N),P=0,k=X,T,f;for(f=0;f<j;f++)T=z[f]+D[f]+P,P=T>=k?1:0,S[f]=T-P*k;while(f<N)T=z[f]+P,P=T===k?1:0,S[f++]=T-P*k;if(P>0)S.push(P);return S}function y0(z,D){if(z.length>=D.length)return V0(z,D);return V0(D,z)}function k0(z,D){var N=z.length,j=new Array(N),S=X,P,k;for(k=0;k<N;k++)P=z[k]-S+D,D=Math.floor(P/S),j[k]=P-D*S,D+=1;while(D>0)j[k++]=D%S,D=Math.floor(D/S);return j}O.prototype.add=function(z){var D=t(z);if(this.sign!==D.sign)return this.subtract(D.negate());var N=this.value,j=D.value;if(D.isSmall)return new O(k0(N,Math.abs(j)),this.sign);return new O(y0(N,j),this.sign)},O.prototype.plus=O.prototype.add,L.prototype.add=function(z){var D=t(z),N=this.value;if(N<0!==D.sign)return this.subtract(D.negate());var j=D.value;if(D.isSmall){if(h(N+j))return new L(N+j);j=o(Math.abs(j))}return new O(k0(j,Math.abs(N)),N<0)},L.prototype.plus=L.prototype.add,_.prototype.add=function(z){return new _(this.value+t(z).value)},_.prototype.plus=_.prototype.add;function t0(z,D){var N=z.length,j=D.length,S=new Array(N),P=0,k=X,T,f;for(T=0;T<j;T++){if(f=z[T]-P-D[T],f<0)f+=k,P=1;else P=0;S[T]=f}for(T=j;T<N;T++){if(f=z[T]-P,f<0)f+=k;else{S[T++]=f;break}S[T]=f}for(;T<N;T++)S[T]=z[T];return b(S),S}function S0(z,D,N){var j;if(j8(z,D)>=0)j=t0(z,D);else j=t0(D,z),N=!N;if(j=m(j),typeof j==="number"){if(N)j=-j;return new L(j)}return new O(j,N)}function M8(z,D,N){var j=z.length,S=new Array(j),P=-D,k=X,T,f;for(T=0;T<j;T++)f=z[T]+P,P=Math.floor(f/k),f%=k,S[T]=f<0?f+k:f;if(S=m(S),typeof S==="number"){if(N)S=-S;return new L(S)}return new O(S,N)}O.prototype.subtract=function(z){var D=t(z);if(this.sign!==D.sign)return this.add(D.negate());var N=this.value,j=D.value;if(D.isSmall)return M8(N,Math.abs(j),this.sign);return S0(N,j,this.sign)},O.prototype.minus=O.prototype.subtract,L.prototype.subtract=function(z){var D=t(z),N=this.value;if(N<0!==D.sign)return this.add(D.negate());var j=D.value;if(D.isSmall)return new L(N-j);return M8(j,Math.abs(N),N>=0)},L.prototype.minus=L.prototype.subtract,_.prototype.subtract=function(z){return new _(this.value-t(z).value)},_.prototype.minus=_.prototype.subtract,O.prototype.negate=function(){return new O(this.value,!this.sign)},L.prototype.negate=function(){var z=this.sign,D=new L(-this.value);return D.sign=!z,D},_.prototype.negate=function(){return new _(-this.value)},O.prototype.abs=function(){return new O(this.value,!1)},L.prototype.abs=function(){return new L(Math.abs(this.value))},_.prototype.abs=function(){return new _(this.value>=0?this.value:-this.value)};function L8(z,D){var N=z.length,j=D.length,S=N+j,P=A0(S),k=X,T,f,e,O0,Q0;for(e=0;e<N;++e){O0=z[e];for(var w0=0;w0<j;++w0)Q0=D[w0],T=O0*Q0+P[e+w0],f=Math.floor(T/k),P[e+w0]=T-f*k,P[e+w0+1]+=f}return b(P),P}function V8(z,D){var N=z.length,j=new Array(N),S=X,P=0,k,T;for(T=0;T<N;T++)k=z[T]*D+P,P=Math.floor(k/S),j[T]=k-P*S;while(P>0)j[T++]=P%S,P=Math.floor(P/S);return j}function e0(z,D){var N=[];while(D-- >0)N.push(0);return N.concat(z)}function Z0(z,D){var N=Math.max(z.length,D.length);if(N<=30)return L8(z,D);N=Math.ceil(N/2);var j=z.slice(N),S=z.slice(0,N),P=D.slice(N),k=D.slice(0,N),T=Z0(S,k),f=Z0(j,P),e=Z0(y0(S,j),y0(k,P)),O0=y0(y0(T,e0(t0(t0(e,T),f),N)),e0(f,2*N));return b(O0),O0}function XJ(z,D){return-0.012*z-0.012*D+0.000015*z*D>0}O.prototype.multiply=function(z){var D=t(z),N=this.value,j=D.value,S=this.sign!==D.sign,P;if(D.isSmall){if(j===0)return w[0];if(j===1)return this;if(j===-1)return this.negate();if(P=Math.abs(j),P<X)return new O(V8(N,P),S);j=o(P)}if(XJ(N.length,j.length))return new O(Z0(N,j),S);return new O(L8(N,j),S)},O.prototype.times=O.prototype.multiply;function x1(z,D,N){if(z<X)return new O(V8(D,z),N);return new O(L8(D,o(z)),N)}L.prototype._multiplyBySmall=function(z){if(h(z.value*this.value))return new L(z.value*this.value);return x1(Math.abs(z.value),o(Math.abs(this.value)),this.sign!==z.sign)},O.prototype._multiplyBySmall=function(z){if(z.value===0)return w[0];if(z.value===1)return this;if(z.value===-1)return this.negate();return x1(Math.abs(z.value),this.value,this.sign!==z.sign)},L.prototype.multiply=function(z){return t(z)._multiplyBySmall(this)},L.prototype.times=L.prototype.multiply,_.prototype.multiply=function(z){return new _(this.value*t(z).value)},_.prototype.times=_.prototype.multiply;function c0(z){var D=z.length,N=A0(D+D),j=X,S,P,k,T,f;for(k=0;k<D;k++){T=z[k],P=0-T*T;for(var e=k;e<D;e++)f=z[e],S=2*(T*f)+N[k+e]+P,P=Math.floor(S/j),N[k+e]=S-P*j;N[k+D]=P}return b(N),N}O.prototype.square=function(){return new O(c0(this.value),!1)},L.prototype.square=function(){var z=this.value*this.value;if(h(z))return new L(z);return new O(c0(o(Math.abs(this.value))),!1)},_.prototype.square=function(z){return new _(this.value*this.value)};function WJ(z,D){var N=z.length,j=D.length,S=X,P=A0(D.length),k=D[j-1],T=Math.ceil(S/(2*k)),f=V8(z,T),e=V8(D,T),O0,Q0,w0,Q8,i0,H1,u1;if(f.length<=N)f.push(0);e.push(0),k=e[j-1];for(Q0=N-j;Q0>=0;Q0--){if(O0=S-1,f[Q0+j]!==k)O0=Math.floor((f[Q0+j]*S+f[Q0+j-1])/k);w0=0,Q8=0,H1=e.length;for(i0=0;i0<H1;i0++)if(w0+=O0*e[i0],u1=Math.floor(w0/S),Q8+=f[Q0+i0]-(w0-u1*S),w0=u1,Q8<0)f[Q0+i0]=Q8+S,Q8=-1;else f[Q0+i0]=Q8,Q8=0;while(Q8!==0){O0-=1,w0=0;for(i0=0;i0<H1;i0++)if(w0+=f[Q0+i0]-S+e[i0],w0<0)f[Q0+i0]=w0+S,w0=0;else f[Q0+i0]=w0,w0=1;Q8+=w0}P[Q0]=O0}return f=u8(f,T)[0],[m(P),m(f)]}function C1(z,D){var N=z.length,j=D.length,S=[],P=[],k=X,T,f,e,O0,Q0;while(N){if(P.unshift(z[--N]),b(P),j8(P,D)<0){S.push(0);continue}if(f=P.length,e=P[f-1]*k+P[f-2],O0=D[j-1]*k+D[j-2],f>j)e=(e+1)*k;T=Math.ceil(e/O0);do{if(Q0=V8(D,T),j8(Q0,P)<=0)break;T--}while(T);S.push(T),P=t0(P,Q0)}return S.reverse(),[m(S),m(P)]}function u8(z,D){var N=z.length,j=A0(N),S=X,P,k,T,f;T=0;for(P=N-1;P>=0;--P)f=T*S+z[P],k=H0(f/D),T=f-k*D,j[P]=k|0;return[j,T|0]}function J8(z,D){var N,j=t(D);if(F)return[new _(z.value/j.value),new _(z.value%j.value)];var S=z.value,P=j.value,k;if(P===0)throw new Error("Cannot divide by zero");if(z.isSmall){if(j.isSmall)return[new L(H0(S/P)),new L(S%P)];return[w[0],z]}if(j.isSmall){if(P===1)return[z,w[0]];if(P==-1)return[z.negate(),w[0]];var T=Math.abs(P);if(T<X){N=u8(S,T),k=m(N[0]);var f=N[1];if(z.sign)f=-f;if(typeof k==="number"){if(z.sign!==j.sign)k=-k;return[new L(k),new L(f)]}return[new O(k,z.sign!==j.sign),new L(f)]}P=o(T)}var e=j8(S,P);if(e===-1)return[w[0],z];if(e===0)return[w[z.sign===j.sign?1:-1],w[0]];if(S.length+P.length<=200)N=WJ(S,P);else N=C1(S,P);k=N[0];var O0=z.sign!==j.sign,Q0=N[1],w0=z.sign;if(typeof k==="number"){if(O0)k=-k;k=new L(k)}else k=new O(k,O0);if(typeof Q0==="number"){if(w0)Q0=-Q0;Q0=new L(Q0)}else Q0=new O(Q0,w0);return[k,Q0]}O.prototype.divmod=function(z){var D=J8(this,z);return{quotient:D[0],remainder:D[1]}},_.prototype.divmod=L.prototype.divmod=O.prototype.divmod,O.prototype.divide=function(z){return J8(this,z)[0]},_.prototype.over=_.prototype.divide=function(z){return new _(this.value/t(z).value)},L.prototype.over=L.prototype.divide=O.prototype.over=O.prototype.divide,O.prototype.mod=function(z){return J8(this,z)[1]},_.prototype.mod=_.prototype.remainder=function(z){return new _(this.value%t(z).value)},L.prototype.remainder=L.prototype.mod=O.prototype.remainder=O.prototype.mod,O.prototype.pow=function(z){var D=t(z),N=this.value,j=D.value,S,P,k;if(j===0)return w[1];if(N===0)return w[0];if(N===1)return w[1];if(N===-1)return D.isEven()?w[1]:w[-1];if(D.sign)return w[0];if(!D.isSmall)throw new Error("The exponent "+D.toString()+" is too large.");if(this.isSmall){if(h(S=Math.pow(N,j)))return new L(H0(S))}P=this,k=w[1];while(!0){if(j&!0)k=k.times(P),--j;if(j===0)break;j/=2,P=P.square()}return k},L.prototype.pow=O.prototype.pow,_.prototype.pow=function(z){var D=t(z),N=this.value,j=D.value,S=BigInt(0),P=BigInt(1),k=BigInt(2);if(j===S)return w[1];if(N===S)return w[0];if(N===P)return w[1];if(N===BigInt(-1))return D.isEven()?w[1]:w[-1];if(D.isNegative())return new _(S);var T=this,f=w[1];while(!0){if((j&P)===P)f=f.times(T),--j;if(j===S)break;j/=k,T=T.square()}return f},O.prototype.modPow=function(z,D){if(z=t(z),D=t(D),D.isZero())throw new Error("Cannot take modPow with modulus 0");var N=w[1],j=this.mod(D);if(z.isNegative())z=z.multiply(w[-1]),j=j.modInv(D);while(z.isPositive()){if(j.isZero())return w[0];if(z.isOdd())N=N.multiply(j).mod(D);z=z.divide(2),j=j.square().mod(D)}return N},_.prototype.modPow=L.prototype.modPow=O.prototype.modPow;function j8(z,D){if(z.length!==D.length)return z.length>D.length?1:-1;for(var N=z.length-1;N>=0;N--)if(z[N]!==D[N])return z[N]>D[N]?1:-1;return 0}O.prototype.compareAbs=function(z){var D=t(z),N=this.value,j=D.value;if(D.isSmall)return 1;return j8(N,j)},L.prototype.compareAbs=function(z){var D=t(z),N=Math.abs(this.value),j=D.value;if(D.isSmall)return j=Math.abs(j),N===j?0:N>j?1:-1;return-1},_.prototype.compareAbs=function(z){var D=this.value,N=t(z).value;return D=D>=0?D:-D,N=N>=0?N:-N,D===N?0:D>N?1:-1},O.prototype.compare=function(z){if(z===Infinity)return-1;if(z===(-Infinity))return 1;var D=t(z),N=this.value,j=D.value;if(this.sign!==D.sign)return D.sign?1:-1;if(D.isSmall)return this.sign?-1:1;return j8(N,j)*(this.sign?-1:1)},O.prototype.compareTo=O.prototype.compare,L.prototype.compare=function(z){if(z===Infinity)return-1;if(z===(-Infinity))return 1;var D=t(z),N=this.value,j=D.value;if(D.isSmall)return N==j?0:N>j?1:-1;if(N<0!==D.sign)return N<0?-1:1;return N<0?1:-1},L.prototype.compareTo=L.prototype.compare,_.prototype.compare=function(z){if(z===Infinity)return-1;if(z===(-Infinity))return 1;var D=this.value,N=t(z).value;return D===N?0:D>N?1:-1},_.prototype.compareTo=_.prototype.compare,O.prototype.equals=function(z){return this.compare(z)===0},_.prototype.eq=_.prototype.equals=L.prototype.eq=L.prototype.equals=O.prototype.eq=O.prototype.equals,O.prototype.notEquals=function(z){return this.compare(z)!==0},_.prototype.neq=_.prototype.notEquals=L.prototype.neq=L.prototype.notEquals=O.prototype.neq=O.prototype.notEquals,O.prototype.greater=function(z){return this.compare(z)>0},_.prototype.gt=_.prototype.greater=L.prototype.gt=L.prototype.greater=O.prototype.gt=O.prototype.greater,O.prototype.lesser=function(z){return this.compare(z)<0},_.prototype.lt=_.prototype.lesser=L.prototype.lt=L.prototype.lesser=O.prototype.lt=O.prototype.lesser,O.prototype.greaterOrEquals=function(z){return this.compare(z)>=0},_.prototype.geq=_.prototype.greaterOrEquals=L.prototype.geq=L.prototype.greaterOrEquals=O.prototype.geq=O.prototype.greaterOrEquals,O.prototype.lesserOrEquals=function(z){return this.compare(z)<=0},_.prototype.leq=_.prototype.lesserOrEquals=L.prototype.leq=L.prototype.lesserOrEquals=O.prototype.leq=O.prototype.lesserOrEquals,O.prototype.isEven=function(){return(this.value[0]&1)===0},L.prototype.isEven=function(){return(this.value&1)===0},_.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},O.prototype.isOdd=function(){return(this.value[0]&1)===1},L.prototype.isOdd=function(){return(this.value&1)===1},_.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},O.prototype.isPositive=function(){return!this.sign},L.prototype.isPositive=function(){return this.value>0},_.prototype.isPositive=L.prototype.isPositive,O.prototype.isNegative=function(){return this.sign},L.prototype.isNegative=function(){return this.value<0},_.prototype.isNegative=L.prototype.isNegative,O.prototype.isUnit=function(){return!1},L.prototype.isUnit=function(){return Math.abs(this.value)===1},_.prototype.isUnit=function(){return this.abs().value===BigInt(1)},O.prototype.isZero=function(){return!1},L.prototype.isZero=function(){return this.value===0},_.prototype.isZero=function(){return this.value===BigInt(0)},O.prototype.isDivisibleBy=function(z){var D=t(z);if(D.isZero())return!1;if(D.isUnit())return!0;if(D.compareAbs(2)===0)return this.isEven();return this.mod(D).isZero()},_.prototype.isDivisibleBy=L.prototype.isDivisibleBy=O.prototype.isDivisibleBy;function b1(z){var D=z.abs();if(D.isUnit())return!1;if(D.equals(2)||D.equals(3)||D.equals(5))return!0;if(D.isEven()||D.isDivisibleBy(3)||D.isDivisibleBy(5))return!1;if(D.lesser(49))return!0}function g1(z,D){var N=z.prev(),j=N,S=0,P,k,T;while(j.isEven())j=j.divide(2),S++;J:for(k=0;k<D.length;k++){if(z.lesser(D[k]))continue;if(T=Q(D[k]).modPow(j,z),T.isUnit()||T.equals(N))continue;for(P=S-1;P!=0;P--){if(T=T.square().mod(z),T.isUnit())return!1;if(T.equals(N))continue J}return!1}return!0}O.prototype.isPrime=function(z){var D=b1(this);if(D!==Y)return D;var N=this.abs(),j=N.bitLength();if(j<=64)return g1(N,[2,3,5,7,11,13,17,19,23,29,31,37]);var S=Math.log(2)*j.toJSNumber(),P=Math.ceil(z===!0?2*Math.pow(S,2):S);for(var k=[],T=0;T<P;T++)k.push(Q(T+2));return g1(N,k)},_.prototype.isPrime=L.prototype.isPrime=O.prototype.isPrime,O.prototype.isProbablePrime=function(z,D){var N=b1(this);if(N!==Y)return N;var j=this.abs(),S=z===Y?5:z;for(var P=[],k=0;k<S;k++)P.push(Q.randBetween(2,j.minus(2),D));return g1(j,P)},_.prototype.isProbablePrime=L.prototype.isProbablePrime=O.prototype.isProbablePrime,O.prototype.modInv=function(z){var{zero:D,one:N}=Q,j=t(z),S=this.abs(),P,k,T;while(!S.isZero())P=j.divide(S),k=D,T=j,D=N,j=S,N=k.subtract(P.multiply(N)),S=T.subtract(P.multiply(S));if(!j.isUnit())throw new Error(this.toString()+" and "+z.toString()+" are not co-prime");if(D.compare(0)===-1)D=D.add(z);if(this.isNegative())return D.negate();return D},_.prototype.modInv=L.prototype.modInv=O.prototype.modInv,O.prototype.next=function(){var z=this.value;if(this.sign)return M8(z,1,this.sign);return new O(k0(z,1),this.sign)},L.prototype.next=function(){var z=this.value;if(z+1<q)return new L(z+1);return new O(K,!1)},_.prototype.next=function(){return new _(this.value+BigInt(1))},O.prototype.prev=function(){var z=this.value;if(this.sign)return new O(k0(z,1),!0);return M8(z,1,this.sign)},L.prototype.prev=function(){var z=this.value;if(z-1>-q)return new L(z-1);return new O(K,!0)},_.prototype.prev=function(){return new _(this.value-BigInt(1))};var N8=[1];while(2*N8[N8.length-1]<=X)N8.push(2*N8[N8.length-1]);var B8=N8.length,h8=N8[B8-1];function $J(z){return Math.abs(z)<=X}O.prototype.shiftLeft=function(z){var D=t(z).toJSNumber();if(!$J(D))throw new Error(String(D)+" is too large for shifting.");if(D<0)return this.shiftRight(-D);var N=this;if(N.isZero())return N;while(D>=B8)N=N.multiply(h8),D-=B8-1;return N.multiply(N8[D])},_.prototype.shiftLeft=L.prototype.shiftLeft=O.prototype.shiftLeft,O.prototype.shiftRight=function(z){var D,N=t(z).toJSNumber();if(!$J(N))throw new Error(String(N)+" is too large for shifting.");if(N<0)return this.shiftLeft(-N);var j=this;while(N>=B8){if(j.isZero()||j.isNegative()&&j.isUnit())return j;D=J8(j,h8),j=D[1].isNegative()?D[0].prev():D[0],N-=B8-1}return D=J8(j,N8[N]),D[1].isNegative()?D[0].prev():D[0]},_.prototype.shiftRight=L.prototype.shiftRight=O.prototype.shiftRight;function R1(z,D,N){D=t(D);var j=z.isNegative(),S=D.isNegative(),P=j?z.not():z,k=S?D.not():D,T=0,f=0,e=null,O0=null,Q0=[];while(!P.isZero()||!k.isZero()){if(e=J8(P,h8),T=e[1].toJSNumber(),j)T=h8-1-T;if(O0=J8(k,h8),f=O0[1].toJSNumber(),S)f=h8-1-f;P=e[0],k=O0[0],Q0.push(N(T,f))}var w0=N(j?1:0,S?1:0)!==0?Q(-1):Q(0);for(var Q8=Q0.length-1;Q8>=0;Q8-=1)w0=w0.multiply(h8).add(Q(Q0[Q8]));return w0}O.prototype.not=function(){return this.negate().prev()},_.prototype.not=L.prototype.not=O.prototype.not,O.prototype.and=function(z){return R1(this,z,function(D,N){return D&N})},_.prototype.and=L.prototype.and=O.prototype.and,O.prototype.or=function(z){return R1(this,z,function(D,N){return D|N})},_.prototype.or=L.prototype.or=O.prototype.or,O.prototype.xor=function(z){return R1(this,z,function(D,N){return D^N})},_.prototype.xor=L.prototype.xor=O.prototype.xor;var E0=1<<30,qJ=(X&-X)*(X&-X)|E0;function v8(z){var D=z.value,N=typeof D==="number"?D|E0:typeof D==="bigint"?D|BigInt(E0):D[0]+D[1]*X|qJ;return N&-N}function h0(z,D){if(D.compareTo(z)<=0){var N=h0(z,D.square(D)),j=N.p,S=N.e,P=j.multiply(D);return P.compareTo(z)<=0?{p:P,e:S*2+1}:{p:j,e:S*2}}return{p:Q(1),e:0}}O.prototype.bitLength=function(){var z=this;if(z.compareTo(Q(0))<0)z=z.negate().subtract(Q(1));if(z.compareTo(Q(0))===0)return Q(0);return Q(h0(z,Q(2)).e).add(Q(1))},_.prototype.bitLength=L.prototype.bitLength=O.prototype.bitLength;function $1(z,D){return z=t(z),D=t(D),z.greater(D)?z:D}function L1(z,D){return z=t(z),D=t(D),z.lesser(D)?z:D}function m1(z,D){if(z=t(z).abs(),D=t(D).abs(),z.equals(D))return z;if(z.isZero())return D;if(D.isZero())return z;var N=w[1],j,S;while(z.isEven()&&D.isEven())j=L1(v8(z),v8(D)),z=z.divide(j),D=D.divide(j),N=N.multiply(j);while(z.isEven())z=z.divide(v8(z));do{while(D.isEven())D=D.divide(v8(D));if(z.greater(D))S=D,D=z,z=S;D=D.subtract(z)}while(!D.isZero());return N.isUnit()?z:z.multiply(N)}function c8(z,D){return z=t(z).abs(),D=t(D).abs(),z.divide(m1(z,D)).multiply(D)}function y1(z,D,N){z=t(z),D=t(D);var j=N||Math.random,S=L1(z,D),P=$1(z,D),k=P.subtract(S).add(1);if(k.isSmall)return S.add(Math.floor(j()*k));var T=G1(k,X).value,f=[],e=!0;for(var O0=0;O0<T.length;O0++){var Q0=e?T[O0]:X,w0=H0(j()*Q0);if(f.push(w0),w0<Q0)e=!1}return S.add(w.fromArray(f,X,!1))}var q1=function(z,D,N,j){if(N=N||V,z=String(z),!j)z=z.toLowerCase(),N=N.toLowerCase();var S=z.length,P,k=Math.abs(D),T={};for(P=0;P<N.length;P++)T[N[P]]=P;for(P=0;P<S;P++){var f=z[P];if(f==="-")continue;if(f in T){if(T[f]>=k){if(f==="1"&&k===1)continue;throw new Error(f+" is not a valid digit in base "+D+".")}}}D=t(D);var e=[],O0=z[0]==="-";for(P=O0?1:0;P<z.length;P++){var f=z[P];if(f in T)e.push(t(T[f]));else if(f==="<"){var Q0=P;do P++;while(z[P]!==">"&&P<z.length);e.push(t(z.slice(Q0+1,P)))}else throw new Error(f+" is not a valid character")}return P8(e,D,O0)};function P8(z,D,N){var j=w[0],S=w[1],P;for(P=z.length-1;P>=0;P--)j=j.add(z[P].times(S)),S=S.times(D);return N?j.negate():j}function l8(z,D){if(D=D||V,z<D.length)return D[z];return"<"+z+">"}function G1(z,D){if(D=Q(D),D.isZero()){if(z.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(D.equals(-1)){if(z.isZero())return{value:[0],isNegative:!1};if(z.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-z.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var N=Array.apply(null,Array(z.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return N.unshift([1]),{value:[].concat.apply([],N),isNegative:!1}}var j=!1;if(z.isNegative()&&D.isPositive())j=!0,z=z.abs();if(D.isUnit()){if(z.isZero())return{value:[0],isNegative:!1};return{value:Array.apply(null,Array(z.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:j}}var S=[],P=z,k;while(P.isNegative()||P.compareAbs(D)>=0){k=P.divmod(D),P=k.quotient;var T=k.remainder;if(T.isNegative())T=D.minus(T).abs(),P=P.next();S.push(T.toJSNumber())}return S.push(P.toJSNumber()),{value:S.reverse(),isNegative:j}}function GJ(z,D,N){var j=G1(z,D);return(j.isNegative?"-":"")+j.value.map(function(S){return l8(S,N)}).join("")}O.prototype.toArray=function(z){return G1(this,z)},L.prototype.toArray=function(z){return G1(this,z)},_.prototype.toArray=function(z){return G1(this,z)},O.prototype.toString=function(z,D){if(z===Y)z=10;if(z!==10)return GJ(this,z,D);var N=this.value,j=N.length,S=String(N[--j]),P="0000000",k;while(--j>=0)k=String(N[j]),S+=P.slice(k.length)+k;var T=this.sign?"-":"";return T+S},L.prototype.toString=function(z,D){if(z===Y)z=10;if(z!=10)return GJ(this,z,D);return String(this.value)},_.prototype.toString=L.prototype.toString,_.prototype.toJSON=O.prototype.toJSON=L.prototype.toJSON=function(){return this.toString()},O.prototype.valueOf=function(){return parseInt(this.toString(),10)},O.prototype.toJSNumber=O.prototype.valueOf,L.prototype.valueOf=function(){return this.value},L.prototype.toJSNumber=L.prototype.valueOf,_.prototype.valueOf=_.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function p1(z){if(h(+z)){var D=+z;if(D===H0(D))return F?new _(BigInt(D)):new L(D);throw new Error("Invalid integer: "+z)}var N=z[0]==="-";if(N)z=z.slice(1);var j=z.split(/e/i);if(j.length>2)throw new Error("Invalid integer: "+j.join("e"));if(j.length===2){var S=j[1];if(S[0]==="+")S=S.slice(1);if(S=+S,S!==H0(S)||!h(S))throw new Error("Invalid integer: "+S+" is not a valid exponent.");var P=j[0],k=P.indexOf(".");if(k>=0)S-=P.length-k-1,P=P.slice(0,k)+P.slice(k+1);if(S<0)throw new Error("Cannot include negative exponent part for integers");P+=new Array(S+1).join("0"),z=P}var T=/^([0-9][0-9]*)$/.test(z);if(!T)throw new Error("Invalid integer: "+z);if(F)return new _(BigInt(N?"-"+z:z));var f=[],e=z.length,O0=W,Q0=e-O0;while(e>0){if(f.push(+z.slice(Q0,e)),Q0-=O0,Q0<0)Q0=0;e-=O0}return b(f),new O(f,N)}function HJ(z){if(F)return new _(BigInt(z));if(h(z)){if(z!==H0(z))throw new Error(z+" is not an integer.");return new L(z)}return p1(z.toString())}function t(z){if(typeof z==="number")return HJ(z);if(typeof z==="string")return p1(z);if(typeof z==="bigint")return new _(z);return z}for(var x8=0;x8<1000;x8++)if(w[x8]=t(x8),x8>0)w[-x8]=t(-x8);return w.one=w[1],w.zero=w[0],w.minusOne=w[-1],w.max=$1,w.min=L1,w.gcd=m1,w.lcm=c8,w.isInstance=function(z){return z instanceof O||z instanceof L||z instanceof _},w.randBetween=y1,w.fromArray=function(z,D,N){return P8(z.map(t),t(D||10),N)},w}();if(J.hasOwnProperty("exports"))J.exports=Q})(X5);var n9=X5.exports,W5=xJ(n9);var i9=function(){try{return!0}catch(J){return!1}},o9=function(J,Q,Y){let X=0;for(let W=0;W<Y;W++){const q=J[Q+W];if(q===void 0)break;X+=q*16**W}return X},DY=function(J){const Q=[];for(let Y=0;Y<J.length;Y++){let X=Number(J[Y]);for(let W=0;X||W<Q.length;W++)X+=(Q[W]||0)*10,Q[W]=X%16,X=(X-Q[W])/16}return Q},s9=function(J){const Q=DY(J),Y=Array(Z1);for(let X=0;X<Z1;X++)Y[Z1-1-X]=o9(Q,X*Z1,Z1);return Y},t9=function(...J){let Q=J[0];for(let Y=1;Y<J.length;Y++)Q=VY(Q,J[Y]);return Q},e9=function(J,Q){return q5(RQ(J,Q),Q)},JW=function(J,Q){return!q5(RQ(J,Q),Y8)},QW=function(J,Q){return Q===Y8?J:VY(J,Q)},YW=function(J,Q){return Q===Y8?J:r9(J,RQ(J,Q))},MY=64,$5=16,Z1=MY/$5;class a8{static fromString(J){return new a8(s9(J),J)}static fromBit(J){const Q=Array(Z1),Y=Math.floor(J/$5);for(let X=0;X<Z1;X++)Q[Z1-1-X]=X===Y?1<<J-Y*$5:0;return new a8(Q)}constructor(J,Q){this.parts=J,this.str=Q}and({parts:J}){return new a8(this.parts.map((Q,Y)=>Q&J[Y]))}or({parts:J}){return new a8(this.parts.map((Q,Y)=>Q|J[Y]))}xor({parts:J}){return new a8(this.parts.map((Q,Y)=>Q^J[Y]))}not(){return new a8(this.parts.map((J)=>~J))}equals({parts:J}){return this.parts.every((Q,Y)=>Q===J[Y])}toString(){if(this.str!=null)return this.str;const J=new Array(MY/4);return this.parts.forEach((Q,Y)=>{const X=DY(Q.toString());for(let W=0;W<4;W++)J[W+Y*4]=X[3-W]||0}),this.str=W5.fromArray(J,16).toString()}toJSON(){return this.toString()}}var k1=i9();if(k1&&BigInt.prototype.toJSON==null)BigInt.prototype.toJSON=function(){return this.toString()};var wQ={},FY=k1?function J(Q){return BigInt(Q)}:function J(Q){if(Q instanceof a8)return Q;if(typeof Q==="number")Q=Q.toString();if(wQ[Q]!=null)return wQ[Q];return wQ[Q]=a8.fromString(Q),wQ[Q]},Y8=FY(0),RQ=k1?function J(Q=Y8,Y=Y8){return Q&Y}:function J(Q=Y8,Y=Y8){return Q.and(Y)},VY=k1?function J(Q=Y8,Y=Y8){return Q|Y}:function J(Q=Y8,Y=Y8){return Q.or(Y)},r9=k1?function J(Q=Y8,Y=Y8){return Q^Y}:function J(Q=Y8,Y=Y8){return Q.xor(Y)},a9=k1?function J(Q=Y8){return~Q}:function J(Q=Y8){return Q.not()},q5=k1?function J(Q,Y){return Q===Y}:function J(Q,Y){if(Q==null||Y==null)return Q==Y;return Q.equals(Y)},XW=k1?function J(Q){return BigInt(1)<<BigInt(Q)}:function J(Q){return a8.fromBit(Q)},LQ={combine:t9,add:QW,remove:YW,filter:RQ,invert:a9,has:e9,hasAny:JW,equals:q5,deserialize:FY,getFlag:XW};var G5;(function(J){J[J.CLOSE_NORMAL=1000]="CLOSE_NORMAL",J[J.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",J[J.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",J[J.INVALID_CLIENTID=4000]="INVALID_CLIENTID",J[J.INVALID_ORIGIN=4001]="INVALID_ORIGIN",J[J.RATELIMITED=4002]="RATELIMITED",J[J.TOKEN_REVOKED=4003]="TOKEN_REVOKED",J[J.INVALID_VERSION=4004]="INVALID_VERSION",J[J.INVALID_ENCODING=4005]="INVALID_ENCODING"})(G5||(G5={}));var oJ;(function(J){J[J.INVALID_PAYLOAD=4000]="INVALID_PAYLOAD",J[J.INVALID_COMMAND=4002]="INVALID_COMMAND",J[J.INVALID_EVENT=4004]="INVALID_EVENT",J[J.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(oJ||(oJ={}));var sJ;(function(J){J.LANDSCAPE="landscape",J.PORTRAIT="portrait"})(sJ||(sJ={}));var I8;(function(J){J.MOBILE="mobile",J.DESKTOP="desktop"})(I8||(I8={}));var WW=Object.freeze({CREATE_INSTANT_INVITE:LQ.getFlag(0),ADMINISTRATOR:LQ.getFlag(3)});var n0=function(J){return Y5((Q)=>{var Y;const[X]=(Y=Object.entries(J).find(([,W])=>W===Q))!==null&&Y!==void 0?Y:[];if(Q!=null&&X===void 0)return J.UNHANDLED;return Q},E().or(i()))},OY=function(J){const Q=OQ().transform((Y)=>{const X=J.safeParse(Y);if(X.success)return X.data;return J._def.defaultValue()});return Q.overlayType=J,Q};var RY=s.object({image_url:s.string()}),$W=s.object({mediaUrl:s.string().max(1024)}),qW=s.object({access_token:s.union([s.string(),s.null()]).optional()}),NQ=s.object({access_token:s.string(),user:s.object({username:s.string(),discriminator:s.string(),id:s.string(),avatar:s.union([s.string(),s.null()]).optional(),public_flags:s.number(),global_name:s.union([s.string(),s.null()]).optional()}),scopes:s.array(OY(s.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(s.literal(-1)).default(-1))),expires:s.string(),application:s.object({description:s.string(),icon:s.union([s.string(),s.null()]).optional(),id:s.string(),rpc_origins:s.array(s.string()).optional(),name:s.string()})}),H5=s.object({participants:s.array(s.object({id:s.string(),username:s.string(),global_name:s.union([s.string(),s.null()]).optional(),discriminator:s.string(),avatar:s.union([s.string(),s.null()]).optional(),flags:s.number(),bot:s.boolean(),avatar_decoration_data:s.union([s.object({asset:s.string(),skuId:s.string().optional()}),s.null()]).optional(),premium_type:s.union([s.number(),s.null()]).optional(),nickname:s.string().optional()}))}),R8;(function(J){J.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",J.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",J.AUTHENTICATE="AUTHENTICATE",J.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(R8||(R8={}));var GW=s.object({}).optional().nullable(),wY=s.void(),BQ={[R8.INITIATE_IMAGE_UPLOAD]:{request:wY,response:RY},[R8.OPEN_SHARE_MOMENT_DIALOG]:{request:$W,response:GW},[R8.AUTHENTICATE]:{request:qW,response:NQ},[R8.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:wY,response:H5}};var LY="DISPATCH",y;(function(J){J.AUTHORIZE="AUTHORIZE",J.AUTHENTICATE="AUTHENTICATE",J.GET_GUILDS="GET_GUILDS",J.GET_GUILD="GET_GUILD",J.GET_CHANNEL="GET_CHANNEL",J.GET_CHANNELS="GET_CHANNELS",J.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",J.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",J.SUBSCRIBE="SUBSCRIBE",J.UNSUBSCRIBE="UNSUBSCRIBE",J.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",J.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",J.SET_ACTIVITY="SET_ACTIVITY",J.GET_SKUS="GET_SKUS",J.GET_ENTITLEMENTS="GET_ENTITLEMENTS",J.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",J.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",J.START_PURCHASE="START_PURCHASE",J.SET_CONFIG="SET_CONFIG",J.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",J.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",J.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",J.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",J.CAPTURE_LOG="CAPTURE_LOG",J.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",J.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",J.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",J.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",J.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",J.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",J.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(y||(y={}));var t8=g({cmd:E(),data:r1(),evt:nJ(),nonce:E()}).passthrough(),HW=Object.assign(Object.assign({},NQ.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1}),f6=n0(HW),D1=g({id:E(),username:E(),discriminator:E(),global_name:E().optional().nullable(),avatar:E().optional().nullable(),avatar_decoration_data:g({asset:E(),sku_id:E().optional()}).nullable(),bot:X0(),flags:i().optional().nullable(),premium_type:i().optional().nullable()}),AQ=g({user:D1,nick:E().optional().nullable(),roles:B0(E()),joined_at:E(),deaf:X0(),mute:X0()}),z5=g({id:E(),name:E().optional().nullable(),roles:B0(E()).optional().nullable(),user:D1.optional().nullable(),require_colons:X0().optional().nullable(),managed:X0().optional().nullable(),animated:X0().optional().nullable(),available:X0().optional().nullable()}),NY=g({mute:X0(),deaf:X0(),self_mute:X0(),self_deaf:X0(),suppress:X0()}),jQ=g({mute:X0(),nick:E(),user:D1,voice_state:NY,volume:i()}),KW={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},EQ=n0(KW),a1=g({name:E(),type:i(),url:E().optional().nullable(),created_at:i().optional().nullable(),timestamps:g({start:i(),end:i()}).partial().optional().nullable(),application_id:E().optional().nullable(),details:E().optional().nullable(),state:E().optional().nullable(),emoji:z5.optional().nullable(),party:g({id:E().optional().nullable(),size:B0(i()).optional().nullable()}).optional().nullable(),assets:g({large_image:E().nullable(),large_text:E().nullable(),small_image:E().nullable(),small_text:E().nullable()}).partial().optional().nullable(),secrets:g({join:E(),match:E()}).partial().optional().nullable(),instance:X0().optional().nullable(),flags:i().optional().nullable()}),zW={UNHANDLED:-1,ROLE:0,MEMBER:1},UW=g({id:E(),type:n0(zW),allow:E(),deny:E()}),PQ={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},U5=g({id:E(),type:n0(PQ),guild_id:E().optional().nullable(),position:i().optional().nullable(),permission_overwrites:B0(UW).optional().nullable(),name:E().optional().nullable(),topic:E().optional().nullable(),nsfw:X0().optional().nullable(),last_message_id:E().optional().nullable(),bitrate:i().optional().nullable(),user_limit:i().optional().nullable(),rate_limit_per_user:i().optional().nullable(),recipients:B0(D1).optional().nullable(),icon:E().optional().nullable(),owner_id:E().optional().nullable(),application_id:E().optional().nullable(),parent_id:E().optional().nullable(),last_pin_timestamp:E().optional().nullable()}),MW=g({user:D1,guild_id:E(),status:EQ,activities:B0(a1),client_status:g({desktop:EQ,mobile:EQ,web:EQ}).partial()}),DW=g({id:E(),name:E(),color:i(),hoist:X0(),position:i(),permissions:E(),managed:X0(),mentionable:X0()}),h6=g({id:E(),name:E(),owner_id:E(),icon:E().nullable(),icon_hash:E().optional().nullable(),splash:E().nullable(),discovery_splash:E().nullable(),owner:X0().optional().nullable(),permissions:E().optional().nullable(),region:E(),afk_channel_id:E().nullable(),afk_timeout:i(),widget_enabled:X0().optional().nullable(),widget_channel_id:E().optional().nullable(),verification_level:i(),default_message_notifications:i(),explicit_content_filter:i(),roles:B0(DW),emojis:B0(z5),features:B0(E()),mfa_level:i(),application_id:E().nullable(),system_channel_id:E().nullable(),system_channel_flags:i(),rules_channel_id:E().nullable(),joined_at:E().optional().nullable(),large:X0().optional().nullable(),unavailable:X0().optional().nullable(),member_count:i().optional().nullable(),voice_states:B0(NY).optional().nullable(),members:B0(AQ).optional().nullable(),channels:B0(U5).optional().nullable(),presences:B0(MW).optional().nullable(),max_presences:i().optional().nullable(),max_members:i().optional().nullable(),vanity_url_code:E().nullable(),description:E().nullable(),banner:E().nullable(),premium_tier:i(),premium_subscription_count:i().optional().nullable(),preferred_locale:E(),public_updates_channel_id:E().nullable(),max_video_channel_users:i().optional().nullable(),approximate_member_count:i().optional().nullable(),approximate_presence_count:i().optional().nullable()}),FW=g({id:E(),guild_id:E(),type:i(),name:E()}),VW=g({id:E(),filename:E(),size:i(),url:E(),proxy_url:E(),height:i().optional().nullable(),width:i().optional().nullable()}),OW=g({text:E(),icon_url:E().optional().nullable(),proxy_icon_url:E().optional().nullable()}),K5=g({url:E().optional().nullable(),proxy_url:E().optional().nullable(),height:i().optional().nullable(),width:i().optional().nullable()}),wW=K5.omit({proxy_url:!0}),RW=g({name:E().optional().nullable(),url:E().optional().nullable()}),LW=g({name:E().optional().nullable(),url:E().optional().nullable(),icon_url:E().optional().nullable(),proxy_icon_url:E().optional().nullable()}),NW=g({name:E(),value:E(),inline:X0()}),BW=g({title:E().optional().nullable(),type:E().optional().nullable(),description:E().optional().nullable(),url:E().optional().nullable(),timestamp:E().optional().nullable(),color:i().optional().nullable(),footer:OW.optional().nullable(),image:K5.optional().nullable(),thumbnail:K5.optional().nullable(),video:wW.optional().nullable(),provider:RW.optional().nullable(),author:LW.optional().nullable(),fields:B0(NW).optional().nullable()}),EW=g({count:i(),me:X0(),emoji:z5}),AW=g({type:i(),party_id:E().optional().nullable()}),jW=g({id:E(),cover_image:E().optional().nullable(),description:E(),icon:E().optional().nullable(),name:E()}),PW=g({message_id:E().optional().nullable(),channel_id:E().optional().nullable(),guild_id:E().optional().nullable()}),BY=g({id:E(),channel_id:E(),guild_id:E().optional().nullable(),author:D1.optional().nullable(),member:AQ.optional().nullable(),content:E(),timestamp:E(),edited_timestamp:E().optional().nullable(),tts:X0(),mention_everyone:X0(),mentions:B0(D1),mention_roles:B0(E()),mention_channels:B0(FW),attachments:B0(VW),embeds:B0(BW),reactions:B0(EW).optional().nullable(),nonce:iJ([E(),i()]).optional().nullable(),pinned:X0(),webhook_id:E().optional().nullable(),type:i(),activity:AW.optional().nullable(),application:jW.optional().nullable(),message_reference:PW.optional().nullable(),flags:i().optional().nullable(),stickers:B0(r1()).optional().nullable(),referenced_message:r1().optional().nullable()}),_W=g({id:E(),name:E()}),SW={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},M5=g({type:n0(SW),code:i(),name:E()}),ZW={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},EY=g({type:n0(ZW),auto_threshold:X0(),threshold:i(),shortcut:B0(M5),delay:i()}),D5=g({device_id:E(),volume:i(),available_devices:B0(_W)}),kW={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"},v6=g({type:n0(kW),id:E(),vendor:g({name:E(),url:E()}),model:g({name:E(),url:E()}),related:B0(E()),echo_cancellation:X0().optional().nullable(),noise_suppression:X0().optional().nullable(),automatic_gain_control:X0().optional().nullable(),hardware_mute:X0().optional().nullable()}),IW={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},AY=g({id:E(),name:E(),type:n0(IW),price:g({amount:i(),currency:E()}),application_id:E(),flags:i(),release_date:E().nullable()}),TW={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},rJ=g({id:E(),sku_id:E(),application_id:E(),user_id:E(),gift_code_flags:i(),type:n0(TW),gifter_user_id:E().optional().nullable(),branches:B0(E()).optional().nullable(),starts_at:E().optional().nullable(),ends_at:E().optional().nullable(),parent_id:E().optional().nullable(),consumed:X0().optional().nullable(),deleted:X0().optional().nullable(),gift_code_batch_id:E().optional().nullable()}),fW={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3},x6=n0(fW),hW={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},jY=n0(hW),F5={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},C6=n0(F5),V5={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2},b6=n0(V5);var SY=function(J){const Q=J.evt;if(!(Q in _0))throw new Error(`Unrecognized event type ${J.evt}`);return xW[Q].payload.parse(J)},aJ="ERROR",_0;(function(J){J.READY="READY",J.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",J.SPEAKING_START="SPEAKING_START",J.SPEAKING_STOP="SPEAKING_STOP",J.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",J.ORIENTATION_UPDATE="ORIENTATION_UPDATE",J.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",J.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",J.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",J.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(_0||(_0={}));var T8=t8.extend({evt:M1(_0),nonce:E().nullable(),cmd:p0(LY),data:g({}).passthrough()}),O5=t8.extend({evt:p0(aJ),data:g({code:i(),message:E().optional()}).passthrough(),cmd:M1(y),nonce:E().nullable()}),vW=T8.extend({evt:E()}),_Y=iJ([T8,vW,O5]),xW={[_0.READY]:{payload:T8.extend({evt:p0(_0.READY),data:g({v:i(),config:g({cdn_host:E().optional(),api_endpoint:E(),environment:E()}),user:g({id:E(),username:E(),discriminator:E(),avatar:E().optional()}).optional()})})},[_0.VOICE_STATE_UPDATE]:{payload:T8.extend({evt:p0(_0.VOICE_STATE_UPDATE),data:jQ}),subscribeArgs:g({channel_id:E()})},[_0.SPEAKING_START]:{payload:T8.extend({evt:p0(_0.SPEAKING_START),data:g({lobby_id:E().optional(),channel_id:E().optional(),user_id:E()})}),subscribeArgs:g({lobby_id:E().nullable().optional(),channel_id:E().nullable().optional()})},[_0.SPEAKING_STOP]:{payload:T8.extend({evt:p0(_0.SPEAKING_STOP),data:g({lobby_id:E().optional(),channel_id:E().optional(),user_id:E()})}),subscribeArgs:g({lobby_id:E().nullable().optional(),channel_id:E().nullable().optional()})},[_0.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:T8.extend({evt:p0(_0.ACTIVITY_LAYOUT_MODE_UPDATE),data:g({layout_mode:n0(V5)})})},[_0.ORIENTATION_UPDATE]:{payload:T8.extend({evt:p0(_0.ORIENTATION_UPDATE),data:g({screen_orientation:n0(F5),orientation:M1(sJ)})})},[_0.CURRENT_USER_UPDATE]:{payload:T8.extend({evt:p0(_0.CURRENT_USER_UPDATE),data:D1})},[_0.ENTITLEMENT_CREATE]:{payload:T8.extend({evt:p0(_0.ENTITLEMENT_CREATE),data:g({entitlement:rJ})})},[_0.THERMAL_STATE_UPDATE]:{payload:T8.extend({evt:p0(_0.THERMAL_STATE_UPDATE),data:g({thermal_state:jY})})},[_0.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:T8.extend({evt:p0(_0.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:g({participants:H5.shape.participants})})}};var ZY=function(J,Q){throw Q};var cW=function({cmd:J,data:Q}){switch(J){case y.AUTHORIZE:return w5.parse(Q);case y.CAPTURE_SHORTCUT:return uW.parse(Q);case y.ENCOURAGE_HW_ACCELERATION:return j5.parse(Q);case y.GET_CHANNEL:return t1.parse(Q);case y.GET_CHANNELS:return gW.parse(Q);case y.GET_CHANNEL_PERMISSIONS:return P5.parse(Q);case y.GET_GUILD:return bW.parse(Q);case y.GET_GUILDS:return CW.parse(Q);case y.GET_PLATFORM_BEHAVIORS:return _5.parse(Q);case y.GET_CHANNEL:return t1.parse(Q);case y.SELECT_TEXT_CHANNEL:return yW.parse(Q);case y.SELECT_VOICE_CHANNEL:return mW.parse(Q);case y.SET_ACTIVITY:return R5.parse(Q);case y.GET_SKUS_EMBEDDED:return L5.parse(Q);case y.GET_ENTITLEMENTS_EMBEDDED:return N5.parse(Q);case y.SET_CONFIG:return E5.parse(Q);case y.START_PURCHASE:return B5.parse(Q);case y.SUBSCRIBE:case y.UNSUBSCRIBE:return pW.parse(Q);case y.USER_SETTINGS_GET_LOCALE:return A5.parse(Q);case y.OPEN_EXTERNAL_LINK:case y.SET_ORIENTATION_LOCK_STATE:case y.SET_CERTIFIED_DEVICES:case y.SEND_ANALYTICS_EVENT:case y.OPEN_INVITE_DIALOG:case y.CAPTURE_LOG:case y.GET_SKUS:case y.GET_ENTITLEMENTS:return F1.parse(Q);case y.AUTHENTICATE:case y.INITIATE_IMAGE_UPLOAD:case y.OPEN_SHARE_MOMENT_DIALOG:case y.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:Y}=BQ[J];return Y.parse(Q);default:ZY(J,new Error(`Unrecognized command ${J}`))}},IY=function(J){return Object.assign(Object.assign({},J),{data:cW(J)})},F1=g({}).nullable(),w5=g({code:E()}),CW=g({guilds:B0(g({id:E(),name:E()}))}),bW=g({id:E(),name:E(),icon_url:E().optional(),members:B0(AQ)}),t1=g({id:E(),type:n0(PQ),guild_id:E().optional().nullable(),name:E().optional().nullable(),topic:E().optional().nullable(),bitrate:i().optional().nullable(),user_limit:i().optional().nullable(),position:i().optional().nullable(),voice_states:B0(jQ),messages:B0(BY)}),gW=g({channels:B0(U5)}),r6=t1.nullable(),mW=t1.nullable(),yW=t1.nullable(),a6=g({input:D5,output:D5,mode:EY,automatic_gain_control:X0(),echo_cancellation:X0(),noise_suppression:X0(),qos:X0(),silence_warning:X0(),deaf:X0(),mute:X0()}),pW=g({evt:E()}),uW=g({shortcut:M5}),R5=a1,L5=g({skus:B0(AY)}),N5=g({entitlements:B0(rJ)}),B5=B0(rJ).nullable(),E5=g({use_interactive_pip:X0()}),A5=g({locale:E()}),j5=g({enabled:X0()}),P5=g({permissions:J5().or(E())}),_5=g({iosKeyboardResizesView:Q5(X0())}),kY=t8.extend({cmd:M1(y),evt:nJ()});var hY=function(J){const Q=lW.parse(J);if(Q.evt!=null){if(Q.evt===aJ)return O5.parse(Q);return SY(_Y.parse(Q))}else return IY(kY.passthrough().parse(Q))};g({frame_id:E(),platform:M1(I8).optional().nullable()});g({v:p0(1),encoding:p0("json").optional(),client_id:E(),frame_id:E()});var fY=g({code:i(),message:E().optional()}),lW=g({evt:E().nullable(),nonce:E().nullable(),data:r1().nullable(),cmd:E()}).passthrough();var T0=function(J,Q,Y,X=()=>{return}){const W=t8.extend({cmd:p0(Q),data:Y});return async(q)=>{const K=await J({cmd:Q,args:q,transfer:X(q)});return W.parse(K).data}},I1=function(J,Q=()=>{return}){const Y=BQ[J].response,X=t8.extend({cmd:p0(J),data:Y});return(W)=>async(q)=>{const K=await W({cmd:J,args:q,transfer:Q(q)});return X.parse(K).data}};var vY=I1(R8.AUTHENTICATE);var xY=(J)=>T0(J,y.AUTHORIZE,w5);var CY=(J)=>T0(J,y.CAPTURE_LOG,F1);var bY=(J)=>T0(J,y.ENCOURAGE_HW_ACCELERATION,j5);var gY=(J)=>T0(J,y.GET_ENTITLEMENTS_EMBEDDED,N5);var mY=(J)=>T0(J,y.GET_SKUS_EMBEDDED,L5);var yY=(J)=>T0(J,y.GET_CHANNEL_PERMISSIONS,P5);var pY=(J)=>T0(J,y.GET_PLATFORM_BEHAVIORS,_5);var uY=(J)=>T0(J,y.OPEN_EXTERNAL_LINK,F1);var cY=(J)=>T0(J,y.OPEN_INVITE_DIALOG,F1);var lY=I1(R8.OPEN_SHARE_MOMENT_DIALOG);a1.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:a1.shape.type.optional(),instance:a1.shape.instance.optional()}).nullable();var dY=(J)=>T0(J,y.SET_ACTIVITY,R5);var nY=(J)=>T0(J,y.SET_CONFIG,E5);var iY=function({sendCommand:J,cmd:Q,response:Y,fallbackTransform:X,transferTransform:W=()=>{return}}){const q=t8.extend({cmd:p0(Q),data:Y});return async(K)=>{try{const V=await J({cmd:Q,args:K,transfer:W(K)});return q.parse(V).data}catch(V){if(V.code===oJ.INVALID_PAYLOAD){const F=X(K),w=await J({cmd:Q,args:F,transfer:W(F)});return q.parse(w).data}else throw V}}};var dW=(J)=>{return{lock_state:J.lock_state,picture_in_picture_lock_state:J.picture_in_picture_lock_state}},oY=(J)=>iY({sendCommand:J,cmd:y.SET_ORIENTATION_LOCK_STATE,response:F1,fallbackTransform:dW});var sY=(J)=>T0(J,y.START_PURCHASE,B5);var rY=(J)=>T0(J,y.USER_SETTINGS_GET_LOCALE,A5);var aY=I1(R8.INITIATE_IMAGE_UPLOAD);var tY=(J)=>T0(J,y.GET_CHANNEL,t1);var eY=I1(R8.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);var J7=function(J){return{authenticate:vY(J),authorize:xY(J),captureLog:CY(J),encourageHardwareAcceleration:bY(J),getChannel:tY(J),getChannelPermissions:yY(J),getEntitlements:gY(J),getPlatformBehaviors:pY(J),getSkus:mY(J),openExternalLink:uY(J),openInviteDialog:cY(J),openShareMomentDialog:lY(J),setActivity:dY(J),setConfig:nY(J),setOrientationLockState:oY(J),startPurchase:sY(J),userSettingsGetLocale:rY(J),initiateImageUpload:aY(J),getInstanceConnectedParticipants:eY(J)}};var Q7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var _Q=function(J){return typeof J==="string"&&Q7.test(J)};var ZQ=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=(X8[J[Q+0]]+X8[J[Q+1]]+X8[J[Q+2]]+X8[J[Q+3]]+"-"+X8[J[Q+4]]+X8[J[Q+5]]+"-"+X8[J[Q+6]]+X8[J[Q+7]]+"-"+X8[J[Q+8]]+X8[J[Q+9]]+"-"+X8[J[Q+10]]+X8[J[Q+11]]+X8[J[Q+12]]+X8[J[Q+13]]+X8[J[Q+14]]+X8[J[Q+15]]).toLowerCase();if(!_Q(Y))throw TypeError("Stringified UUID is invalid");return Y},X8=[];for(SQ=0;SQ<256;++SQ)X8.push((SQ+256).toString(16).substr(1));var SQ;var Y7=function(J){if(!_Q(J))throw TypeError("Invalid UUID");var Q,Y=new Uint8Array(16);return Y[0]=(Q=parseInt(J.slice(0,8),16))>>>24,Y[1]=Q>>>16&255,Y[2]=Q>>>8&255,Y[3]=Q&255,Y[4]=(Q=parseInt(J.slice(9,13),16))>>>8,Y[5]=Q&255,Y[6]=(Q=parseInt(J.slice(14,18),16))>>>8,Y[7]=Q&255,Y[8]=(Q=parseInt(J.slice(19,23),16))>>>8,Y[9]=Q&255,Y[10]=(Q=parseInt(J.slice(24,36),16))/1099511627776&255,Y[11]=Q/4294967296&255,Y[12]=Q>>>24&255,Y[13]=Q>>>16&255,Y[14]=Q>>>8&255,Y[15]=Q&255,Y};var nW=function(J){J=unescape(encodeURIComponent(J));var Q=[];for(var Y=0;Y<J.length;++Y)Q.push(J.charCodeAt(Y));return Q},kQ=function(J,Q,Y){function X(W,q,K,V){if(typeof W==="string")W=nW(W);if(typeof q==="string")q=Y7(q);if(q.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var F=new Uint8Array(16+W.length);if(F.set(q),F.set(W,q.length),F=Y(F),F[6]=F[6]&15|Q,F[8]=F[8]&63|128,K){V=V||0;for(var w=0;w<16;++w)K[V+w]=F[w];return K}return ZQ(F)}try{X.name=J}catch(W){}return X.DNS=iW,X.URL=oW,X},iW="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oW="6ba7b811-9dad-11d1-80b4-00c04fd430c8";var X7=function(J){if(typeof J==="string"){var Q=unescape(encodeURIComponent(J));J=new Uint8Array(Q.length);for(var Y=0;Y<Q.length;++Y)J[Y]=Q.charCodeAt(Y)}return sW(rW(aW(J),J.length*8))},sW=function(J){var Q=[],Y=J.length*32,X="0123456789abcdef";for(var W=0;W<Y;W+=8){var q=J[W>>5]>>>W%32&255,K=parseInt(X.charAt(q>>>4&15)+X.charAt(q&15),16);Q.push(K)}return Q},W7=function(J){return(J+64>>>9<<4)+14+1},rW=function(J,Q){J[Q>>5]|=128<<Q%32,J[W7(Q)-1]=Q;var Y=1732584193,X=-271733879,W=-1732584194,q=271733878;for(var K=0;K<J.length;K+=16){var V=Y,F=X,w=W,O=q;Y=G8(Y,X,W,q,J[K],7,-680876936),q=G8(q,Y,X,W,J[K+1],12,-389564586),W=G8(W,q,Y,X,J[K+2],17,606105819),X=G8(X,W,q,Y,J[K+3],22,-1044525330),Y=G8(Y,X,W,q,J[K+4],7,-176418897),q=G8(q,Y,X,W,J[K+5],12,1200080426),W=G8(W,q,Y,X,J[K+6],17,-1473231341),X=G8(X,W,q,Y,J[K+7],22,-45705983),Y=G8(Y,X,W,q,J[K+8],7,1770035416),q=G8(q,Y,X,W,J[K+9],12,-1958414417),W=G8(W,q,Y,X,J[K+10],17,-42063),X=G8(X,W,q,Y,J[K+11],22,-1990404162),Y=G8(Y,X,W,q,J[K+12],7,1804603682),q=G8(q,Y,X,W,J[K+13],12,-40341101),W=G8(W,q,Y,X,J[K+14],17,-1502002290),X=G8(X,W,q,Y,J[K+15],22,1236535329),Y=H8(Y,X,W,q,J[K+1],5,-165796510),q=H8(q,Y,X,W,J[K+6],9,-1069501632),W=H8(W,q,Y,X,J[K+11],14,643717713),X=H8(X,W,q,Y,J[K],20,-373897302),Y=H8(Y,X,W,q,J[K+5],5,-701558691),q=H8(q,Y,X,W,J[K+10],9,38016083),W=H8(W,q,Y,X,J[K+15],14,-660478335),X=H8(X,W,q,Y,J[K+4],20,-405537848),Y=H8(Y,X,W,q,J[K+9],5,568446438),q=H8(q,Y,X,W,J[K+14],9,-1019803690),W=H8(W,q,Y,X,J[K+3],14,-187363961),X=H8(X,W,q,Y,J[K+8],20,1163531501),Y=H8(Y,X,W,q,J[K+13],5,-1444681467),q=H8(q,Y,X,W,J[K+2],9,-51403784),W=H8(W,q,Y,X,J[K+7],14,1735328473),X=H8(X,W,q,Y,J[K+12],20,-1926607734),Y=K8(Y,X,W,q,J[K+5],4,-378558),q=K8(q,Y,X,W,J[K+8],11,-2022574463),W=K8(W,q,Y,X,J[K+11],16,1839030562),X=K8(X,W,q,Y,J[K+14],23,-35309556),Y=K8(Y,X,W,q,J[K+1],4,-1530992060),q=K8(q,Y,X,W,J[K+4],11,1272893353),W=K8(W,q,Y,X,J[K+7],16,-155497632),X=K8(X,W,q,Y,J[K+10],23,-1094730640),Y=K8(Y,X,W,q,J[K+13],4,681279174),q=K8(q,Y,X,W,J[K],11,-358537222),W=K8(W,q,Y,X,J[K+3],16,-722521979),X=K8(X,W,q,Y,J[K+6],23,76029189),Y=K8(Y,X,W,q,J[K+9],4,-640364487),q=K8(q,Y,X,W,J[K+12],11,-421815835),W=K8(W,q,Y,X,J[K+15],16,530742520),X=K8(X,W,q,Y,J[K+2],23,-995338651),Y=z8(Y,X,W,q,J[K],6,-198630844),q=z8(q,Y,X,W,J[K+7],10,1126891415),W=z8(W,q,Y,X,J[K+14],15,-1416354905),X=z8(X,W,q,Y,J[K+5],21,-57434055),Y=z8(Y,X,W,q,J[K+12],6,1700485571),q=z8(q,Y,X,W,J[K+3],10,-1894986606),W=z8(W,q,Y,X,J[K+10],15,-1051523),X=z8(X,W,q,Y,J[K+1],21,-2054922799),Y=z8(Y,X,W,q,J[K+8],6,1873313359),q=z8(q,Y,X,W,J[K+15],10,-30611744),W=z8(W,q,Y,X,J[K+6],15,-1560198380),X=z8(X,W,q,Y,J[K+13],21,1309151649),Y=z8(Y,X,W,q,J[K+4],6,-145523070),q=z8(q,Y,X,W,J[K+11],10,-1120210379),W=z8(W,q,Y,X,J[K+2],15,718787259),X=z8(X,W,q,Y,J[K+9],21,-343485551),Y=T1(Y,V),X=T1(X,F),W=T1(W,w),q=T1(q,O)}return[Y,X,W,q]},aW=function(J){if(J.length===0)return[];var Q=J.length*8,Y=new Uint32Array(W7(Q));for(var X=0;X<Q;X+=8)Y[X>>5]|=(J[X/8]&255)<<X%32;return Y},T1=function(J,Q){var Y=(J&65535)+(Q&65535),X=(J>>16)+(Q>>16)+(Y>>16);return X<<16|Y&65535},tW=function(J,Q){return J<<Q|J>>>32-Q},IQ=function(J,Q,Y,X,W,q){return T1(tW(T1(T1(Q,J),T1(X,q)),W),Y)},G8=function(J,Q,Y,X,W,q,K){return IQ(Q&Y|~Q&X,J,Q,W,q,K)},H8=function(J,Q,Y,X,W,q,K){return IQ(Q&X|Y&~X,J,Q,W,q,K)},K8=function(J,Q,Y,X,W,q,K){return IQ(Q^Y^X,J,Q,W,q,K)},z8=function(J,Q,Y,X,W,q,K){return IQ(Y^(Q|~X),J,Q,W,q,K)};kQ("v3",48,X7);var $7=function(){if(!TQ){if(TQ=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto),!TQ)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return TQ(eW)},TQ,eW=new Uint8Array(16);var S5=function(J,Q,Y){J=J||{};var X=J.random||(J.rng||$7)();if(X[6]=X[6]&15|64,X[8]=X[8]&63|128,Q){Y=Y||0;for(var W=0;W<16;++W)Q[Y+W]=X[W];return Q}return ZQ(X)};var J4=function(J,Q,Y,X){switch(J){case 0:return Q&Y^~Q&X;case 1:return Q^Y^X;case 2:return Q&Y^Q&X^Y&X;case 3:return Q^Y^X}},Z5=function(J,Q){return J<<Q|J>>>32-Q},q7=function(J){var Q=[1518500249,1859775393,2400959708,3395469782],Y=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof J==="string"){var X=unescape(encodeURIComponent(J));J=[];for(var W=0;W<X.length;++W)J.push(X.charCodeAt(W))}else if(!Array.isArray(J))J=Array.prototype.slice.call(J);J.push(128);var q=J.length/4+2,K=Math.ceil(q/16),V=new Array(K);for(var F=0;F<K;++F){var w=new Uint32Array(16);for(var O=0;O<16;++O)w[O]=J[F*64+O*4]<<24|J[F*64+O*4+1]<<16|J[F*64+O*4+2]<<8|J[F*64+O*4+3];V[F]=w}V[K-1][14]=(J.length-1)*8/Math.pow(2,32),V[K-1][14]=Math.floor(V[K-1][14]),V[K-1][15]=(J.length-1)*8&4294967295;for(var L=0;L<K;++L){var _=new Uint32Array(80);for(var h=0;h<16;++h)_[h]=V[L][h];for(var o=16;o<80;++o)_[o]=Z5(_[o-3]^_[o-8]^_[o-14]^_[o-16],1);var m=Y[0],b=Y[1],A0=Y[2],H0=Y[3],V0=Y[4];for(var y0=0;y0<80;++y0){var k0=Math.floor(y0/20),t0=Z5(m,5)+J4(k0,b,A0,H0)+V0+Q[k0]+_[y0]>>>0;V0=H0,H0=A0,A0=Z5(b,30)>>>0,b=m,m=t0}Y[0]=Y[0]+m>>>0,Y[1]=Y[1]+b>>>0,Y[2]=Y[2]+A0>>>0,Y[3]=Y[3]+H0>>>0,Y[4]=Y[4]+V0>>>0}return[Y[0]>>24&255,Y[0]>>16&255,Y[0]>>8&255,Y[0]&255,Y[1]>>24&255,Y[1]>>16&255,Y[1]>>8&255,Y[1]&255,Y[2]>>24&255,Y[2]>>16&255,Y[2]>>8&255,Y[2]&255,Y[3]>>24&255,Y[3]>>16&255,Y[3]>>8&255,Y[3]&255,Y[4]>>24&255,Y[4]>>16&255,Y[4]>>8&255,Y[4]&255]};kQ("v5",80,q7);class k5 extends Error{constructor(J,Q=""){super(Q);this.code=J,this.message=Q,this.name="Discord SDK Error"}}var I5=function(){return{disableConsoleLogOverride:!1}};var H7=function(J,Q,Y){const X=J[Q],W=J;if(!X)return;J[Q]=function(){const q=[].slice.call(arguments),K=""+q.join(" ");Y(Q,K),X.apply(W,q)}},G7=["log","warn","debug","info","error"];var Y4=function(){if(typeof window==="undefined")return[];return[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]},X4=function(){var J;return[(J=window.parent.opener)!==null&&J!==void 0?J:window.parent,document.referrer?document.referrer:"*"]},V1;(function(J){J[J.HANDSHAKE=0]="HANDSHAKE",J[J.FRAME=1]="FRAME",J[J.CLOSE=2]="CLOSE",J[J.HELLO=3]="HELLO"})(V1||(V1={}));var Q4=new Set(Y4());class T5{getTransfer(J){var Q;switch(J.cmd){case y.SUBSCRIBE:case y.UNSUBSCRIBE:return;default:return(Q=J.transfer)!==null&&Q!==void 0?Q:void 0}}constructor(J,Q){if(this.eventBus=new iQ,this.source=null,this.sourceOrigin="",this.pendingCommands=new Map,this.sendCommand=(K)=>{var V;if(this.source==null)throw new Error("Attempting to send message before initialization");const F=S5();return(V=this.source)===null||V===void 0||V.postMessage([V1.FRAME,Object.assign(Object.assign({},K),{nonce:F})],this.sourceOrigin,this.getTransfer(K)),new Promise((O,L)=>{this.pendingCommands.set(F,{resolve:O,reject:L})})},this.commands=J7(this.sendCommand),this.handleMessage=(K)=>{if(!Q4.has(K.origin))return;const V=K.data;if(!Array.isArray(V))return;const[F,w]=V;switch(F){case V1.HELLO:return;case V1.CLOSE:return this.handleClose(w);case V1.HANDSHAKE:return this.handleHandshake();case V1.FRAME:return this.handleFrame(w);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=J,this.configuration=Q!==null&&Q!==void 0?Q:I5(),typeof window!=="undefined")window.addEventListener("message",this.handleMessage);if(typeof window==="undefined"){this.frameId="",this.instanceId="",this.platform=I8.DESKTOP,this.guildId=null,this.channelId=null;return}const Y=new URLSearchParams(this._getSearch()),X=Y.get("frame_id");if(!X)throw new Error("frame_id query param is not defined");this.frameId=X;const W=Y.get("instance_id");if(!W)throw new Error("instance_id query param is not defined");this.instanceId=W;const q=Y.get("platform");if(!q)throw new Error("platform query param is not defined");else if(q!==I8.DESKTOP&&q!==I8.MOBILE)throw new Error(`Invalid query param "platform" of "${q}". Valid values are "${I8.DESKTOP}" or "${I8.MOBILE}"`);this.platform=q,this.guildId=Y.get("guild_id"),this.channelId=Y.get("channel_id"),[this.source,this.sourceOrigin]=X4(),this.addOnReadyListener(),this.handshake()}close(J,Q){var Y;window.removeEventListener("message",this.handleMessage);const X=S5();(Y=this.source)===null||Y===void 0||Y.postMessage([V1.CLOSE,{code:J,message:Q,nonce:X}],this.sourceOrigin)}async subscribe(J,Q,...Y){const[X]=Y,W=this.eventBus.listenerCount(J),q=this.eventBus.on(J,Q);if(Object.values(_0).includes(J)&&J!==_0.READY&&W===0)await this.sendCommand({cmd:y.SUBSCRIBE,args:X,evt:J});return q}async unsubscribe(J,Q,...Y){const[X]=Y;if(J!==_0.READY&&this.eventBus.listenerCount(J)===1)await this.sendCommand({cmd:y.UNSUBSCRIBE,evt:J,args:X});return this.eventBus.off(J,Q)}async ready(){if(this.isReady)return;else await new Promise((J)=>{this.eventBus.once(_0.READY,J)})}handshake(){var J;(J=this.source)===null||J===void 0||J.postMessage([V1.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(_0.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const J=(Q,Y)=>{this.commands.captureLog({level:Q,message:Y})};G7.forEach((Q)=>{H7(console,Q,J)})}handleClose(J){fY.parse(J)}handleHandshake(){}handleFrame(J){var Q,Y;let X;try{X=hY(J)}catch(W){console.error("Failed to parse",J),console.error(W);return}if(X.cmd==="DISPATCH")this.eventBus.emit(X.evt,X.data);else{if(X.evt===aJ){if(X.nonce!=null){(Q=this.pendingCommands.get(X.nonce))===null||Q===void 0||Q.reject(X.data),this.pendingCommands.delete(X.nonce);return}this.eventBus.emit("error",new k5(X.data.code,X.data.message))}if(X.nonce==null){console.error("Missing nonce",J);return}(Y=this.pendingCommands.get(X.nonce))===null||Y===void 0||Y.resolve(X),this.pendingCommands.delete(X.nonce)}}_getSearch(){return typeof window==="undefined"?"":window.location.search}}var M7=function(J,Q){var Y,X,W,q,K,V,F,w,O=J.constructor,L=O.precision;if(!J.s||!Q.s){if(!Q.s)Q=new O(J);return C0?f0(Q,L):Q}if(F=J.d,w=Q.d,K=J.e,W=Q.e,F=F.slice(),q=K-W,q){if(q<0)X=F,q=-q,V=w.length;else X=w,W=K,V=F.length;if(K=Math.ceil(L/v0),V=K>V?K+1:V+1,q>V)q=V,X.length=1;X.reverse();for(;q--;)X.push(0);X.reverse()}if(V=F.length,q=w.length,V-q<0)q=V,X=w,w=F,F=X;for(Y=0;q;)Y=(F[--q]=F[q]+w[q]+Y)/a0|0,F[q]%=a0;if(Y)F.unshift(Y),++W;for(V=F.length;F[--V]==0;)F.pop();return Q.d=F,Q.e=W,C0?f0(Q,L):Q},J1=function(J,Q,Y){if(J!==~~J||J<Q||J>Y)throw Error(JJ+J)},e8=function(J){var Q,Y,X,W=J.length-1,q="",K=J[0];if(W>0){q+=K;for(Q=1;Q<W;Q++){if(X=J[Q]+"",Y=v0-X.length,Y)q+=f1(Y);q+=X}if(K=J[Q],X=K+"",Y=v0-X.length,Y)q+=f1(Y)}else if(K===0)return"0";for(;K%10===0;)K/=10;return q+K},D7=function(J,Q){var Y,X,W,q,K,V,F=0,w=0,O=J.constructor,L=O.precision;if(l0(J)>16)throw Error(h5+l0(J));if(!J.s)return new O(E8);if(Q==null)C0=!1,V=L;else V=Q;K=new O(0.03125);while(J.abs().gte(0.1))J=J.times(K),w+=5;X=Math.log(e1(2,w))/Math.LN10*2+5|0,V+=X,Y=W=q=new O(E8),O.precision=V;for(;;){if(W=f0(W.times(J),V),Y=Y.times(++F),K=q.plus(O1(W,Y,V)),e8(K.d).slice(0,V)===e8(q.d).slice(0,V)){while(w--)q=f0(q.times(q),V);return O.precision=L,Q==null?(C0=!0,f0(q,L)):q}q=K}},l0=function(J){var Q=J.e*v0,Y=J.d[0];for(;Y>=10;Y/=10)Q++;return Q},f5=function(J,Q,Y){if(Q>J.LN10.sd()){if(C0=!0,Y)J.precision=Y;throw Error(f8+"LN10 precision limit exceeded")}return f0(new J(J.LN10),Q)},f1=function(J){var Q="";for(;J--;)Q+="0";return Q},tJ=function(J,Q){var Y,X,W,q,K,V,F,w,O,L=1,_=10,h=J,o=h.d,m=h.constructor,b=m.precision;if(h.s<1)throw Error(f8+(h.s?"NaN":"-Infinity"));if(h.eq(E8))return new m(0);if(Q==null)C0=!1,w=b;else w=Q;if(h.eq(10)){if(Q==null)C0=!0;return f5(m,w)}if(w+=_,m.precision=w,Y=e8(o),X=Y.charAt(0),q=l0(h),Math.abs(q)<1500000000000000){while(X<7&&X!=1||X==1&&Y.charAt(1)>3)h=h.times(J),Y=e8(h.d),X=Y.charAt(0),L++;if(q=l0(h),X>1)h=new m("0."+Y),q++;else h=new m(X+"."+Y.slice(1))}else return F=f5(m,w+2,b).times(q+""),h=tJ(new m(X+"."+Y.slice(1)),w-_).plus(F),m.precision=b,Q==null?(C0=!0,f0(h,b)):h;V=K=h=O1(h.minus(E8),h.plus(E8),w),O=f0(h.times(h),w),W=3;for(;;){if(K=f0(K.times(O),w),F=V.plus(O1(K,new m(W),w)),e8(F.d).slice(0,w)===e8(V.d).slice(0,w)){if(V=V.times(2),q!==0)V=V.plus(f5(m,w+2,b).times(q+""));return V=O1(V,new m(L),w),m.precision=b,Q==null?(C0=!0,f0(V,b)):V}V=F,W+=2}},K7=function(J,Q){var Y,X,W;if((Y=Q.indexOf("."))>-1)Q=Q.replace(".","");if((X=Q.search(/e/i))>0){if(Y<0)Y=X;Y+=+Q.slice(X+1),Q=Q.substring(0,X)}else if(Y<0)Y=Q.length;for(X=0;Q.charCodeAt(X)===48;)++X;for(W=Q.length;Q.charCodeAt(W-1)===48;)--W;if(Q=Q.slice(X,W),Q){if(W-=X,Y=Y-X-1,J.e=jJ(Y/v0),J.d=[],X=(Y+1)%v0,Y<0)X+=v0;if(X<W){if(X)J.d.push(+Q.slice(0,X));for(W-=v0;X<W;)J.d.push(+Q.slice(X,X+=v0));Q=Q.slice(X),X=v0-Q.length}else X-=W;for(;X--;)Q+="0";if(J.d.push(+Q),C0&&(J.e>fQ||J.e<-fQ))throw Error(h5+Y)}else J.s=0,J.e=0,J.d=[0];return J},f0=function(J,Q,Y){var X,W,q,K,V,F,w,O,L=J.d;for(K=1,q=L[0];q>=10;q/=10)K++;if(X=Q-K,X<0)X+=v0,W=Q,w=L[O=0];else{if(O=Math.ceil((X+1)/v0),q=L.length,O>=q)return J;w=q=L[O];for(K=1;q>=10;q/=10)K++;X%=v0,W=X-v0+K}if(Y!==void 0)q=e1(10,K-W-1),V=w/q%10|0,F=Q<0||L[O+1]!==void 0||w%q,F=Y<4?(V||F)&&(Y==0||Y==(J.s<0?3:2)):V>5||V==5&&(Y==4||F||Y==6&&(X>0?W>0?w/e1(10,K-W):0:L[O-1])%10&1||Y==(J.s<0?8:7));if(Q<1||!L[0]){if(F)q=l0(J),L.length=1,Q=Q-q-1,L[0]=e1(10,(v0-Q%v0)%v0),J.e=jJ(-Q/v0)||0;else L.length=1,L[0]=J.e=J.s=0;return J}if(X==0)L.length=O,q=1,O--;else L.length=O+1,q=e1(10,v0-X),L[O]=W>0?(w/e1(10,K-W)%e1(10,W)|0)*q:0;if(F)for(;;)if(O==0){if((L[0]+=q)==a0)L[0]=1,++J.e;break}else{if(L[O]+=q,L[O]!=a0)break;L[O--]=0,q=1}for(X=L.length;L[--X]===0;)L.pop();if(C0&&(J.e>fQ||J.e<-fQ))throw Error(h5+l0(J));return J},F7=function(J,Q){var Y,X,W,q,K,V,F,w,O,L,_=J.constructor,h=_.precision;if(!J.s||!Q.s){if(Q.s)Q.s=-Q.s;else Q=new _(J);return C0?f0(Q,h):Q}if(F=J.d,L=Q.d,X=Q.e,w=J.e,F=F.slice(),K=w-X,K){if(O=K<0,O)Y=F,K=-K,V=L.length;else Y=L,X=w,V=F.length;if(W=Math.max(Math.ceil(h/v0),V)+2,K>W)K=W,Y.length=1;Y.reverse();for(W=K;W--;)Y.push(0);Y.reverse()}else{if(W=F.length,V=L.length,O=W<V,O)V=W;for(W=0;W<V;W++)if(F[W]!=L[W]){O=F[W]<L[W];break}K=0}if(O)Y=F,F=L,L=Y,Q.s=-Q.s;V=F.length;for(W=L.length-V;W>0;--W)F[V++]=0;for(W=L.length;W>K;){if(F[--W]<L[W]){for(q=W;q&&F[--q]===0;)F[q]=a0-1;--F[q],F[W]+=a0}F[W]-=L[W]}for(;F[--V]===0;)F.pop();for(;F[0]===0;F.shift())--X;if(!F[0])return new _(0);return Q.d=F,Q.e=X,C0?f0(Q,h):Q},QJ=function(J,Q,Y){var X,W=l0(J),q=e8(J.d),K=q.length;if(Q){if(Y&&(X=Y-K)>0)q=q.charAt(0)+"."+q.slice(1)+f1(X);else if(K>1)q=q.charAt(0)+"."+q.slice(1);q=q+(W<0?"e":"e+")+W}else if(W<0){if(q="0."+f1(-W-1)+q,Y&&(X=Y-K)>0)q+=f1(X)}else if(W>=K){if(q+=f1(W+1-K),Y&&(X=Y-W-1)>0)q=q+"."+f1(X)}else{if((X=W+1)<K)q=q.slice(0,X)+"."+q.slice(X);if(Y&&(X=Y-K)>0){if(W+1===K)q+=".";q+=f1(X)}}return J.s<0?"-"+q:q},z7=function(J,Q){if(J.length>Q)return J.length=Q,!0},V7=function(J){var Q,Y,X;function W(q){var K=this;if(!(K instanceof W))return new W(q);if(K.constructor=W,q instanceof W){K.s=q.s,K.e=q.e,K.d=(q=q.d)?q.slice():q;return}if(typeof q==="number"){if(q*0!==0)throw Error(JJ+q);if(q>0)K.s=1;else if(q<0)q=-q,K.s=-1;else{K.s=0,K.e=0,K.d=[0];return}if(q===~~q&&q<1e7){K.e=0,K.d=[q];return}return K7(K,q.toString())}else if(typeof q!=="string")throw Error(JJ+q);if(q.charCodeAt(0)===45)q=q.slice(1),K.s=-1;else K.s=1;if($4.test(q))K7(K,q);else throw Error(JJ+q)}if(W.prototype=c,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.clone=V7,W.config=W.set=q4,J===void 0)J={};if(J){X=["precision","rounding","toExpNeg","toExpPos","LN10"];for(Q=0;Q<X.length;)if(!J.hasOwnProperty(Y=X[Q++]))J[Y]=this[Y]}return W.config(J),W},q4=function(J){if(!J||typeof J!=="object")throw Error(f8+"Object expected");var Q,Y,X,W=["precision",1,AJ,"rounding",0,8,"toExpNeg",(-Infinity),0,"toExpPos",0,Infinity];for(Q=0;Q<W.length;Q+=3)if((X=J[Y=W[Q]])!==void 0)if(jJ(X)===X&&X>=W[Q+1]&&X<=W[Q+2])this[Y]=X;else throw Error(JJ+Y+": "+X);if((X=J[Y="LN10"])!==void 0)if(X==Math.LN10)this[Y]=new this(X);else throw Error(JJ+Y+": "+X);return this},AJ=1e9,W4={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O7,C0=!0,f8="[DecimalError] ",JJ=f8+"Invalid argument: ",h5=f8+"Exponent out of range: ",jJ=Math.floor,e1=Math.pow,$4=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,E8,a0=1e7,v0=7,U7=9007199254740991,fQ=jJ(U7/v0),c={};c.absoluteValue=c.abs=function(){var J=new this.constructor(this);if(J.s)J.s=1;return J};c.comparedTo=c.cmp=function(J){var Q,Y,X,W,q=this;if(J=new q.constructor(J),q.s!==J.s)return q.s||-J.s;if(q.e!==J.e)return q.e>J.e^q.s<0?1:-1;X=q.d.length,W=J.d.length;for(Q=0,Y=X<W?X:W;Q<Y;++Q)if(q.d[Q]!==J.d[Q])return q.d[Q]>J.d[Q]^q.s<0?1:-1;return X===W?0:X>W^q.s<0?1:-1};c.decimalPlaces=c.dp=function(){var J=this,Q=J.d.length-1,Y=(Q-J.e)*v0;if(Q=J.d[Q],Q)for(;Q%10==0;Q/=10)Y--;return Y<0?0:Y};c.dividedBy=c.div=function(J){return O1(this,new this.constructor(J))};c.dividedToIntegerBy=c.idiv=function(J){var Q=this,Y=Q.constructor;return f0(O1(Q,new Y(J),0,1),Y.precision)};c.equals=c.eq=function(J){return!this.cmp(J)};c.exponent=function(){return l0(this)};c.greaterThan=c.gt=function(J){return this.cmp(J)>0};c.greaterThanOrEqualTo=c.gte=function(J){return this.cmp(J)>=0};c.isInteger=c.isint=function(){return this.e>this.d.length-2};c.isNegative=c.isneg=function(){return this.s<0};c.isPositive=c.ispos=function(){return this.s>0};c.isZero=function(){return this.s===0};c.lessThan=c.lt=function(J){return this.cmp(J)<0};c.lessThanOrEqualTo=c.lte=function(J){return this.cmp(J)<1};c.logarithm=c.log=function(J){var Q,Y=this,X=Y.constructor,W=X.precision,q=W+5;if(J===void 0)J=new X(10);else if(J=new X(J),J.s<1||J.eq(E8))throw Error(f8+"NaN");if(Y.s<1)throw Error(f8+(Y.s?"NaN":"-Infinity"));if(Y.eq(E8))return new X(0);return C0=!1,Q=O1(tJ(Y,q),tJ(J,q),q),C0=!0,f0(Q,W)};c.minus=c.sub=function(J){var Q=this;return J=new Q.constructor(J),Q.s==J.s?F7(Q,J):M7(Q,(J.s=-J.s,J))};c.modulo=c.mod=function(J){var Q,Y=this,X=Y.constructor,W=X.precision;if(J=new X(J),!J.s)throw Error(f8+"NaN");if(!Y.s)return f0(new X(Y),W);return C0=!1,Q=O1(Y,J,0,1).times(J),C0=!0,Y.minus(Q)};c.naturalExponential=c.exp=function(){return D7(this)};c.naturalLogarithm=c.ln=function(){return tJ(this)};c.negated=c.neg=function(){var J=new this.constructor(this);return J.s=-J.s||0,J};c.plus=c.add=function(J){var Q=this;return J=new Q.constructor(J),Q.s==J.s?M7(Q,J):F7(Q,(J.s=-J.s,J))};c.precision=c.sd=function(J){var Q,Y,X,W=this;if(J!==void 0&&J!==!!J&&J!==1&&J!==0)throw Error(JJ+J);if(Q=l0(W)+1,X=W.d.length-1,Y=X*v0+1,X=W.d[X],X){for(;X%10==0;X/=10)Y--;for(X=W.d[0];X>=10;X/=10)Y++}return J&&Q>Y?Q:Y};c.squareRoot=c.sqrt=function(){var J,Q,Y,X,W,q,K,V=this,F=V.constructor;if(V.s<1){if(!V.s)return new F(0);throw Error(f8+"NaN")}if(J=l0(V),C0=!1,W=Math.sqrt(+V),W==0||W==Infinity){if(Q=e8(V.d),(Q.length+J)%2==0)Q+="0";if(W=Math.sqrt(Q),J=jJ((J+1)/2)-(J<0||J%2),W==Infinity)Q="1e"+J;else Q=W.toExponential(),Q=Q.slice(0,Q.indexOf("e")+1)+J;X=new F(Q)}else X=new F(W.toString());Y=F.precision,W=K=Y+3;for(;;)if(q=X,X=q.plus(O1(V,q,K+2)).times(0.5),e8(q.d).slice(0,K)===(Q=e8(X.d)).slice(0,K)){if(Q=Q.slice(K-3,K+1),W==K&&Q=="4999"){if(f0(q,Y+1,0),q.times(q).eq(V)){X=q;break}}else if(Q!="9999")break;K+=4}return C0=!0,f0(X,Y)};c.times=c.mul=function(J){var Q,Y,X,W,q,K,V,F,w,O=this,L=O.constructor,_=O.d,h=(J=new L(J)).d;if(!O.s||!J.s)return new L(0);if(J.s*=O.s,Y=O.e+J.e,F=_.length,w=h.length,F<w)q=_,_=h,h=q,K=F,F=w,w=K;q=[],K=F+w;for(X=K;X--;)q.push(0);for(X=w;--X>=0;){Q=0;for(W=F+X;W>X;)V=q[W]+h[X]*_[W-X-1]+Q,q[W--]=V%a0|0,Q=V/a0|0;q[W]=(q[W]+Q)%a0|0}for(;!q[--K];)q.pop();if(Q)++Y;else q.shift();return J.d=q,J.e=Y,C0?f0(J,L.precision):J};c.toDecimalPlaces=c.todp=function(J,Q){var Y=this,X=Y.constructor;if(Y=new X(Y),J===void 0)return Y;if(J1(J,0,AJ),Q===void 0)Q=X.rounding;else J1(Q,0,8);return f0(Y,J+l0(Y)+1,Q)};c.toExponential=function(J,Q){var Y,X=this,W=X.constructor;if(J===void 0)Y=QJ(X,!0);else{if(J1(J,0,AJ),Q===void 0)Q=W.rounding;else J1(Q,0,8);X=f0(new W(X),J+1,Q),Y=QJ(X,!0,J+1)}return Y};c.toFixed=function(J,Q){var Y,X,W=this,q=W.constructor;if(J===void 0)return QJ(W);if(J1(J,0,AJ),Q===void 0)Q=q.rounding;else J1(Q,0,8);return X=f0(new q(W),J+l0(W)+1,Q),Y=QJ(X.abs(),!1,J+l0(X)+1),W.isneg()&&!W.isZero()?"-"+Y:Y};c.toInteger=c.toint=function(){var J=this,Q=J.constructor;return f0(new Q(J),l0(J)+1,Q.rounding)};c.toNumber=function(){return+this};c.toPower=c.pow=function(J){var Q,Y,X,W,q,K,V=this,F=V.constructor,w=12,O=+(J=new F(J));if(!J.s)return new F(E8);if(V=new F(V),!V.s){if(J.s<1)throw Error(f8+"Infinity");return V}if(V.eq(E8))return V;if(X=F.precision,J.eq(E8))return f0(V,X);if(Q=J.e,Y=J.d.length-1,K=Q>=Y,q=V.s,!K){if(q<0)throw Error(f8+"NaN")}else if((Y=O<0?-O:O)<=U7){W=new F(E8),Q=Math.ceil(X/v0+4),C0=!1;for(;;){if(Y%2)W=W.times(V),z7(W.d,Q);if(Y=jJ(Y/2),Y===0)break;V=V.times(V),z7(V.d,Q)}return C0=!0,J.s<0?new F(E8).div(W):f0(W,X)}return q=q<0&&J.d[Math.max(Q,Y)]&1?-1:1,V.s=1,C0=!1,W=J.times(tJ(V,X+w)),C0=!0,W=D7(W),W.s=q,W};c.toPrecision=function(J,Q){var Y,X,W=this,q=W.constructor;if(J===void 0)Y=l0(W),X=QJ(W,Y<=q.toExpNeg||Y>=q.toExpPos);else{if(J1(J,1,AJ),Q===void 0)Q=q.rounding;else J1(Q,0,8);W=f0(new q(W),J,Q),Y=l0(W),X=QJ(W,J<=Y||Y<=q.toExpNeg,J)}return X};c.toSignificantDigits=c.tosd=function(J,Q){var Y=this,X=Y.constructor;if(J===void 0)J=X.precision,Q=X.rounding;else if(J1(J,1,AJ),Q===void 0)Q=X.rounding;else J1(Q,0,8);return f0(new X(Y),J,Q)};c.toString=c.valueOf=c.val=c.toJSON=c[Symbol.for("nodejs.util.inspect.custom")]=function(){var J=this,Q=l0(J),Y=J.constructor;return QJ(J,Q<=Y.toExpNeg||Q>=Y.toExpPos)};var O1=function(){function J(X,W){var q,K=0,V=X.length;for(X=X.slice();V--;)q=X[V]*W+K,X[V]=q%a0|0,K=q/a0|0;if(K)X.unshift(K);return X}function Q(X,W,q,K){var V,F;if(q!=K)F=q>K?1:-1;else for(V=F=0;V<q;V++)if(X[V]!=W[V]){F=X[V]>W[V]?1:-1;break}return F}function Y(X,W,q){var K=0;for(;q--;)X[q]-=K,K=X[q]<W[q]?1:0,X[q]=K*a0+X[q]-W[q];for(;!X[0]&&X.length>1;)X.shift()}return function(X,W,q,K){var V,F,w,O,L,_,h,o,m,b,A0,H0,V0,y0,k0,t0,S0,M8,L8=X.constructor,V8=X.s==W.s?1:-1,e0=X.d,Z0=W.d;if(!X.s)return new L8(X);if(!W.s)throw Error(f8+"Division by zero");F=X.e-W.e,S0=Z0.length,k0=e0.length,h=new L8(V8),o=h.d=[];for(w=0;Z0[w]==(e0[w]||0);)++w;if(Z0[w]>(e0[w]||0))--F;if(q==null)H0=q=L8.precision;else if(K)H0=q+(l0(X)-l0(W))+1;else H0=q;if(H0<0)return new L8(0);if(H0=H0/v0+2|0,w=0,S0==1){O=0,Z0=Z0[0],H0++;for(;(w<k0||O)&&H0--;w++)V0=O*a0+(e0[w]||0),o[w]=V0/Z0|0,O=V0%Z0|0}else{if(O=a0/(Z0[0]+1)|0,O>1)Z0=J(Z0,O),e0=J(e0,O),S0=Z0.length,k0=e0.length;y0=S0,m=e0.slice(0,S0),b=m.length;for(;b<S0;)m[b++]=0;if(M8=Z0.slice(),M8.unshift(0),t0=Z0[0],Z0[1]>=a0/2)++t0;do{if(O=0,V=Q(Z0,m,S0,b),V<0){if(A0=m[0],S0!=b)A0=A0*a0+(m[1]||0);if(O=A0/t0|0,O>1){if(O>=a0)O=a0-1;if(L=J(Z0,O),_=L.length,b=m.length,V=Q(L,m,_,b),V==1)O--,Y(L,S0<_?M8:Z0,_)}else{if(O==0)V=O=1;L=Z0.slice()}if(_=L.length,_<b)L.unshift(0);if(Y(m,L,b),V==-1){if(b=m.length,V=Q(Z0,m,S0,b),V<1)O++,Y(m,S0<b?M8:Z0,b)}b=m.length}else if(V===0)O++,m=[0];if(o[w++]=O,V&&m[0])m[b++]=e0[y0]||0;else m=[e0[y0]],b=1}while((y0++<k0||m[0]!==void 0)&&H0--)}if(!o[0])o.shift();return h.e=F,f0(h,K?q+l0(h)+1:q)}}(),O7=V7(W4);E8=new O7(1);var A;(function(J){J.AED="aed",J.AFN="afn",J.ALL="all",J.AMD="amd",J.ANG="ang",J.AOA="aoa",J.ARS="ars",J.AUD="aud",J.AWG="awg",J.AZN="azn",J.BAM="bam",J.BBD="bbd",J.BDT="bdt",J.BGN="bgn",J.BHD="bhd",J.BIF="bif",J.BMD="bmd",J.BND="bnd",J.BOB="bob",J.BOV="bov",J.BRL="brl",J.BSD="bsd",J.BTN="btn",J.BWP="bwp",J.BYN="byn",J.BYR="byr",J.BZD="bzd",J.CAD="cad",J.CDF="cdf",J.CHE="che",J.CHF="chf",J.CHW="chw",J.CLF="clf",J.CLP="clp",J.CNY="cny",J.COP="cop",J.COU="cou",J.CRC="crc",J.CUC="cuc",J.CUP="cup",J.CVE="cve",J.CZK="czk",J.DJF="djf",J.DKK="dkk",J.DOP="dop",J.DZD="dzd",J.EGP="egp",J.ERN="ern",J.ETB="etb",J.EUR="eur",J.FJD="fjd",J.FKP="fkp",J.GBP="gbp",J.GEL="gel",J.GHS="ghs",J.GIP="gip",J.GMD="gmd",J.GNF="gnf",J.GTQ="gtq",J.GYD="gyd",J.HKD="hkd",J.HNL="hnl",J.HRK="hrk",J.HTG="htg",J.HUF="huf",J.IDR="idr",J.ILS="ils",J.INR="inr",J.IQD="iqd",J.IRR="irr",J.ISK="isk",J.JMD="jmd",J.JOD="jod",J.JPY="jpy",J.KES="kes",J.KGS="kgs",J.KHR="khr",J.KMF="kmf",J.KPW="kpw",J.KRW="krw",J.KWD="kwd",J.KYD="kyd",J.KZT="kzt",J.LAK="lak",J.LBP="lbp",J.LKR="lkr",J.LRD="lrd",J.LSL="lsl",J.LTL="ltl",J.LVL="lvl",J.LYD="lyd",J.MAD="mad",J.MDL="mdl",J.MGA="mga",J.MKD="mkd",J.MMK="mmk",J.MNT="mnt",J.MOP="mop",J.MRO="mro",J.MUR="mur",J.MVR="mvr",J.MWK="mwk",J.MXN="mxn",J.MXV="mxv",J.MYR="myr",J.MZN="mzn",J.NAD="nad",J.NGN="ngn",J.NIO="nio",J.NOK="nok",J.NPR="npr",J.NZD="nzd",J.OMR="omr",J.PAB="pab",J.PEN="pen",J.PGK="pgk",J.PHP="php",J.PKR="pkr",J.PLN="pln",J.PYG="pyg",J.QAR="qar",J.RON="ron",J.RSD="rsd",J.RUB="rub",J.RWF="rwf",J.SAR="sar",J.SBD="sbd",J.SCR="scr",J.SDG="sdg",J.SEK="sek",J.SGD="sgd",J.SHP="shp",J.SLL="sll",J.SOS="sos",J.SRD="srd",J.SSP="ssp",J.STD="std",J.SVC="svc",J.SYP="syp",J.SZL="szl",J.THB="thb",J.TJS="tjs",J.TMT="tmt",J.TND="tnd",J.TOP="top",J.TRY="try",J.TTD="ttd",J.TWD="twd",J.TZS="tzs",J.UAH="uah",J.UGX="ugx",J.USD="usd",J.USN="usn",J.USS="uss",J.UYI="uyi",J.UYU="uyu",J.UZS="uzs",J.VEF="vef",J.VND="vnd",J.VUV="vuv",J.WST="wst",J.XAF="xaf",J.XAG="xag",J.XAU="xau",J.XBA="xba",J.XBB="xbb",J.XBC="xbc",J.XBD="xbd",J.XCD="xcd",J.XDR="xdr",J.XFU="xfu",J.XOF="xof",J.XPD="xpd",J.XPF="xpf",J.XPT="xpt",J.XSU="xsu",J.XTS="xts",J.XUA="xua",J.YER="yer",J.ZAR="zar",J.ZMW="zmw",J.ZWL="zwl"})(A||(A={}));var G4={[A.AED]:2,[A.AFN]:2,[A.ALL]:2,[A.AMD]:2,[A.ANG]:2,[A.AOA]:2,[A.ARS]:2,[A.AUD]:2,[A.AWG]:2,[A.AZN]:2,[A.BAM]:2,[A.BBD]:2,[A.BDT]:2,[A.BGN]:2,[A.BHD]:3,[A.BIF]:0,[A.BMD]:2,[A.BND]:2,[A.BOB]:2,[A.BOV]:2,[A.BRL]:2,[A.BSD]:2,[A.BTN]:2,[A.BWP]:2,[A.BYR]:0,[A.BYN]:2,[A.BZD]:2,[A.CAD]:2,[A.CDF]:2,[A.CHE]:2,[A.CHF]:2,[A.CHW]:2,[A.CLF]:0,[A.CLP]:0,[A.CNY]:2,[A.COP]:2,[A.COU]:2,[A.CRC]:2,[A.CUC]:2,[A.CUP]:2,[A.CVE]:2,[A.CZK]:2,[A.DJF]:0,[A.DKK]:2,[A.DOP]:2,[A.DZD]:2,[A.EGP]:2,[A.ERN]:2,[A.ETB]:2,[A.EUR]:2,[A.FJD]:2,[A.FKP]:2,[A.GBP]:2,[A.GEL]:2,[A.GHS]:2,[A.GIP]:2,[A.GMD]:2,[A.GNF]:0,[A.GTQ]:2,[A.GYD]:2,[A.HKD]:2,[A.HNL]:2,[A.HRK]:2,[A.HTG]:2,[A.HUF]:2,[A.IDR]:2,[A.ILS]:2,[A.INR]:2,[A.IQD]:3,[A.IRR]:2,[A.ISK]:0,[A.JMD]:2,[A.JOD]:3,[A.JPY]:0,[A.KES]:2,[A.KGS]:2,[A.KHR]:2,[A.KMF]:0,[A.KPW]:2,[A.KRW]:0,[A.KWD]:3,[A.KYD]:2,[A.KZT]:2,[A.LAK]:2,[A.LBP]:2,[A.LKR]:2,[A.LRD]:2,[A.LSL]:2,[A.LTL]:2,[A.LVL]:2,[A.LYD]:3,[A.MAD]:2,[A.MDL]:2,[A.MGA]:2,[A.MKD]:2,[A.MMK]:2,[A.MNT]:2,[A.MOP]:2,[A.MRO]:2,[A.MUR]:2,[A.MVR]:2,[A.MWK]:2,[A.MXN]:2,[A.MXV]:2,[A.MYR]:2,[A.MZN]:2,[A.NAD]:2,[A.NGN]:2,[A.NIO]:2,[A.NOK]:2,[A.NPR]:2,[A.NZD]:2,[A.OMR]:3,[A.PAB]:2,[A.PEN]:2,[A.PGK]:2,[A.PHP]:2,[A.PKR]:2,[A.PLN]:2,[A.PYG]:0,[A.QAR]:2,[A.RON]:2,[A.RSD]:2,[A.RUB]:2,[A.RWF]:0,[A.SAR]:2,[A.SBD]:2,[A.SCR]:2,[A.SDG]:2,[A.SEK]:2,[A.SGD]:2,[A.SHP]:2,[A.SLL]:2,[A.SOS]:2,[A.SRD]:2,[A.SSP]:2,[A.STD]:2,[A.SVC]:2,[A.SYP]:2,[A.SZL]:2,[A.THB]:2,[A.TJS]:2,[A.TMT]:2,[A.TND]:3,[A.TOP]:2,[A.TRY]:2,[A.TTD]:2,[A.TWD]:2,[A.TZS]:2,[A.UAH]:2,[A.UGX]:0,[A.USD]:2,[A.USN]:2,[A.USS]:2,[A.UYI]:0,[A.UYU]:2,[A.UZS]:2,[A.VEF]:2,[A.VND]:0,[A.VUV]:0,[A.WST]:2,[A.XAF]:0,[A.XAG]:0,[A.XAU]:0,[A.XBA]:0,[A.XBB]:0,[A.XBC]:0,[A.XBD]:0,[A.XCD]:2,[A.XDR]:0,[A.XFU]:0,[A.XOF]:0,[A.XPD]:0,[A.XPF]:0,[A.XPT]:0,[A.XSU]:0,[A.XTS]:0,[A.XUA]:0,[A.YER]:2,[A.ZAR]:2,[A.ZMW]:2,[A.ZWL]:2};var eJ={exports:{}};eJ.exports;(function(J,Q){var Y=200,X="Expected a function",W="__lodash_hash_undefined__",q=1,K=2,V=Infinity,F=9007199254740991,w="[object Arguments]",O="[object Array]",L="[object Boolean]",_="[object Date]",h="[object Error]",o="[object Function]",m="[object GeneratorFunction]",b="[object Map]",A0="[object Number]",H0="[object Object]",V0="[object Promise]",y0="[object RegExp]",k0="[object Set]",t0="[object String]",S0="[object Symbol]",M8="[object WeakMap]",L8="[object ArrayBuffer]",V8="[object DataView]",e0="[object Float32Array]",Z0="[object Float64Array]",XJ="[object Int8Array]",x1="[object Int16Array]",c0="[object Int32Array]",WJ="[object Uint8Array]",C1="[object Uint8ClampedArray]",u8="[object Uint16Array]",J8="[object Uint32Array]",j8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b1=/^\w*$/,g1=/^\./,N8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B8=/[\\^$.*+?()[\]{}|]/g,h8=/\\(\\)?/g,$J=/^\[object .+?Constructor\]$/,R1=/^(?:0|[1-9]\d*)$/,E0={};E0[e0]=E0[Z0]=E0[XJ]=E0[x1]=E0[c0]=E0[WJ]=E0[C1]=E0[u8]=E0[J8]=!0,E0[w]=E0[O]=E0[L8]=E0[L]=E0[V8]=E0[_]=E0[h]=E0[o]=E0[b]=E0[A0]=E0[H0]=E0[y0]=E0[k0]=E0[t0]=E0[M8]=!1;var qJ=typeof vJ=="object"&&vJ&&vJ.Object===Object&&vJ,v8=typeof self=="object"&&self&&self.Object===Object&&self,h0=qJ||v8||Function("return this")(),$1=Q&&!Q.nodeType&&Q,L1=$1&&!0&&J&&!J.nodeType&&J,m1=L1&&L1.exports===$1,c8=m1&&qJ.process,y1=function(){try{return c8&&c8.binding("util")}catch(U){}}(),q1=y1&&y1.isTypedArray;function P8(U,R){var Z=-1,v=U?U.length:0;while(++Z<v)if(R(U[Z],Z,U)===!1)break;return U}function l8(U,R){var Z=-1,v=U?U.length:0;while(++Z<v)if(R(U[Z],Z,U))return!0;return!1}function G1(U){return function(R){return R==null?void 0:R[U]}}function GJ(U,R){var Z=-1,v=Array(U);while(++Z<U)v[Z]=R(Z);return v}function p1(U){return function(R){return U(R)}}function HJ(U,R){return U==null?void 0:U[R]}function t(U){var R=!1;if(U!=null&&typeof U.toString!="function")try{R=!!(U+"")}catch(Z){}return R}function x8(U){var R=-1,Z=Array(U.size);return U.forEach(function(v,$0){Z[++R]=[$0,v]}),Z}function z(U,R){return function(Z){return U(R(Z))}}function D(U){var R=-1,Z=Array(U.size);return U.forEach(function(v){Z[++R]=v}),Z}var N=Array.prototype,j=Function.prototype,S=Object.prototype,P=h0["__core-js_shared__"],k=function(){var U=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}(),T=j.toString,f=S.hasOwnProperty,e=S.toString,O0=RegExp("^"+T.call(f).replace(B8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q0=h0.Symbol,w0=h0.Uint8Array,Q8=z(Object.getPrototypeOf,Object),i0=Object.create,H1=S.propertyIsEnumerable,u1=N.splice,YQ=z(Object.keys,Object),kJ=zJ(h0,"DataView"),c1=zJ(h0,"Map"),W8=zJ(h0,"Promise"),IJ=zJ(h0,"Set"),C8=zJ(h0,"WeakMap"),K1=zJ(Object,"create"),TJ=l1(kJ),mQ=l1(c1),G=l1(W8),$=l1(IJ),H=l1(C8),M=Q0?Q0.prototype:void 0,B=M?M.valueOf:void 0,I=M?M.toString:void 0;function d(U){var R=-1,Z=U?U.length:0;this.clear();while(++R<Z){var v=U[R];this.set(v[0],v[1])}}function n(){this.__data__=K1?K1(null):{}}function R0(U){return this.has(U)&&delete this.__data__[U]}function M0(U){var R=this.__data__;if(K1){var Z=R[U];return Z===W?void 0:Z}return f.call(R,U)?R[U]:void 0}function a(U){var R=this.__data__;return K1?R[U]!==void 0:f.call(R,U)}function D0(U,R){var Z=this.__data__;return Z[U]=K1&&R===void 0?W:R,this}d.prototype.clear=n,d.prototype.delete=R0,d.prototype.get=M0,d.prototype.has=a,d.prototype.set=D0;function l(U){var R=-1,Z=U?U.length:0;this.clear();while(++R<Z){var v=U[R];this.set(v[0],v[1])}}function U0(){this.__data__=[]}function W0(U){var R=this.__data__,Z=XQ(R,U);if(Z<0)return!1;var v=R.length-1;if(Z==v)R.pop();else u1.call(R,Z,1);return!0}function G0(U){var R=this.__data__,Z=XQ(R,U);return Z<0?void 0:R[Z][1]}function C(U){return XQ(this.__data__,U)>-1}function L0(U,R){var Z=this.__data__,v=XQ(Z,U);if(v<0)Z.push([U,R]);else Z[v][1]=R;return this}l.prototype.clear=U0,l.prototype.delete=W0,l.prototype.get=G0,l.prototype.has=C,l.prototype.set=L0;function x0(U){var R=-1,Z=U?U.length:0;this.clear();while(++R<Z){var v=U[R];this.set(v[0],v[1])}}function b0(){this.__data__={hash:new d,map:new(c1||l),string:new d}}function F0(U){return WQ(this,U).delete(U)}function N0(U){return WQ(this,U).get(U)}function d8(U){return WQ(this,U).has(U)}function n8(U,R){return WQ(this,U).set(U,R),this}x0.prototype.clear=b0,x0.prototype.delete=F0,x0.prototype.get=N0,x0.prototype.has=d8,x0.prototype.set=n8;function $8(U){var R=-1,Z=U?U.length:0;this.__data__=new x0;while(++R<Z)this.add(U[R])}function d0(U){return this.__data__.set(U,W),this}function u0(U){return this.__data__.has(U)}$8.prototype.add=$8.prototype.push=d0,$8.prototype.has=u0;function O8(U){this.__data__=new l(U)}function b8(){this.__data__=new l}function fJ(U){return this.__data__.delete(U)}function i8(U){return this.__data__.get(U)}function KJ(U){return this.__data__.has(U)}function LX(U,R){var Z=this.__data__;if(Z instanceof l){var v=Z.__data__;if(!c1||v.length<Y-1)return v.push([U,R]),this;Z=this.__data__=new x0(v)}return Z.set(U,R),this}O8.prototype.clear=b8,O8.prototype.delete=fJ,O8.prototype.get=i8,O8.prototype.has=KJ,O8.prototype.set=LX;function NX(U,R){var Z=z1(U)||JY(U)?GJ(U.length,String):[],v=Z.length,$0=!!v;for(var r in U)if((R||f.call(U,r))&&!($0&&(r=="length"||r5(r,v))))Z.push(r);return Z}function XQ(U,R){var Z=U.length;while(Z--)if(e5(U[Z][0],R))return Z;return-1}function BX(U){return UJ(U)?i0(U):{}}var EX=CX();function AX(U,R){return U&&EX(U,R,HQ)}function i5(U,R){R=$Q(R,U)?[R]:o5(R);var Z=0,v=R.length;while(U!=null&&Z<v)U=U[qQ(R[Z++])];return Z&&Z==v?U:void 0}function jX(U){return e.call(U)}function PX(U,R){return U!=null&&R in Object(U)}function yQ(U,R,Z,v,$0){if(U===R)return!0;if(U==null||R==null||!UJ(U)&&!GQ(R))return U!==U&&R!==R;return _X(U,R,yQ,Z,v,$0)}function _X(U,R,Z,v,$0,r){var j0=z1(U),I0=z1(R),g0=O,o0=O;if(!j0)g0=N1(U),g0=g0==w?H0:g0;if(!I0)o0=N1(R),o0=o0==w?H0:o0;var D8=g0==H0&&!t(U),w8=o0==H0&&!t(R),s0=g0==o0;if(s0&&!D8)return r||(r=new O8),j0||YY(U)?s5(U,R,Z,v,$0,r):bX(U,R,g0,Z,v,$0,r);if(!($0&K)){var _8=D8&&f.call(U,"__wrapped__"),S8=w8&&f.call(R,"__wrapped__");if(_8||S8){var B1=_8?U.value():U,U1=S8?R.value():R;return r||(r=new O8),Z(B1,U1,v,$0,r)}}if(!s0)return!1;return r||(r=new O8),gX(U,R,Z,v,$0,r)}function SX(U,R,Z,v){var $0=Z.length,r=$0,j0=!v;if(U==null)return!r;U=Object(U);while($0--){var I0=Z[$0];if(j0&&I0[2]?I0[1]!==U[I0[0]]:!(I0[0]in U))return!1}while(++$0<r){I0=Z[$0];var g0=I0[0],o0=U[g0],D8=I0[1];if(j0&&I0[2]){if(o0===void 0&&!(g0 in U))return!1}else{var w8=new O8;if(v)var s0=v(o0,D8,g0,U,R,w8);if(!(s0===void 0?yQ(D8,o0,v,q|K,w8):s0))return!1}}return!0}function ZX(U){if(!UJ(U)||uX(U))return!1;var R=uQ(U)||t(U)?O0:$J;return R.test(l1(U))}function kX(U){return GQ(U)&&cQ(U.length)&&!!E0[e.call(U)]}function IX(U){if(typeof U=="function")return U;if(U==null)return rX;if(typeof U=="object")return z1(U)?hX(U[0],U[1]):fX(U);return aX(U)}function TX(U){if(!cX(U))return YQ(U);var R=[];for(var Z in Object(U))if(f.call(U,Z)&&Z!="constructor")R.push(Z);return R}function fX(U){var R=mX(U);if(R.length==1&&R[0][2])return t5(R[0][0],R[0][1]);return function(Z){return Z===U||SX(Z,U,R)}}function hX(U,R){if($Q(U)&&a5(R))return t5(qQ(U),R);return function(Z){var v=iX(Z,U);return v===void 0&&v===R?oX(Z,U):yQ(R,v,void 0,q|K)}}function vX(U){return function(R){return i5(R,U)}}function xX(U){if(typeof U=="string")return U;if(lQ(U))return I?I.call(U):"";var R=U+"";return R=="0"&&1/U==-V?"-0":R}function o5(U){return z1(U)?U:lX(U)}function CX(U){return function(R,Z,v){var $0=-1,r=Object(R),j0=v(R),I0=j0.length;while(I0--){var g0=j0[U?I0:++$0];if(Z(r[g0],g0,r)===!1)break}return R}}function s5(U,R,Z,v,$0,r){var j0=$0&K,I0=U.length,g0=R.length;if(I0!=g0&&!(j0&&g0>I0))return!1;var o0=r.get(U);if(o0&&r.get(R))return o0==R;var D8=-1,w8=!0,s0=$0&q?new $8:void 0;r.set(U,R),r.set(R,U);while(++D8<I0){var _8=U[D8],S8=R[D8];if(v)var B1=j0?v(S8,_8,D8,R,U,r):v(_8,S8,D8,U,R,r);if(B1!==void 0){if(B1)continue;w8=!1;break}if(s0){if(!l8(R,function(U1,d1){if(!s0.has(d1)&&(_8===U1||Z(_8,U1,v,$0,r)))return s0.add(d1)})){w8=!1;break}}else if(!(_8===S8||Z(_8,S8,v,$0,r))){w8=!1;break}}return r.delete(U),r.delete(R),w8}function bX(U,R,Z,v,$0,r,j0){switch(Z){case V8:if(U.byteLength!=R.byteLength||U.byteOffset!=R.byteOffset)return!1;U=U.buffer,R=R.buffer;case L8:if(U.byteLength!=R.byteLength||!v(new w0(U),new w0(R)))return!1;return!0;case L:case _:case A0:return e5(+U,+R);case h:return U.name==R.name&&U.message==R.message;case y0:case t0:return U==R+"";case b:var I0=x8;case k0:var g0=r&K;if(I0||(I0=D),U.size!=R.size&&!g0)return!1;var o0=j0.get(U);if(o0)return o0==R;r|=q,j0.set(U,R);var D8=s5(I0(U),I0(R),v,$0,r,j0);return j0.delete(U),D8;case S0:if(B)return B.call(U)==B.call(R)}return!1}function gX(U,R,Z,v,$0,r){var j0=$0&K,I0=HQ(U),g0=I0.length,o0=HQ(R),D8=o0.length;if(g0!=D8&&!j0)return!1;var w8=g0;while(w8--){var s0=I0[w8];if(!(j0?s0 in R:f.call(R,s0)))return!1}var _8=r.get(U);if(_8&&r.get(R))return _8==R;var S8=!0;r.set(U,R),r.set(R,U);var B1=j0;while(++w8<g0){s0=I0[w8];var U1=U[s0],d1=R[s0];if(v)var XY=j0?v(d1,U1,s0,R,U,r):v(U1,d1,s0,U,R,r);if(!(XY===void 0?U1===d1||Z(U1,d1,v,$0,r):XY)){S8=!1;break}B1||(B1=s0=="constructor")}if(S8&&!B1){var KQ=U.constructor,zQ=R.constructor;if(KQ!=zQ&&(("constructor"in U)&&("constructor"in R))&&!(typeof KQ=="function"&&KQ instanceof KQ&&typeof zQ=="function"&&zQ instanceof zQ))S8=!1}return r.delete(U),r.delete(R),S8}function WQ(U,R){var Z=U.__data__;return pX(R)?Z[typeof R=="string"?"string":"hash"]:Z.map}function mX(U){var R=HQ(U),Z=R.length;while(Z--){var v=R[Z],$0=U[v];R[Z]=[v,$0,a5($0)]}return R}function zJ(U,R){var Z=HJ(U,R);return ZX(Z)?Z:void 0}var N1=jX;if(kJ&&N1(new kJ(new ArrayBuffer(1)))!=V8||c1&&N1(new c1)!=b||W8&&N1(W8.resolve())!=V0||IJ&&N1(new IJ)!=k0||C8&&N1(new C8)!=M8)N1=function(U){var R=e.call(U),Z=R==H0?U.constructor:void 0,v=Z?l1(Z):void 0;if(v)switch(v){case TJ:return V8;case mQ:return b;case G:return V0;case $:return k0;case H:return M8}return R};function yX(U,R,Z){R=$Q(R,U)?[R]:o5(R);var v,$0=-1,j0=R.length;while(++$0<j0){var r=qQ(R[$0]);if(!(v=U!=null&&Z(U,r)))break;U=U[r]}if(v)return v;var j0=U?U.length:0;return!!j0&&cQ(j0)&&r5(r,j0)&&(z1(U)||JY(U))}function r5(U,R){return R=R==null?F:R,!!R&&(typeof U=="number"||R1.test(U))&&(U>-1&&U%1==0&&U<R)}function $Q(U,R){if(z1(U))return!1;var Z=typeof U;if(Z=="number"||Z=="symbol"||Z=="boolean"||U==null||lQ(U))return!0;return b1.test(U)||!j8.test(U)||R!=null&&U in Object(R)}function pX(U){var R=typeof U;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?U!=="__proto__":U===null}function uX(U){return!!k&&k in U}function cX(U){var R=U&&U.constructor,Z=typeof R=="function"&&R.prototype||S;return U===Z}function a5(U){return U===U&&!UJ(U)}function t5(U,R){return function(Z){if(Z==null)return!1;return Z[U]===R&&(R!==void 0||(U in Object(Z)))}}var lX=pQ(function(U){U=nX(U);var R=[];if(g1.test(U))R.push("");return U.replace(N8,function(Z,v,$0,r){R.push($0?r.replace(h8,"$1"):v||Z)}),R});function qQ(U){if(typeof U=="string"||lQ(U))return U;var R=U+"";return R=="0"&&1/U==-V?"-0":R}function l1(U){if(U!=null){try{return T.call(U)}catch(R){}try{return U+""}catch(R){}}return""}function pQ(U,R){if(typeof U!="function"||R&&typeof R!="function")throw new TypeError(X);var Z=function(){var v=arguments,$0=R?R.apply(this,v):v[0],r=Z.cache;if(r.has($0))return r.get($0);var j0=U.apply(this,v);return Z.cache=r.set($0,j0),j0};return Z.cache=new(pQ.Cache||x0),Z}pQ.Cache=x0;function e5(U,R){return U===R||U!==U&&R!==R}function JY(U){return dX(U)&&f.call(U,"callee")&&(!H1.call(U,"callee")||e.call(U)==w)}var z1=Array.isArray;function QY(U){return U!=null&&cQ(U.length)&&!uQ(U)}function dX(U){return GQ(U)&&QY(U)}function uQ(U){var R=UJ(U)?e.call(U):"";return R==o||R==m}function cQ(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=F}function UJ(U){var R=typeof U;return!!U&&(R=="object"||R=="function")}function GQ(U){return!!U&&typeof U=="object"}function lQ(U){return typeof U=="symbol"||GQ(U)&&e.call(U)==S0}var YY=q1?p1(q1):kX;function nX(U){return U==null?"":xX(U)}function iX(U,R,Z){var v=U==null?void 0:i5(U,R);return v===void 0?Z:v}function oX(U,R){return U!=null&&yX(U,R,PX)}function HQ(U){return QY(U)?NX(U):TX(U)}function sX(U,R,Z){var v=z1(U)||YY(U);if(R=IX(R),Z==null)if(v||UJ(U)){var $0=U.constructor;if(v)Z=z1(U)?new $0:[];else Z=uQ($0)?BX(Q8(U)):{}}else Z={};return(v?P8:AX)(U,function(r,j0,I0){return R(Z,r,j0,I0)}),Z}function rX(U){return U}function aX(U){return $Q(U)?G1(qQ(U)):vX(U)}J.exports=sX})(eJ,eJ.exports);var dG=eJ.exports;var iH=Q9(RX(),1);export{T5 as DiscordSDK,iH as Colyseus};export{T5 as a,iH as b};
